<!doctype html><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0,minimum-scale=1.0 name=viewport><link href=https://kura.gg hreflang=en rel=alternate><link href=https://kura.gg rel=dns-prefetch><link href=https://kura.gg/theme/css/eevee.min.css?1c9d8344 rel=stylesheet><script async src=https://kura.gg/theme/js/eevee.min.js?1841d254></script><link href=https://kura.gg/feeds/rss.xml rel=alternate title=kura.gg type=application/rss+xml><link href=https://kura.gg/feeds/atom.xml rel=alternate title=kura.gg type=application/atom+xml><meta content=kura.gg property=og:site_name><meta content=article property=og:type><meta content=kura.gg property=og:title><meta content=https://kura.gg/category/misc/index.html property=og:url><meta content=https://kura.gg/category/misc/index.png property=og:image><meta content=1920 property=og:image:width><meta content=1080 property=og:image:height><meta content=kura.gg property=twitter:title><meta content=https://kura.gg/category/misc/index.html property=twitter:url><meta content=https://kura.gg/category/misc/index.png property=twitter:image><meta content=summary_large_image property=twitter:card><meta content=1920 property=twitter:image:width><meta content=1080 property=twitter:image:height><link sizes="16x16 32x32 48x48 64x64 128x128 256x256" href=/favicon.png rel=icon type=image/png><link sizes="16x16 32x32 48x48 64x64 128x128 256x256" href=/favicon.ico rel=icon type=image/vnd.microsoft.icon><title>Articles in the 'misc' category</title><body><div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"><header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader><div class=mdl-layout__header-row><div class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only" aria-expanded=false role=button tabindex=0><i class=material-icons>î—’</i></div><span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top><a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a></h2> </span><div class=mdl-layout-spacer role=presentation></div><nav aria-label="Header navigation" class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement><a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons>î¡¯</i> Blackhole </a><a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons>î¡±</i> Eevee </a><a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons>î¡±</i> Hauntr </a><a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons>î¡±</i> Ghastly </a><a class="mdl-color-text--accent mdl-navigation__link" title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons>î¡¯</i> Pelican Plugins </a><a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons>î‚·</i> Contact </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>î€¯</i> Archives </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons>îƒ¥</i> RSS </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons>îƒ¥</i> Atom </a></nav></div></header><div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true><span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent">kura.gg</h2> </span><div class="mdl-navigation mdl-color--white"><nav aria-label="Header navigation" class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons> î¢Š </i> Home </a><a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons>î¡¯</i> Blackhole </a><a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons>î¡±</i> Eevee </a><a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons>î¡±</i> Hauntr </a><a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons>î¡±</i> Ghastly </a><a class="mdl-color-text--accent mdl-navigation__link" title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons>î¡¯</i> Pelican Plugins </a><a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons>î‚·</i> Contact </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>î€¯</i> Archives </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons>îƒ¥</i> RSS </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons>îƒ¥</i> Atom </a></nav></div></div><div class="eevee-ribbon mdl-color--primary-dark" role=presentation></div><main class="eevee-main mdl-layout__content"><div class="eevee-container mdl-grid"><div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone" role=presentation></div><div aria-label="Main content" class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="cloudflare http content-security-policy csp" itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2021-10-24T12:00:00+01:00 itemprop=datePublished> 24 Oct 2021 </time>Â â€” 3 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Playing with Cloudflare Workers: Injecting CSP nonces in toÂ responses'" href=https://kura.gg/2021/10/24/playing-with-cloudflare-workers-injecting-csp-nonce/ itemprop=url rel=bookmark> Playing with Cloudflare Workers: Injecting <span class=caps>CSP</span> nonces in toÂ responses </a></h2><section class=summary-content itemprop=articleBody><img alt="Mew, the PokÃ©mon" class=align-center src=/images/151_mew.png><p><tt class="docutils literal"><span class=pre>Content-Security-Policy</span></tt> (<span class=caps>CSP</span>) is an <span class=caps>HTTP</span> header returned by servers that gives the client some information on where resources can be loaded. For example setting <tt class="docutils literal"><span class=pre>script-src</span> 'self'</tt> in the <span class=caps>CSP</span> tells the client that it should only load script resources from the current origin. <tt class="docutils literal">'self'</tt> for this blog post would mean <tt class="docutils literal"><span class=pre>https://kura.gg</span></tt>.<p>To make loading those resources more secure you can use hashes or nonces within the <span class=caps>CSP</span> that the client can verify. Below I will show how I inject <span class=caps>CSP</span> nonces using Cloudflare Workers in to responses from myÂ origin.<div class=section id=security-considerations><h2>SecurityÂ considerations</h2><p><strong>Think of this as an academic exercise rather than something you shouldÂ do.</strong><p>This article will only explain how I inject the nonces in to responses from the origin. This isnâ€™t really secure given the method I use to do this is pretty dumb â€” it just adds a generated nonce to <tt class="docutils literal">&LTscript></tt> and <tt class="docutils literal">&LTlink <span class=pre>rel â€¦</span></tt></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="pokemon cloudflare http" itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2021-10-15T20:50:00+01:00 itemprop=datePublished> 15 Oct 2021 </time>Â â€” 10 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Playing with Cloudflare Workers: Adding a random PokÃ©mon to responseÂ headers'" href=https://kura.gg/2021/10/15/playing-with-cloudflare-workers-adding-random-pokemon-header/ itemprop=url rel=bookmark> Playing with Cloudflare Workers: Adding a random PokÃ©mon to responseÂ headers </a></h2><section class=summary-content itemprop=articleBody><img alt="Eevee, the PokÃ©mon" class=align-center src=/images/133_eevee.png><p>I was a little bored tonight and had a thought; â€œcan I find a way to add a random PokÃ©dex and itâ€™s National PokÃ©dex number as a header to requests on myÂ website?â€<p>The answer is - quite simply -Â â€œyesâ€.<div class=section id=cloudflare-workers><h2>CloudflareÂ Workers</h2><p>This website runs on Cloudflareâ€™s content delivery network and as such I have access to <a class="reference external" href=https://workers.cloudflare.com/>Cloudflare Workers</a>, allowing me to run arbitrary code at the edge for incomingÂ requests.<p>Setting up a worker that picks a random Pokemon and injects it as a header is very simple, add a worker, write the code and add some routing toÂ it.</div><div class=section id=try-it-yourself><h2>Try itÂ yourself</h2><pre class="code bash literal-block">
curl<span class=w> </span>-sI<span class=w> </span>https://kura.gg/<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span><span class=s2>"x-pokemon"</span><span class=w>
</span>x-pokemon:<span class=w> </span>Eevee<span class=w> </span><span class=o>(</span><span class=c1>#133)</span>
</pre></div><div class=section id=the-code><h2>TheÂ code</h2><pre class="code javascript literal-block">
<span class=kd>let</span><span class=w> </span><span class=nx>pokemon</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=w>
    </span><span class=s2>"Bulbasaur (#1)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Ivysaur (#2)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Venusaur (#3)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Charmander (#4)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Charmeleon (#5)"</span><span class=p>,</span><span class=w>
    </span><span class=s2>"Charizard (#6)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Squirtle (#7)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Wartortle (#8)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Blastoise (#9)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Caterpie (#10)"</span><span class=p>,</span><span class=w>
    </span><span class=s2>"Metapod (#11)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Butterfree (#12)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Weedle (#13)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Kakuna (#14)"</span><span class=p>,</span><span class=w> </span><span class=s2>"Beedrill (#15)"</span><span class=p>,</span><span class=w>
    </span><span class=s2>"Pidgey â€¦</span></pre></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=nginx,openresty,lua itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2020-08-30T17:30:00+01:00 itemprop=datePublished> 30 Aug 2020 </time>Â â€” 10 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Configuring upstreams dynamically with DNS inÂ OpenResty'" href=https://kura.gg/2020/08/30/configuring-upstreams-dynamically-with-dns-in-openresty/ itemprop=url rel=bookmark> Configuring upstreams dynamically with <span class=caps>DNS</span> inÂ OpenResty </a></h2><section class=summary-content itemprop=articleBody><p>This article is a continuation of <a class="reference external" href={filename}/retrying-dynamically-configured-upstreams-with-openresty.rst>retrying dynamically configured upstreams</a> that gives an example of how you can configure OpenResty to update your upstream backend servers dynamically with <span class=caps>DNS</span>.<div class=section id=breaking-down-init-worker-by-lua-block><h2>Breaking down <cite>init_worker_by_lua_block</cite></h2><p><cite>init_worker_by_lua_block</cite> can be used to make an nginx worker do some fun stuff. In this instance weâ€™re going to use it in conjunction with <cite>ngx.timer.every</cite> and the <cite>resty.dns.resolver</cite>.<p>Here is the full example of my <cite>init_worker_by_lua_block</cite>.<pre class="code lua literal-block">
<span class=n>init_worker_by_lua_block</span> <span class=p>{</span>
    <span class=n>_backend_servers</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=kd>local</span> <span class=kr>function</span> <span class=nf>update_dns</span><span class=p>()</span>
        <span class=c1>-- Set up the resolver</span>
        <span class=kd>local</span> <span class=n>resolver</span> <span class=o>=</span> <span class=nb>require</span> <span class=s2>"resty.dns.resolver"</span>
        <span class=kd>local</span> <span class=n>r</span><span class=p>,</span> <span class=n>err</span> <span class=o>=</span> <span class=n>resolver</span><span class=p>:</span><span class=n>new</span><span class=p>{</span>
            <span class=n>nameservers</span> <span class=o>=</span> <span class=p>{</span><span class=s2>"1.1.1.1"</span><span class=p>,</span> <span class=p>{</span><span class=s2>"1.0.0.1"</span><span class=p>,</span> <span class=mi>53</span><span class=p>}</span> <span class=p>},</span>  <span class=c1>-- Cloudflare</span>
            <span class=n>retrans</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span>  <span class=c1>-- 5 retransmissions on receive timeout</span>
            <span class=n>timeout</span> <span class=o>=</span> <span class=mi>1000</span><span class=p>,</span>  <span class=c1>-- 1 sec</span>
        <span class=p>}</span>
        <span class=kr>if</span> <span class=ow>not</span> <span class=n>r</span> <span class=kr>then</span>
            <span class=n>ngx</span><span class=p>.</span><span class=n>log</span><span class=p>(</span><span class=n>ngx</span><span class=p>.</span><span class=n>ERR</span><span class=p>,</span> <span class=s2>"failed to instantiate resolver: "</span><span class=p>,</span> <span class=n>err</span><span class=p>)</span>
            <span class=kr>return</span>
        <span class=kr>end</span>

        <span class=c1>-- Pull DNS records</span>
        <span class=c1>-- Use a hardcoded domain to make this example easier</span>
        <span class=kd>local</span> <span class=n>answers</span><span class=p>,</span> <span class=n>err</span><span class=p>,</span> <span class=n>tries</span> <span class=o>=</span> <span class=n>r</span><span class=p>:</span><span class=n>query</span><span class=p>(</span><span class=s2>"kura.gg â€¦</span></pre></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=nginx,openresty,lua itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2020-08-09T17:00:00+01:00 itemprop=datePublished> 09 Aug 2020 </time>Â â€” 3 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Retrying dynamically configured upstreams withÂ OpenResty'" href=https://kura.gg/2020/08/09/retrying-dynamically-configured-upstreams-with-openresty/ itemprop=url rel=bookmark> Retrying dynamically configured upstreams withÂ OpenResty </a></h2><section class=summary-content itemprop=articleBody><div class=section id=preamble><h2>Preamble</h2><p>OpenResty is a modified version of nginx with LuaJIT compiled in and many nginx options that can be controlled or modified via Lua. It is very commonly used in content delivery networks for itâ€™sÂ configurability.<p>As such, we use OpenResty and one of the features we use is the ability to dynamically modify upstream backends. To achieve this we use some logic within OpenResty to update upstreams based on <span class=caps>DNS</span> records. This means we can pull upstreams in and out of service via <span class=caps>DNS</span> records and have OpenResty update itâ€™s upstream proxy passing configuration without needing to push configs out to hundreds of servers and reloadÂ daemons.<p>The logic behind how we update the upstream backends is beyond the scope of this post, so letâ€™s just say we have a table of upstreamÂ servers.<pre class="code lua literal-block">
<span class=kd>local</span> <span class=n>upstream_servers</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>"10.0.0.1:443"</span><span class=p>,</span>
    <span class=s2>"10.0.0.2:443 â€¦</span></pre></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="Ian Murdock,Debian" itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2015-12-30T22:34:00+00:00 itemprop=datePublished> 30 Dec 2015 </time>Â â€” < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'FarewellÂ Ian'" href=https://kura.gg/2015/12/30/farewell-ian/ itemprop=url rel=bookmark> FarewellÂ Ian </a></h2><section class=summary-content itemprop=articleBody><div class=figure><img alt="Ian Murdock" src=/images/ian-murdock.png><p class=caption>Image by StephenÂ Shankland</div><p>Today news arrived that broke my heart, Ian Murdock has passed away. I never met Ian but he had an enormous impact on my life, through hisÂ work.<p>Debian has been my operating system of choice for many years now, it runs on all of my servers and my home computers. Ianâ€™s vision for the operating system is why I started using it and use it to this day. Itâ€™s why Iâ€™ve continued to work on the operating system and create packages of all of my work forÂ it.<p>Ian is, without a doubt, one of the biggest influences on my career and on myÂ life.<p>Farewell sir, you will beÂ missed.</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=tor itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2015-02-02T09:59:00+00:00 itemprop=datePublished> 02 Feb 2015 </time>Â â€” 3 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Running a Tor exit node is not as scary as itÂ sounds'" href=https://kura.gg/2015/02/02/running-a-tor-exit-node-is-not-as-scary-as-it-sounds/ itemprop=url rel=bookmark> Running a Tor exit node is not as scary as itÂ sounds </a></h2><section class=summary-content itemprop=articleBody><p>There is a variety of information out there about being a Tor exit node operator. Articles like <a class="reference external" href=https://testbit.eu/tor-exit-node-less-week/>this one</a> make the thought of running a Tor exit as scary prospect, itâ€™s understandable, some countries have laws that make running an exit scaryÂ too.<p>I run <a class="reference external" href=/tor/>a variety of relays</a> in various countries in this crazy World and thought Iâ€™d share myÂ experiences.<div class=section id=choosing-a-hosting-partner><h2>Choosing a hostingÂ partner</h2><p>I personally choose to use a third party hosting provider for my relays, rather than using colocation. I just find this is easier and I donâ€™t have to think about the hardware much atÂ all.<p>Finding a provider can be a pain, there is a decent list on the <a class="reference external" href=https://trac.torproject.org/projects/tor/wiki/doc/GoodBadISPs>Tor wiki</a>. I use some of the providers on this list but Iâ€™ve also found it can be a really good idea to just contact a provider and talk to them â€¦</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=pelican itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-06-09T18:00:00+01:00 itemprop=datePublished> 09 Jun 2014 </time>Â â€” < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Hauntr - A theme forÂ Pelican'" href=https://kura.gg/2014/06/09/hauntr/ itemprop=url rel=bookmark> Hauntr - A theme forÂ Pelican </a></h2><section class=summary-content itemprop=articleBody><div class="figure align-center"><img alt="Haunter, the evolved PokÃ©mon form of Gastly" src=/images/haunter.png><p class=caption>(Image by <a class="reference external" href=https://kawiku.deviantart.com/art/Haunter-350580512>Kawiku</a>)</div><div class=section id=introduction><h2>Introduction</h2><p>Hauntr is a minimal, lightweight and clean theme for the <a class="reference external" href=https://getpelican.com>Pelican</a> bloggingÂ platform.<p>It is named after the PokÃ©mon â€˜Haunterâ€™ because it is a modified version (you might say evolved) of my previous theme, <a class="reference external" href=/ghastly/>Ghastly</a>.</div><div class=section id=features><h2>Features</h2><ul class=simple><li>Disqus<li>Pygments<li><span class=caps>CSS</span> minifying usingÂ webassets<li>ShareÂ buttons<li>Custom 404Â page</ul></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,pypi,pip itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-03-03T21:40:00+00:00 itemprop=datePublished> 03 Mar 2014 </time>Â â€” 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'pypip.in most requestedÂ shields'" href=https://kura.gg/2014/03/03/pypip.in-most-requested-shields/ itemprop=url rel=bookmark> pypip.in most requestedÂ shields </a></h2><section class=summary-content itemprop=articleBody><div class=section id=pypip-in><h2>pypip.in</h2><p><a class="reference external" href=https://pypip.in/>pypip.in</a> is a website <a class="reference external" href=/2013/12/24/shields-for-pypi-packages/>I have written about before</a>. I decided I would look at the shields and see which ones were the most requested so far thisÂ year.<p>Due to the volumn of requests, I only keep 90 days of logs from nginx and no logs from Varnish, pypipin or the local version of buckler. nginx sits in front of Varnish so, even if Varnish responds with a cached version of the shield, a log line is still written to say it wasÂ requested.</div><div class=section id=top-20><h2>TopÂ 20</h2><ol class="arabic simple"><li><a class="reference external" href=https://docs.python-requests.org/en/latest/index.html>requests</a>Â [downloads]<li><a class="reference external" href=https://pillow.readthedocs.org/en/latest/>Pillow</a>Â [version]<li>PillowÂ [downloads]<li><a class="reference external" href=https://deeplearning.net/software/theano/>Theano</a>Â [version]<li>TheanoÂ [downloads]<li><a class="reference external" href=https://github.com/joke2k/faker>fake-factory</a>Â [downloads]<li><a class="reference external" href=https://livestreamer.tanuki.se/en/latest/install.html>livestreamer</a>Â [downloads]<li><a class="reference external" href=https://www.django-cms.org/en/>django-cms</a>Â [downloads]<li>django-cmsÂ [version]<li><a class="reference external" href=https://github.com/sivel/speedtest-cli>speedtest-cli</a>Â [version]<li>speedtest-cliÂ [downloads]<li><a class="reference external" href=https://boto.readthedocs.org/en/latest/>boto</a>Â [downloads]<li><a class="reference external" href=https://github.com/globocom/thumbor>thumbor</a>Â [downloads]<li>thumborÂ [version]<li><a class="reference external" href=https://www.pip-installer.org/en/latest/>pip</a>Â [version]<li><a class="reference external" href=https://pythonhosted.org/tweepy/html/>tweepy</a>Â [version]<li>tweepyÂ [downloads]<li><a class="reference external" href=https://django-allauth.readthedocs.org/en/latest/>django-allauth</a>Â [downloads]<li><a class="reference external" href=https://pymssql.org/>pymssql</a>Â [downloads]<li>pymssqlÂ [version]</ol><p>The first thing that struck me is that I actually hadnâ€™t heard of or used quite a lot of â€¦</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="google analytics,duckduckgo,open web analytics,owa" itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2013-09-17T18:00:00+01:00 itemprop=datePublished> 17 Sep 2013 </time>Â â€” 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Bye bye Google Analytics, hello self-hosted Open Web Analytics & DuckDuckGoÂ search'" href=https://kura.gg/2013/09/17/bye-bye-google-analytics-hello-self-hosted-open-web-analytics-duckduckgo-search/ itemprop=url rel=bookmark> Bye bye Google Analytics, hello self-hosted Open Web Analytics <span class=amp>&</span> DuckDuckGoÂ search </a></h2><section class=summary-content itemprop=articleBody><p>Today I can happily announce that <a class="reference external" href=https://github.com/kura/kura.gg/commit/5e82c14bab3922d81b430549dd258a2047d1367f>the Google Analytics tracking code has been removed from this website</a>.<div class=section id=goodybye-google-analytics-hello-open-web-analytics><h2>Goodybye Google Analytics <span class=amp>&</span> hello Open WebÂ Analytics</h2><p>Iâ€™ve been planning on doing it from a while because I do not like Google Analytics, I donâ€™t like being tracked and I actively stopped trying to use Google services for my ownÂ reasons.<p>The company I work for uses <a class="reference external" href=https://piwik.org/>Piwik</a> for some of our clients, I am not a fan of Piwik or how it works and does things. I did some research and found some service providers but their free options were limited or I felt they werenâ€™t a good fit, eventually I stumbled upon <a class="reference external" href=https://www.openwebanalytics.com>Open Web Analytics</a> and decided that it not only suited my purposes, but it meant servers I control would hold the analytical data, rather than some thirdÂ party.</div><div class=section id=hello-duckduckgo><h2>HelloÂ DuckDuckGo</h2><p>After launching the new version of â€¦</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=bruteforce,ssh itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2012-03-02T18:36:00+00:00 itemprop=datePublished> 02 Mar 2012 </time>Â â€” < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Visualised: 24 hours of SSH attacks against a singleÂ server'" href=https://kura.gg/2012/03/02/visualised-24-hours-of-ssh-attacks-against-a-single-server/ itemprop=url rel=bookmark> Visualised: 24 hours of <span class=caps>SSH</span> attacks against a singleÂ server </a></h2><section class=summary-content itemprop=articleBody><p>24 hours of <span class=caps>SSH</span> attacks against a single server, visualised on a world map usingÂ Python.<p>When a country stays lit up for more than 1 tick of the clock in the left hand corner it means that multiple attacks are happening from different <span class=caps>IP</span> addresses. An attacker is bannedÂ after;<ul class=simple><li>1 failed rootÂ login,<li>3 failed user logins (including invalid users)Â and<li>3 failed systemÂ logins.</ul><div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/37818131 webkitallowfullscreen width=800></iframe></div><div class=section id=direct-links><h2>DirectÂ links</h2><ul class=simple><li><a class="reference external" href=https://vimeo.com/37818131>Vimeo</a><li><a class="reference external" href=https://www.youtube.com/watch?v=S_p0G2oLuDU>YouTube</a> - older version of the video with yellow colouring instead ofÂ red.</ul></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,code_swarm,postgresql,python itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-13T23:01:00+00:00 itemprop=datePublished> 13 Feb 2010 </time>Â â€” < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'code_swarm - Apache, Python and PostgreSQL commitÂ visualization'" href=https://kura.gg/2010/02/13/code_swarm-apache-python-and-postgresql-commit-visualization/ itemprop=url rel=bookmark> code_swarm - Apache, Python and PostgreSQL commitÂ visualization </a></h2><section class=summary-content itemprop=articleBody><p>These videos are pretty old now and I had forgotten about them until a colleague tweeted about a Twitter code_swarm visualization which made meÂ remember.<p>So here they are, best viewed in full screenÂ mode.<div class=section id=apache><h2>Apache</h2><div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/1076588 webkitallowfullscreen width=800></iframe></div></div><div class=section id=python><h2>Python</h2><div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/1093745 webkitallowfullscreen width=800></iframe></div></div><div class=section id=postgresql><h2>PostgreSQL</h2><div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/1081680 webkitallowfullscreen width=800></iframe></div></div></section></article><div class=eevee-page-spacer role=presentation></div></div></div></main><div class="eevee-pagination__container eevee-container mdl-grid"><div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone" role=presentation></div><div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"><nav class="eevee-pagination mdl-cell mdl-cell--12-col" aria-label=Pagination itemscope itemtype=http://schema.org/SiteNavigationElement><div class=eevee-spacer></div></nav></div></div><footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement><div class=mdl-mega-footer--top-section><div class=mdl-mega-footer--drop-down-section><ul class=mdl-mega-footer--link-list><li><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></ul></div></div><div aria-label="Footer navigation" class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Menu</h1><ul class=mdl-mega-footer--link-list><li><a href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons>î‚·</i> Contact </a><li><a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>î€¯</i> Archives </a><li><a href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons>îƒ¥</i> RSS </a><li><a href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons>îƒ¥</i> Atom </a></ul></div><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Social</h1><ul class=mdl-mega-footer--link-list><li><a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i aria-hidden=true class=fa>ï‚›</i> Github </a><li><a href=https://noc.social/@kura itemprop=url rel=me title=@kura@noc.social> <i aria-hidden=true class=fa>ğŸ¦£</i> @kura@noc.social </a></ul></div><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Links</h1><ul class=mdl-mega-footer--link-list><li><a href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons>î¡¯</i> Blackhole </a><li><a href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons>î¡±</i> Eevee </a><li><a href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons>î¡±</i> Hauntr </a><li><a href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons>î¡±</i> Ghastly </a><li><a title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons>î¡¯</i> Pelican Plugins </a></ul></div></div><div class=mdl-mega-footer--bottom-section><div class=mdl-logo><a href=https://kura.gg itemprop=url rel=bookmark title=kura.gg> kura.gg </a></div><ul class="eevee-footer mdl-mega-footer--link-list"><li>Powered by love & rainbow sparkles.<li>Source code and content released under the <a title="MIT license" href=/license/>MIT license</a>.</ul></div></footer></div>