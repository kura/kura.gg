<!DOCTYPE html><!--

                                      |
                                     /|
                                   ,' |
                                  .   |
                                    | |
                                 ' '| |
                                / / | |
       _,.-\"\"--._              / /  | |
     ,'          `.           j '   ' '
   ,'              `.         ||   / ,                         ___..--,
  /                  \\        ' `.'`.-.,-\".  .       _..---\"\"'' __, ,'
 /                    \\        \\` .\"`      `\"'\\   ,'\"_..--''\"\"\"'.'.'
.                      .      .'-'             \\,' ,'         ,','
|                      |      ,`               ' .`         .' /
|                      |     /          ,\"`.  ' `-. _____.-' .'
'                      |..---.|,\".      | | .  .-'\"\"   __.,-'
 .                   ,'       ||,|      |.' |    |\"\"`'\"
  `-._   `._.._____  |        || |      `._,'    |
      `.   .       `\".     ,'\"| \"  `'           ,+.
        \\  '         |    '   |   .....        .'  `.
         .'          '     7  \".              ,'     \\
                   ,'      |    `..        _,'      F
                  .        |,      `'----''         |
                  |      ,\"j  /                   | '
                  `     |  | .                 | `,'
                   .    |  `.|                 |/
                    `-..'   ,'                .'
                            | \\             ,''
                            |  `,'.      _,' /
                            |    | ^.  .'   /
                             `-'.' j` V    /
                                   |      /
                                   |     /
                                   |   ,'
                                    `\"\"

//--><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=1.0"><link rel=alternate href=https://kura.gg hreflang=en><link rel=dns-prefetch href=https://kura.gg><link rel=stylesheet href=https://kura.gg/theme/css/eevee.min.css?1c9d8344><script async src=https://kura.gg/theme/js/eevee.min.js?1841d254></script><link href=https://kura.gg/feeds/rss.xml type=application/rss+xml rel=alternate title=kura.gg><link href=https://kura.gg/feeds/atom.xml type=application/atom+xml rel=alternate title=kura.gg><meta property=og:site_name content=kura.gg><meta property=og:type content=article><meta property=og:title content=kura.gg><meta property=og:url content=https://kura.gg/category/coding/index.html><meta property=og:image content=https://kura.gg/category/coding/index.png><meta property=og:image:width content=1920><meta property=og:image:height content=1080><meta property=twitter:title content=kura.gg><meta property=twitter:url content=https://kura.gg/category/coding/index.html><meta property=twitter:image content=https://kura.gg/category/coding/index.png><meta property=twitter:card content=summary_large_image><meta property=twitter:image:width content=1920><meta property=twitter:image:height content=1080><link rel=icon href=/favicon.png type=image/png sizes="16x16 32x32 48x48 64x64 128x128 256x256"><link rel=icon href=/favicon.ico type=image/vnd.microsoft.icon sizes="16x16 32x32 48x48 64x64 128x128 256x256"><title>Articles in the 'coding' category</title></head> <body> <div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"> <header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader> <div class=mdl-layout__header-row> <div aria-expanded=false role=button tabindex=0 class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only"> <i class=material-icons>&#xE5D2;</i> </div> <span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top> <a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a> </h2> </span> <div class=mdl-layout-spacer role=presentation></div> <nav class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/pelican-plugins itemprop=url rel=bookmark title="Pelican Plugins"> <i class=material-icons aria-hidden=true>&#xE86F;</i> Pelican Plugins </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </header> <div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true> <span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent"> kura.gg </h2> </span> <div class="mdl-navigation mdl-color--white"> <nav class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i class=material-icons aria-hidden=true> &#xE88A; </i> Home </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/pelican-plugins itemprop=url rel=bookmark title="Pelican Plugins"> <i class=material-icons aria-hidden=true>&#xE86F;</i> Pelican Plugins </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </div> <div class="eevee-ribbon mdl-color--primary-dark" role=presentation> </div> <main class="eevee-main mdl-layout__content"> <div class="eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col" aria-label="Main content"> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,python3.5,3.5,asyncio,email,smtp,mta> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2016-05-21T00:20:00+01:00 itemprop=datePublished> 21 May 2016 </time>&nbsp;-- 7 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2016/05/21/blackhole-2.0-or-how-i-learned-to-love-asyncio/ rel=bookmark title="Permalink to 'Blackhole 2.0: or, How I Learned to Love Asyncio'" itemprop=url> Blackhole 2.0: or, How I Learned to Love&nbsp;Asyncio </a> </h2> <section itemprop=articleBody class=summary-content> <p>A brief history of a tiny part of the Internet.</p> <p><a class="reference external" href=https://blackhole.io/1>Blackhole 1 — Blackhole as it was originally known</a> — was written on <a class="reference external" href=https://docs.python.org/2/whatsnew/2.7.html>Python 2.7</a>, briefly supporting <a class="reference external" href=https://docs.python.org/2.6/whatsnew/2.6.html>Python 2.6</a> for a time and also supporting early version of <a class="reference external" href=https://docs.python.org/3.2/whatsnew/3.2.html>Python 3</a>, <a class="reference external" href=https://www.pypy.org/features.html>PyPy 2</a> and <a class="reference external" href=https://www.pypy.org/features.html>PyPy 3</a>. Built on top of <a href=https://www.tornadoweb.org/en/stable/ class="reference external">Tornado</a>, it was asynchronous in a fashion and — quite simply — worked.</p> <p>The original prototype that became Blackhole was <a class="reference external" href=/simplemta>SimpleMTA</a> — a prototype that was created quickly, to serve a very simple testing purpose that I had for it.</p> <p>As I needed SimpleMTA to do more, I wrote Blackhole to accomplish that task. I’d been using Tornado a bit and wanted to experiment with it more. Building on top of Tornado created some oddities in how the program was designed and that always irked me.</p> <p>Between the time of the last 1.8.X and the 2.0 release, I experimented with …</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="python,digital ocean"> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-09-15T22:20:00+01:00 itemprop=datePublished> 15 Sep 2014 </time>&nbsp;-- 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/09/15/batfish-writing-a-digital-ocean-v2-api-wrapper/ rel=bookmark title="Permalink to 'batfish(1) - writing a Digital Ocean V2 API wrapper'" itemprop=url> batfish(1) - writing a Digital Ocean V2 <span class=caps>API</span>&nbsp;wrapper </a> </h2> <section itemprop=articleBody class=summary-content> <p>Batfish is a Python client and <span class=caps>API</span> wrapper for the <a href=https://developers.digitalocean.com/ class="reference external">Digital Ocean V2 <span class=caps>API</span></a>. It can be used as a library module in your own Python code but also provides a <span class=caps>CLI</span> interface and a shell-like command interpreter.</p> <p>Batfish is still under development and is considered in the Alpha stage. It is not yet available via PyPI but can be tried out using the <a class="reference external" href=https://github.com/kura/batfish>code available on GitHub</a>.</p> <p>There is a small amount of <a class="reference external" href=https://batfish.readthedocs.org>documentation available on Read The Docs</a> and tests are still being written to get as much coverage as possible and eaked out all of the bugs. You can find the <a class="reference external" href=https://travis-ci.org/kura/batfish>latest test status on Travis <span class=caps>CI</span></a>.</p> <div class=section id=module-interface> <h2>Module interface</h2> <div class=highlight><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=kn>from</span> <span class=nn>batfish</span> <span class=kn>import</span> <span class=n>Client</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>client</span> <span class=o>=</span> <span class=n>Client</span><span class=p>()</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>client</span><span class=o>.</span><span class=n>authorize</span><span class=p>(</span><span class=s2>"abcde12345"</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>client</span><span class=o>.</span><span class=n>droplets</span>
<span class=p>[</span><span class=o>&lt;</span><span class=n>Droplet</span> <span class=n>ego</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Droplet</span> <span class=n>fax</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Droplet</span> <span class=n>jet</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Droplet</span> <span class=n>ski</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>&gt;</span><span class=p>]</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>client</span><span class=o>.</span><span class=n>droplet_reboot</span><span class=p>(</span><span class=mi>1234</span><span class=p>)</span>
</pre></div> </div> <div class=section id=cli-interface> <h2><span class=caps>CLI</span> interface</h2> <div class=highlight><pre><span></span>$<span class=w> </span>batfish<span class=w> </span>authorize
abcde12345
$<span class=w> </span>batfish<span class=w> </span>droplets
ego …</pre></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,pypi> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-08-09T13:30:00+01:00 itemprop=datePublished> 09 Aug 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/08/09/yarg/ rel=bookmark title="Permalink to 'yarg(1) — A semi hard Cornish cheese, also queries PyPI'" itemprop=url> yarg(1) &#8212; A semi hard Cornish cheese, also queries&nbsp;PyPI </a> </h2> <section itemprop=articleBody class=summary-content> <p>Yarg is a PyPI client, it was written for <a class="reference external" href=https://pypip.in>pypip.in</a> and can search packages as well as read the <span class=caps>RSS</span> feeds from PyPI for new packages and new package version releases.</p> <div class=section id=search-interface> <h2>Search interface</h2> <div class=highlight><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>yarg</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>package</span> <span class=o>=</span> <span class=n>yarg</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>"yarg"</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>package</span><span class=o>.</span><span class=n>name</span>
<span class=sa>u</span><span class=s1>'yarg'</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>package</span><span class=o>.</span><span class=n>author</span>
<span class=n>Author</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=sa>u</span><span class=s1>'Kura'</span><span class=p>,</span> <span class=n>email</span><span class=o>=</span><span class=sa>u</span><span class=s1>'kura@kura.gg'</span><span class=p>)</span>
</pre></div> </div> <div class=section id=newest-packages-interface> <h2>Newest packages interface</h2> <div class=highlight><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>yarg</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span> <span class=o>=</span> <span class=n>yarg</span><span class=o>.</span><span class=n>newest_packages</span><span class=p>()</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span>
<span class=p>[</span><span class=o>&lt;</span><span class=n>Package</span> <span class=n>yarg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Package</span> <span class=n>gray</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Package</span> <span class=n>ragy</span><span class=o>&gt;</span><span class=p>]</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>name</span>
<span class=sa>u</span><span class=s1>'yarg'</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=o>.</span><span class=n>url</span>
<span class=sa>u</span><span class=s1>'https://pypi.python.org/pypi/yarg</span>
</pre></div> </div> <div class=section id=updated-packages-interface> <h2>Updated packages interface</h2> <div class=highlight><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>yarg</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span> <span class=o>=</span> <span class=n>yarg</span><span class=o>.</span><span class=n>latest_updated_packages</span><span class=p>()</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span>
<span class=p>[</span><span class=o>&lt;</span><span class=n>Package</span> <span class=n>yarg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Package</span> <span class=n>gray</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Package</span> <span class=n>ragy</span><span class=o>&gt;</span><span class=p>]</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>name</span>
<span class=sa>u</span><span class=s1>'yarg'</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>version</span>
<span class=sa>u</span><span class=s1>'0.1.2'</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>url</span>
<span class=sa>u</span><span class=s1>'https://pypi.python.org/pypi/yarg/0.1.2</span>
</pre></div> </div> <div class=section id=documentation> <h2>Documentation</h2> <p>Full documentation is at &lt;<a class="reference external" href=https://yarg.readthedocs.org>https://yarg.readthedocs.org</a>&gt;.</p> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,pypipins,pypip.in,shields> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-08-07T08:42:00+01:00 itemprop=datePublished> 07 Aug 2014 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/08/07/speeding-up-pypip.in-and-reducing-load-on-pypi/ rel=bookmark title="Permalink to 'Speeding up pypip.in and reducing load on PyPI'" itemprop=url> Speeding up pypip.in and reducing load on&nbsp;PyPI </a> </h2> <section itemprop=articleBody class=summary-content> <p>As you might expect, <a class="reference external" href=https://pypip.in>pypip.in</a> employes a fair amount of caching in the backend to control load on the imaging <span class=caps>API</span> and servers.</p> <p>For a long time, this cache was entirely managed by Varnish and was doing a fantastic job. Varnish has a hit:miss ratio of 10:1, for every 10 hits we get 1 miss. This is a fairly decent ratio when you consider where these images are displayed, how often they are viewed and that Varnish only caches the images for an hour.</p> <div class=section id=the-impact-on-pypi> <h2>The impact on PyPI</h2> <p>You will firstly need to understand how pypip.in used to work to understand the changes that were made and why they were made.</p> <p>Let’s set up the request first - a request for a shield is made and it is not present in the Varnish cache.</p> <pre class=literal-block>
Request received in API layer
              |
              v
    API layer queries PyPI
              |
              v
   PyPI …</pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,pypipins,pypip.in,shields> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-07-26T23:40:00+01:00 itemprop=datePublished> 26 Jul 2014 </time>&nbsp;-- 4 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/07/26/so-you-want-to-run-your-own-copy-of-pypip.in/ rel=bookmark title="Permalink to 'So you want to run your own copy of pypip.in?'" itemprop=url> So you want to run your own copy of&nbsp;pypip.in? </a> </h2> <section itemprop=articleBody class=summary-content> <p>While pypip.in is available under the <span class=caps>MIT</span> license on <a class="reference external" href=https://github.com/badges/pypipins>GitHub</a>, it’s not explained how to really use it properly.</p> <p>You can gather how to set-up the Python source of the project and get the <a class="reference external" href=https://twistedmatrix.com>Twisted</a> process running, this is totally reliant on using the <a class="reference external" href=https://img.shields.io>img.shields.io</a>.</p> <p>I decided to write this article explaining how to install your own copy of the shields nodejs code, pypipin itself and even cover off supervisord and Varnish too.</p> <div class=section id=shields-nodejs> <h2>shields <span class=amp>&amp;</span> nodejs</h2> <div class=section id=nodejs> <h3>nodejs</h3> <p>First of all you’ll need to get the latest source code copy of nodejs from the <a href=https://nodejs.org/download/ class="reference external">nodejs download page</a>.</p> <p>Extract it.</p> <div class=highlight><pre><span></span>tar -xvzf node-&lt;VERSION&gt;.tar.gz
</pre></div> <div class=highlight><pre><span></span>cd node-&lt;VERSION&gt;
</pre></div> <p>You’ll need to install the build tools, if you don’t have them already.</p> <div class=highlight><pre><span></span>sudo apt-get install build-essential
</pre></div> <p>And then make and install node.</p> <div class=highlight><pre><span></span>make &amp;&amp; sudo make install
</pre></div> </div> <div class=section id=redis> <h3>Redis</h3> <p>Redis is used to temporarily store PyPI responses.</p> <div class=highlight><pre><span></span>sudo …</pre></div></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,pypi,shields> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-07-25T01:00:00+01:00 itemprop=datePublished> 25 Jul 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/07/25/new-pypip.in-shields-and-styling/ rel=bookmark title="Permalink to 'New pypip.in shields and styling'" itemprop=url> New pypip.in shields and&nbsp;styling </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=supported-python-versions> <h2>Supported Python versions</h2> <p>This one is generated from the list of classifiers you provide to PyPI.</p> <p>If no Python version classifiers exist, it defaults to Python 2.7. This is because really, Python 3 is not widely used in production or supported by libraries.</p> </div> <div class=section id=python-implementation-s> <h2>Python implementation(s)</h2> <p>I think this one is really cool. Chances are you’re unlikely to get more than two supported implementations, like CPython and PyPy or CPython and Stackless.</p> <p>The shield uses the Python implementation classifiers to generate this shield. It supports all classifiers that PyPI supports (CPython, Jython, Iron Python, PyPy and Stackless) and defaults to CPython is none are set.</p> </div> <div class=section id=styling-changes> <h2>Styling changes</h2> <p>This change is simply because of the upgrade of the shields library. This allows us to use the default rounded badges like below.</p> <p>But also allow you to use a much nicer, cleaner, flat styling like the ones used on this …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=pelican,fontawesome,icons,python> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-06-08T11:30:00+01:00 itemprop=datePublished> 08 Jun 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/06/08/pelican-fontawesome/ rel=bookmark title="Permalink to 'Pelican FontAwesome'" itemprop=url> Pelican&nbsp;FontAwesome </a> </h2> <section itemprop=articleBody class=summary-content> <p>Pelican FontAwesome allows you to embed <a href=https://fortawesome.github.io/Font-Awesome/ class="reference external">FontAwesome</a> icons in your <span class=caps>RST</span> posts and pages.</p> <div class=section id=installation> <h2>Installation</h2> <p>To install pelican-fontawesome, simply install it from PyPI:</p> <div class=highlight><pre><span></span>$<span class=w> </span>pip<span class=w> </span>install<span class=w> </span>pelican-fontawesome
</pre></div> <p>Then enable it in your pelicanconf.py</p> <div class=highlight><pre><span></span><span class=n>PLUGINS</span> <span class=o>=</span> <span class=p>[</span>
    <span class=c1># ...</span>
    <span class=s1>'pelican_fontawesome'</span><span class=p>,</span>
    <span class=c1># ...</span>
<span class=p>]</span>
</pre></div> <p>Include the FontAwesome <span class=caps>CSS</span> in your base template.</p> <div class=highlight><pre><span></span><span class=p>&lt;</span><span class=nt>link</span> <span class=na>href</span><span class=o>=</span><span class=s>"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css"</span> <span class=na>rel</span><span class=o>=</span><span class=s>"stylesheet"</span><span class=p>&gt;</span>
</pre></div> </div> <div class=section id=usage> <h2>Usage</h2> <p>In your article or page, you simply need to add a reference to FontAwesome and then the icon name.</p> <div class=highlight><pre><span></span><span class=na>:fa:</span><span class=nv>`fa-github`</span>
</pre></div> <p>Which will result in:</p> <div class=highlight><pre><span></span><span class=p>&lt;</span><span class=nt>span</span> <span class=na>class</span><span class=o>=</span><span class=s>"fa fa-github"</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</pre></div> <p>And the user will see: <span class="fa fa-github"></span></p> <p>You can also increase the size, just like the <a href=https://fortawesome.github.io/Font-Awesome/examples/ class="reference external">FontAwesome documentation</a> shows.</p> <div class=highlight><pre><span></span><span class=na>:fa:</span><span class=nv>`fa-github fa-4x`</span>
</pre></div> <p>Will result in: <span class="fa fa-github fa-4x"></span></p> </div> <div class=section id=license> <h2>License</h2> <p><a class="reference external" href=https://opensource.org/licenses/MIT><span class=caps>MIT</span></a> license.</p> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,wheel> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-05-29T12:30:00+01:00 itemprop=datePublished> 29 May 2014 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/05/29/python-platform-and-version-dependent-wheel-build-bot-proposal/ rel=bookmark title="Permalink to 'Python platform and version dependent wheel build bot proposal'" itemprop=url> Python platform and version dependent wheel build bot&nbsp;proposal </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=abstract> <h2>Abstract</h2> <p>This proposal describes a build system for generating “wheel” archives and is very, very informal. This plan was drawn up after a random discussion with Jannis Liedel on Twitter and <span class=caps>IRC</span>.</p> <p>Wheel files can be platform and Python-version dependent, a way of generating these files automatically needs to be created and linked to the Packaging Index (PyPI.)</p> </div> <div class=section id=design> <h2>Design</h2> <p>After discussions with Jannis, I believe the simplest solution would likely be the best solution for this problem. As such, I feel that using a custom-built, lightweight solution makes more sense than using something like buildbot.</p> <div class=section id=technology> <h3>Technology</h3> <p>I feel the platform should leverage existing Python packages that are tried, tested and well used in the community. Therefore I feel we should use a combination of the following;</p> <ul class=simple> <li>RabbitMQ for queueing builds</li> <li>Celery for building wheels and</li> <li>pyenv for managing multiple Python versions</li> </ul> </div> <div class=section id=operating-systems> <h3>Operating systems</h3> <p>I lack any understanding of Windows or …</p></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="digital ocean,tugboat,bash,completion"> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-05-28T09:00:00+01:00 itemprop=datePublished> 28 May 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/05/28/tugboat-bash-completion/ rel=bookmark title="Permalink to 'tugboat-bash-completion'" itemprop=url> tugboat-bash-completion </a> </h2> <section itemprop=articleBody class=summary-content> <p>tugboat-bash-completion is a bash completion script the <a class="reference external" href=https://github.com/pearkes/tugboat>tugboat</a> <span class=caps>CLI</span> interface for the <a href=https://www.digitalocean.com/ class="reference external">Digital Ocean</a> <span class=caps>API</span>.</p> <div class=section id=downloads> <h2>Downloads</h2> <ul class=simple> <li><a class="reference external" href=https://github.com/kura/tugboat-bash-completion/tarball/master>.tar.gz</a></li> <li><a class="reference external" href=https://github.com/kura/tugboat-bash-completion/zipball/master>.zip</a></li> </ul> </div> <div class=section id=installation> <h2>Installation</h2> <div class=section id=debian-ubuntu> <h3>Debian/Ubuntu</h3> <div class=section id=install-manually> <h4>Install manually</h4> <p>Download the source file from above and run the commands below.</p> <div class=highlight><pre><span></span>sudo<span class=w> </span>make<span class=w> </span>install
.<span class=w> </span>~/bashrc
</pre></div> <p>Or you can do it the lazy way</p> <div class=highlight><pre><span></span>sudo<span class=w> </span>wget<span class=w> </span>https://github.com/kura/tugboat-bash-completion/blob/master/tugboat<span class=w> </span><span class=se>\</span>
<span class=w>    </span>-O<span class=w> </span>/etc/bash_completion.d/tugboat
.<span class=w> </span>~/bashrc
</pre></div> </div> </div> </div> <div class=section id=notes> <h2>Notes</h2> <p>It’s worth noting that any command that supports a FUZZY_MATCH will take a small amount of time to respond, due to querying the <span class=caps>API</span> for a list of either droplets or images.</p> <p>Commands that do a droplet lookup;</p> <ul class=simple> <li>destroy</li> <li>halt</li> <li>info</li> <li>password-reset</li> <li>rebuild</li> <li>resize</li> <li>restart</li> <li>snapshot</li> <li>ssh</li> <li>start</li> <li>wait</li> </ul> <p>An image lookup;</p> <ul class=simple> <li>destroy_image</li> <li>info_image</li> <li>rebuild</li> </ul> </div> <div class=section id=source> <h2>Source</h2> <p>The source can be found on <a class="reference external" href=https://github.com/kura/tugboat-bash-completion>GitHub</a>.</p> </div> <div class=section id=issues> <h2>Issues</h2> <p>Issues can be tracked using <a class="reference external" href=https://github.com/kura/tugboat-bash-completion/issues>GitHub Issues</a>.</p> </div> <div class=section id=license> <h2>License</h2> <p>This software is licensed using the <span class=caps>MIT</span> License. The license is provided in …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=pelican,ghost> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-05-26T23:00:00+01:00 itemprop=datePublished> 26 May 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/05/26/ghastly-a-theme-for-pelican/ rel=bookmark title="Permalink to 'Ghastly - A theme for Pelican'" itemprop=url> Ghastly - A theme for&nbsp;Pelican </a> </h2> <section itemprop=articleBody class=summary-content> <div class=figure> <img alt="Gastly, the Ghost Pokémon" src=/images/gastly.png> <p class=caption>(Image by <a class="reference external" href=https://raiba-art.deviantart.com/art/Gastly-294533100>Raiba-art</a>)</p> </div> <div class=section id=introduction> <h2>Introduction</h2> <p>I’d like to introduce Ghastly, a clean and minimal, lightweight theme for the <a class="reference external" href=https://getpelican.com>Pelican</a> blogging platform.</p> <p>Ghastly is based heavily off of Casper, the default theme for <a class="reference external" href=https://ghost.org>Ghost</a>.</p> <p>It’s name is derived from the D&amp;D monster, the Ghast and Gastly, the Pokémon.</p> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-01-26T01:50:00+00:00 itemprop=datePublished> 26 Jan 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/01/26/deadsnakes.sh/ rel=bookmark title="Permalink to 'deadsnakes.sh'" itemprop=url> deadsnakes.sh </a> </h2> <section itemprop=articleBody class=summary-content> <p>If you’re an Python developer that uses Ubuntu or even Debian, you have probably heard of Felix Krull’s <a class="reference external" href=https://launchpad.net/~fkrull/+archive/deadsnakes>deadsnakes</a> <span class=caps>PPA</span>.</p> <p>I find myself using it a lot and since I tend to destroy my environments quite frequently, I thought I’d save myself some time and write a simple shell script to install the <span class=caps>PPA</span>, the versions of Python I frequently use and, after messing up a machine — ignore the existing version of python.</p> <p>Gist removed. Sorry.</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,pypi,shields> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-12-24T14:07:00+00:00 itemprop=datePublished> 24 Dec 2013 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/12/24/shields-for-pypi-packages/ rel=bookmark title="Permalink to 'Shields for PyPI packages'" itemprop=url> Shields for PyPI&nbsp;packages </a> </h2> <section itemprop=articleBody class=summary-content> <p>Some time back in April 2013 I was bored and looking for a new project to keep my attention, if only for a short period of time.</p> <p>My colleague <a class="reference external" href=https://twitter.com/codeinthehole>@codeinthehole</a> had an idea but no time to implement it, this idea was to have shields like those of <a class="reference external" href=https://travis-ci.org>travis-ci</a> (shown below) but displaying package download counts.</p> <img alt="Status of blackhole on Travis CI" src="https://api.travis-ci.org/kura/blackhole.png?branch=master"> <div class=section id=tech-stack> <h2>Tech stack</h2> <p>From the very start I decided to use <a href=https://www.tornadoweb.org/en/stable/ class="reference external">Tornado framework</a>, although this may change in the future.</p> <p>The original plan was to generate the images using Pillow (<span class=caps>PIL</span>) and then simply cache them to disk. I decided it would make far more sense to do this using <a href=https://www.varnish-cache.org/ class="reference external">Varnish</a> and not have to worry about it working as expected.</p> </div> <div class=section id=manually-generating-the-images> <h2>Manually generating the images</h2> <p>The images were originally generated from a base template using Pillow, but sadly Python’s image manipulation is not very good, especially it’s text manipulation and the shields could …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=bash,dash,ps1,git> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-08-18T17:25:00+01:00 itemprop=datePublished> 18 Aug 2013 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/08/18/my-ps1-with-git-branch-new-files-staged-files-and-commit-status/ rel=bookmark title="Permalink to 'My $PS1 with git branch, new files, staged files and commit status'" itemprop=url> My $<span class=caps>PS1</span> with git branch, new files, staged files and commit&nbsp;status </a> </h2> <section itemprop=articleBody class=summary-content> <p>I love my prompt, always have and always will. I spend so much of my life in a terminal, usually with half a dozen mini terminals open in each tab. As such I like to tweak it and get it as perfect as possible for my life, needs and even mood.</p> <p>In the past I’ve had quite a large <span class=caps>PS1</span> that covers multiple lines and gives a lot of information, after having that <span class=caps>PS1</span> in one form or another for some time I decided it was time for a change, to a smaller <span class=caps>PS1</span> that takes up a lot less space.</p> <p>So here it is, the first image is my standard <span class=caps>PS1</span> when in a git repository, the red @ means a file hasn’t been added to Git, a blue @ means a tracked file has been modified but not stage and finally a green @ means a file is staged …</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,blackhole,setup.py,entry_points,mock,tests,testing> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-08-18T12:00:00+01:00 itemprop=datePublished> 18 Aug 2013 </time>&nbsp;-- 6 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/08/18/blackhole-1.8.0-development-mock-and-python-entry-points/ rel=bookmark title="Permalink to 'Blackhole 1.8.0 development, Mock and Python entry_points'" itemprop=url> Blackhole 1.8.0 development, Mock and Python&nbsp;entry_points </a> </h2> <section itemprop=articleBody class=summary-content> <p>Over the last week I’ve been doing a huge amount of refactoring of <a class="reference external" href=https://blackhole.io>Blackhole</a> as well as writing dozens of additional tests. To make Blackhole more testable I needed to make a big change to how the program is launched and controlled.</p> <div class=section id=setup-py-scripts-vs-entry-points> <h2>setup.py scripts vs. entry_points</h2> <p>Whenever I’ve written Python programs that require some kind of command line script I’ve always used distutils’ scripts, this can be seen <a class="reference external" href=https://github.com/kura/blackhole/blob/05c6647aeb25ecfcc17d9df535db330a68016a24/setup.py#L37-L39>in blackhole’s setup.py on GitHub</a> or in the three line example below.</p> <div class=highlight><pre><span></span><span class=n>scripts</span><span class=o>=</span><span class=p>[</span>
    <span class=s1>'blackhole/bin/blackhole'</span><span class=p>,</span>
<span class=p>],</span>
</pre></div> <p>In doing so, it allowed me to be lazy and write a lot of prodecural code in the main “binary” which made it pretty much impossible to test. You can also see that <a class="reference external" href=https://github.com/kura/blackhole/blob/bb6cccca3a75def324ed5cb64a32fd2e5773a038/blackhole/bin/blackhole>on GitHub in the main “binary”</a>.</p> <p>I’ve noticed that most people who write Python packages that have some kind of command line entry point use distutils …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,pelican,youtube,vimeo> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-08-09T17:38:00+01:00 itemprop=datePublished> 09 Aug 2013 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/08/09/writing-a-vimeo-and-youtube-plugin-for-pelican/ rel=bookmark title="Permalink to 'Writing a Vimeo and YouTube plugin for Pelican'" itemprop=url> Writing a Vimeo and YouTube plugin for&nbsp;Pelican </a> </h2> <section itemprop=articleBody class=summary-content> <p><a href=https://getpelican.com/ class="reference external">Pelican</a> is a Python-powered static blog generator that processes <a class="reference external" href=https://docutils.sourceforge.net/rst.html>ReStructuredText</a> and <a href=https://daringfireball.net/projects/markdown/ class="reference external">Markdown</a> articles and pages and converts them to <span class=caps>HTML</span>. I use Pelican to power this blog.</p> <p>There is a YouTube <span class=caps>RST</span> directive built in to Pelican core but it really shouldn’t exist there.</p> <p>I submitted a pull request for Pelican core to enable Vimeo videos in articles but that request was declined because it didn’t belong in the core. So I decided I would write it as a plugin instead and while I was doing it, also wrote a plugin for YouTube so that it could be removed from the core.</p> <p><a class="reference external" href=https://docs.getpelican.com/en/3.2/plugins.html#how-to-create-plugins>There is a decent amount of detail in the Pelican documentation on how to write plugins</a>, I’m not going to cover the whole process but I thought I would cover a little of what I did.</p> <div class=section id=adding-an-rst-directive> <h2>Adding an <span class=caps>RST</span> directive</h2> <p>Really all we’re doing …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,tornado,iostream,ssl,starttls,blackhole> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-07-31T13:36:00+01:00 itemprop=datePublished> 31 Jul 2013 </time>&nbsp;-- 4 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/07/31/writing-the-starttls-command-in-to-blackhole/ rel=bookmark title="Permalink to 'Writing the STARTTLS command in to Blackhole'" itemprop=url> Writing the <span class=caps>STARTTLS</span> command in to&nbsp;Blackhole </a> </h2> <section itemprop=articleBody class=summary-content> <p>Blackhole has always been able to handle unencrypted <span class=caps>SMTP</span> and for a long time it’s been able to handle encrypted <span class=caps>SMTP</span> via TLSv1.</p> <p>One thing Blackhole hasn’t been able to do until the 1.7.0 release is handle <cite><span class=caps>STARTTLS</span></cite>.</p> <p>In the past the <cite><span class=caps>STARTTLS</span></cite> command would cause Blackhole to return the standard <cite>250 <span class=caps>OK</span></cite> response but would continue to operate on unencrypted <span class=caps>SMTP</span>.</p> <p>I wanted to fix this and do it properly, but this meant learning how to do so with Tornado, which itself proved to be tricky. I ended up deciding to go to my local coding spot - the pub and hash it out.</p> <div class=section id=connection-stream> <h2>connection_stream</h2> <p>The first thing I had to do was refactor the code that created the instance of <cite>tornado.iostream.IOStream</cite> and <cite>tornado.iostream.SSLIOStream</cite> so that it didn’t actually do the ssl wrapping.</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>connection_stream</span><span class=p>(</span><span class=n>connection</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Detect which socket the connection …</span></pre></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,tornado,iostream,ssl,blackhole> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-07-29T20:00:00+01:00 itemprop=datePublished> 29 Jul 2013 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/ rel=bookmark title="Permalink to 'Wrapping a Tornado IOStream with SSL'" itemprop=url> Wrapping a Tornado IOStream with <span class=caps>SSL</span> </a> </h2> <section itemprop=articleBody class=summary-content> <p>As part of my effort to make <a href=https://blackhole.io/ class="reference external">Blackhole</a> as useful and usable as possible, I needed to be able to support <span class=caps>SSL</span>/<span class=caps>TLS</span> enabled connections.</p> <p>Tornado itself has two built-in IOStreams that help us do the job; the first is the standard <a class="reference external" href=https://www.tornadoweb.org/en/stable/iostream.html#tornado.iostream.IOStream>IOStream</a> and the second is the <a class="reference external" href=https://www.tornadoweb.org/en/stable/iostream.html#tornado.iostream.SSLIOStream>SSLIOStream</a>.</p> <p>With this in mind we simply need to spawn two sockets, by default these listen on port 25 for standard <span class=caps>SMTP</span> and port 465 for <span class=caps>SSL</span>/<span class=caps>TLS</span> encrypted <span class=caps>SMTP</span>. With these two sockets bound we’re then very simply able to listen for incoming connections on either socket and use <cite>socket.socket.getsockname()</cite> to figure out if the connection is to the encrypted or unencrypted socket.</p> <div class=section id=code> <h2>Code</h2> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>connection_stream</span><span class=p>(</span><span class=n>connection</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Detect which socket the connection is being made on,</span>
<span class=sd>    create and iostream for the connection, wrapping it</span>
<span class=sd>    in SSL if connected over the SSL socket.</span>

<span class=sd>    The parameter 'connection' is an instance …</span></pre></div></div> </section> </article> <div class=eevee-page-spacer role=presentation></div> </div> </div> </main> <div class="eevee-pagination__container eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"> <nav class="eevee-pagination mdl-cell mdl-cell--12-col" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label=Pagination> <div class=eevee-spacer></div> </nav> </div> </div> <footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement> <div class=mdl-mega-footer--top-section> <div class=mdl-mega-footer--drop-down-section> <ul class=mdl-mega-footer--link-list> <li> <a href=#top itemprop=url title="Back to the top of the page"> Back to the top of the page </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Footer navigation"> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Menu</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> </li> <li> <a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> </li> <li> <a href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Social</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i class=fa aria-hidden=true>&#xF09B;</i> Github </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Links</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> </li> <li> <a href=/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> </li> <li> <a href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> </li> <li> <a href=/pelican-plugins itemprop=url rel=bookmark title="Pelican Plugins"> <i class=material-icons aria-hidden=true>&#xE86F;</i> Pelican Plugins </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--bottom-section> <div class=mdl-logo> <a href=https://kura.gg rel=bookmark itemprop=url title=kura.gg> kura.gg </a> </div> <ul class="eevee-footer mdl-mega-footer--link-list"> <li>Powered by love &amp; rainbow sparkles.</li> <li>Source code and content released under the <a href=/license/ title="MIT license">MIT license</a>.</li> </ul> </div> </footer> </div> </body> </html>