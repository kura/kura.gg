<!doctype html><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0,minimum-scale=1.0 name=viewport><link href=https://kura.gg hreflang=en rel=alternate><link href=https://kura.gg rel=dns-prefetch><link href=https://kura.gg/theme/css/eevee.min.css?1c9d8344 rel=stylesheet><script async src=https://kura.gg/theme/js/eevee.min.js?1841d254></script><link href=https://kura.gg/feeds/rss.xml rel=alternate title=kura.gg type=application/rss+xml><link href=https://kura.gg/feeds/atom.xml rel=alternate title=kura.gg type=application/atom+xml><meta content=kura.gg property=og:site_name><meta content=article property=og:type><meta content=kura.gg property=og:title><meta content=https://kura.gg/category/tutorials/page/3/index.html property=og:url><meta content=https://kura.gg/category/tutorials/page/3/index.png property=og:image><meta content=1920 property=og:image:width><meta content=1080 property=og:image:height><meta content=kura.gg property=twitter:title><meta content=https://kura.gg/category/tutorials/page/3/index.html property=twitter:url><meta content=https://kura.gg/category/tutorials/page/3/index.png property=twitter:image><meta content=summary_large_image property=twitter:card><meta content=1920 property=twitter:image:width><meta content=1080 property=twitter:image:height><link sizes="16x16 32x32 48x48 64x64 128x128 256x256" href=/favicon.png rel=icon type=image/png><link sizes="16x16 32x32 48x48 64x64 128x128 256x256" href=/favicon.ico rel=icon type=image/vnd.microsoft.icon><title>Articles in the 'tutorials' category</title><body><div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"><header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader><div class=mdl-layout__header-row><div class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only" aria-expanded=false role=button tabindex=0><i class=material-icons></i></div><span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top><a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a></h2> </span><div class=mdl-layout-spacer role=presentation></div><nav aria-label="Header navigation" class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement><a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons></i> Blackhole </a><a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons></i> Eevee </a><a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons></i> Hauntr </a><a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons></i> Ghastly </a><a class="mdl-color-text--accent mdl-navigation__link" title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons></i> Pelican Plugins </a><a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons></i> Contact </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons></i> Archives </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons></i> RSS </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons></i> Atom </a></nav></div></header><div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true><span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent">kura.gg</h2> </span><div class="mdl-navigation mdl-color--white"><nav aria-label="Header navigation" class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons>  </i> Home </a><a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons></i> Blackhole </a><a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons></i> Eevee </a><a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons></i> Hauntr </a><a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons></i> Ghastly </a><a class="mdl-color-text--accent mdl-navigation__link" title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons></i> Pelican Plugins </a><a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons></i> Contact </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons></i> Archives </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons></i> RSS </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons></i> Atom </a></nav></div></div><div class="eevee-ribbon mdl-color--primary-dark" role=presentation></div><main class="eevee-main mdl-layout__content"><div class="eevee-container mdl-grid"><div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone" role=presentation></div><div aria-label="Main content" class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,fedora,install,nginx,redhat,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-04-02T16:54:00+01:00 itemprop=datePublished> 02 Apr 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Building nginx on Red Hat and Debian to RPM/DEB-style locations'" href=https://kura.gg/2010/04/02/building-nginx-on-red-hat-and-debian-to-rpmdeb-style-locations/ itemprop=url rel=bookmark> Building nginx on Red Hat and Debian to <span class=caps>RPM</span>/<span class=caps>DEB</span>-style locations </a></h2><section class=summary-content itemprop=articleBody><p>The title of this post is a bit stupid, but I honestly couldn’t think of any other way to write it…<p>When compiling nginx by hand, by default make install will push the binaries out to /usr/local/nginx and it doesn’t come with a start/stop script, understandably because it doesn’t know which <span class=caps>OS</span> it is going to be installed on etc etc.<p>Recently I was tasked with building nginx to an old Red Hat Enterprise Live 4 server with no yum installation, no nginx package in up2date and not being able to find an <span class=caps>RPM</span> that’s link wasn’t dead.<p>I’ve always felt that, being a Debian user, people think of me as only being able to use apt-get and if I’m feeling especially adventurous dpkg - to install applications. Some people know that I build .deb files in my spare time, but …</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="apache,load average" itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-03-27T19:29:00+00:00 itemprop=datePublished> 27 Mar 2010 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Apache internal dummy connection'" href=https://kura.gg/2010/03/27/apache-internal-dummy-connection/ itemprop=url rel=bookmark> Apache internal dummy connection </a></h2><section class=summary-content itemprop=articleBody><p>Recently I found that one of the servers I look after that runs a high profile site was generating semi-high load at traffic peaks. You could generally say that this would be understandable but the server was shooting up to a load of around 10 for a few seconds and with that load jump I was able to graph an increase of Apache processes on top of it. Again though, this would generally be considered normal, but knowing how well the server performs and having nginx sitting on top handling all static content I knew something wasn’t quite right.<p>Looking through the logs I found quite a lot of requests from a badly written spider which was generating a lot of server load when it hit the server, but after <span class=caps>IP</span> banning the culprit I also found several instances of Apache waking it’s child processes.<pre class=literal-block>
127.0.0 …</pre></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,monitoring,nagios,nrpe,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-03-21T21:55:00+00:00 itemprop=datePublished> 21 Mar 2010 </time> — 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Configuring Nagios to monitor remote load, disk, swap etc using NRPE'" href=https://kura.gg/2010/03/21/configuring-nagios-to-monitor-remote-load-disk-using-nrpe/ itemprop=url rel=bookmark> Configuring Nagios to monitor remote load, disk, swap etc using <span class=caps>NRPE</span> </a></h2><section class=summary-content itemprop=articleBody><p>I’ll assume you already have Nagios installed and configured and have an understanding of actually configuring and using Nagios.<div class=section id=remote-server-the-server-to-be-monitored><h2>Remote server — the server to be monitored</h2><p>First we’ll install the needed plugins and daemon on the <strong>remote</strong> server.<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>nagios-plugins<span class=w> </span>nagios-nrpe-server
</pre></div><p>Once installed, open up <strong>/etc/nagios/nrpe_local.cfg</strong><p>And place the following in it<pre class=literal-block>
allowed_hosts=NAGIOS.SERVER.IP,127.0.0.1

command[check_users]=/usr/lib/nagios/plugins/check_users -w 5 -c 10
command[check_load]=/usr/lib/nagios/plugins/check_load -w 15,10,5 -c 30,25,20
command[check_all_disks]=/usr/lib/nagios/plugins/check_disk -w 20 -c 10
command[check_zombie_procs]=/usr/lib/nagios/plugins/check_procs -w 5 -c 10 -s Z
command[check_total_procs]=/usr/lib/nagios/plugins/check_procs -w 150 -c 200
command[check_swap]=/usr/lib/nagios/plugins/check_swap -w 20 -c 10
</pre><p>Save and exit.<p>Commands need to explicitly be enabled on the …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,log,nginx,proxy itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-03-20T19:24:00+00:00 itemprop=datePublished> 20 Mar 2010 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Show IP in Apache logs from nginx reverse proxy'" href=https://kura.gg/2010/03/20/show-ip-in-apache-logs-from-nginx-reverse-proxy/ itemprop=url rel=bookmark> Show <span class=caps>IP</span> in Apache logs from nginx reverse proxy </a></h2><section class=summary-content itemprop=articleBody><p>This is a very quick blog to show you how to show a users <span class=caps>IP</span> address in your Apache access logs when the site in question is being reverse proxied to Apache through nginx.<p>You need the rpaf module for Apache, on Debian and Ubuntu this is simple to install<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>libapache2-mod-rpaf
sudo<span class=w> </span>a2enmod<span class=w> </span>rpaf
sudo<span class=w> </span>/etc/init.d/apache2<span class=w> </span>restart
</pre></div><p>This set of commands will do the following;<ol class="arabic simple"><li>Update apt package list<li>Install libapache2-mod-rpaf<li>Enable mod-rpaf<li>Gracefully restart Apache (doesn’t kill connections)</ol><p>Once installed you simple need to be sure to pass the correct headers through, so open up one of your nginx site configuration files and add the following within the server definition.<div class=highlight><pre><span></span><span class=k>proxy_set_header</span><span class=w> </span><span class=s>X-Forwarded-For</span><span class=w> </span><span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</pre></div><p>So you should have something that looks like this, but without the “… snip …”<div class=highlight><pre><span></span><span class=k>server</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1># ...snip...</span>
<span class=w>    </span><span class=kn>location</span><span class=w> </span><span class=s>/</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=c1># ...snip...</span>
<span class=w>        </span><span class=kn>proxy_set_header</span><span class=w> </span><span class=s>X-Forwarded-For</span><span class=w> </span><span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
<span class=w>        </span><span class=c1># ...snip...</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</pre></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=nginx itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-03-18T21:54:00+00:00 itemprop=datePublished> 18 Mar 2010 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'nginx - increase increase server_names_hash_bucket_size'" href=https://kura.gg/2010/03/18/nginx-increase-increase-server_names_hash_bucket_size/ itemprop=url rel=bookmark> nginx - increase increase server_names_hash_bucket_size </a></h2><section class=summary-content itemprop=articleBody><p>Today I ran in to something I’d never seen before when configuring nginx.<p>I ran the nginx config test, as I usually do before I restart it.<div class=highlight><pre><span></span>nginx<span class=w> </span>-t
</pre></div><p>But, the response I got was interesting<pre class=literal-block>
2010/03/18 21:16:09 [emerg] 12299#0: could not build the server_names_hash, you should increase server_names_hash_bucket_size: 32
2010/03/18 21:16:09 [emerg] 12299#0: the configuration file /etc/nginx/nginx.conf test failed
</pre><p>I found that one of the domain names I was using was over 32 characters in length, nginx’s default max length.<p>Thankfully the fix was simple.<div class=highlight><pre><span></span><span class=k>http</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1># ...snip...</span>
<span class=w>    </span><span class=kn>server_names_hash_bucket_size</span><span class=w> </span><span class=mi>64</span><span class=p>;</span>
<span class=w>    </span><span class=c1># ...snip...</span>
<span class=p>}</span>
</pre></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=awk,egrep,find,linux,ls,wc itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-03-17T11:19:00+00:00 itemprop=datePublished> 17 Mar 2010 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Finding files over a set size with find & awk'" href=https://kura.gg/2010/03/17/finding-files-over-a-set-size-with-find-and-awk/ itemprop=url rel=bookmark> Finding files over a set size with find <span class=amp>&</span> awk </a></h2><section class=summary-content itemprop=articleBody><p>This is a really great simple way to find files on the filesystem that are over 200k in size.<div class=highlight><pre><span></span>find<span class=w> </span>/path/to/directory/<span class=w> </span>-type<span class=w> </span>f<span class=w> </span>-size<span class=w> </span>+200k<span class=w> </span>-exec<span class=w> </span>ls<span class=w> </span>-lh<span class=w> </span><span class=o>{}</span><span class=w> </span><span class=p>;</span><span class=w> </span><span class=p>|</span><span class=w> </span>awk<span class=w> </span><span class=s1>'{ print $NF ": " $5 }'</span>
</pre></div><p>You can use the output of this to either store in a file, or pipe to wc for a count of lines<div class=highlight><pre><span></span>find<span class=w> </span>/path/to/directory/<span class=w> </span>-type<span class=w> </span>f<span class=w> </span>-size<span class=w> </span>+200k<span class=w> </span>-exec<span class=w> </span>ls<span class=w> </span>-lh<span class=w> </span><span class=o>{}</span><span class=w> </span><span class=p>;</span><span class=w> </span><span class=p>|</span><span class=w> </span>awk<span class=w> </span><span class=s1>'{ print $NF ": " $5 }'</span><span class=w> </span><span class=p>|</span><span class=w> </span>wc<span class=w> </span>-l
</pre></div><p>You can also use egrep before wc to look for specific filetypes<div class=highlight><pre><span></span>find<span class=w> </span>/path/to/directory/<span class=w> </span>-type<span class=w> </span>f<span class=w> </span>-size<span class=w> </span>+200k<span class=w> </span>-exec<span class=w> </span>ls<span class=w> </span>-lh<span class=w> </span><span class=o>{}</span><span class=w> </span><span class=p>;</span><span class=w> </span><span class=p>|</span><span class=w> </span>awk<span class=w> </span><span class=s1>'{ print $NF ": " $5 }'</span><span class=w> </span><span class=p>|</span><span class=w> </span>egrep<span class=w> </span><span class=s1>'(jpg|bmp|gif|tiff|jpeg)'</span><span class=w> </span><span class=p>|</span><span class=w> </span>wc<span class=w> </span>-l
</pre></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,certificate,crt,der,pem,ssl itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-03-03T17:26:00+00:00 itemprop=datePublished> 03 Mar 2010 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Convert DER certificate to PEM'" href=https://kura.gg/2010/03/03/convert-der-certificate-to-pem/ itemprop=url rel=bookmark> Convert <span class=caps>DER</span> certificate to <span class=caps>PEM</span> </a></h2><section class=summary-content itemprop=articleBody><p>Some times as an administrator you will be given a certificate from a third party that will be in the <span class=caps>DER</span> format, which cannot be loaded in to Apache.<p>Converting it is a simple process:<div class=highlight><pre><span></span>openssl<span class=w> </span>x509<span class=w> </span>-in<span class=w> </span>certificate.crt<span class=w> </span>-inform<span class=w> </span>DER<span class=w> </span>-out<span class=w> </span>certificate.pem<span class=w> </span>-outform<span class=w> </span>PEM
</pre></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=less,linux,unix itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-03-01T21:30:00+00:00 itemprop=datePublished> 01 Mar 2010 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'less is more'" href=https://kura.gg/2010/03/01/less-is-more/ itemprop=url rel=bookmark> less is more </a></h2><section class=summary-content itemprop=articleBody><p>To my surprise I have found that there are still people out there who use <em>“more”</em>, this has shocked me.<p>So this is a very, very short blog post to tell those who visit that <strong>less is more and more is less</strong>.<div class=section id=what><h2>What?</h2><p>less is a command that comes as standard in almost all Linux distros now, and unlike more it actually has the ability to do backwards and forwards scrolling with Page Up, Page Down, arrow keys and spacebar. It’s a fantastic little command!<div class=highlight><pre><span></span>less<span class=w> </span>FILE
</pre></div><p>Very simple to use and an all round great tool. The best thing about less is it doesn’t need to read the whole file in one go, it reads in chunks. Opening a <span class=caps>100MB</span> log file is simple with less!</div><div class=section id=useful-options><h2>Useful options</h2><table class=docutils><thead><tr><th class=head><strong>-g</strong><th class=head>Highlights just the current match of any searched string,<tbody><tr><td><strong>-I</strong><td>Case-insensitive searches,<tr><td><strong>-M</strong><td>Show a more detailed prompt …</table></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,howto,ssh,ssh_config,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-18T21:03:00+00:00 itemprop=datePublished> 18 Feb 2010 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: SSH config on Debian/Ubuntu'" href=https://kura.gg/2010/02/18/howto-ssh-config-on-debian-ubuntu/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: <span class=caps>SSH</span> config on Debian/Ubuntu </a></h2><section class=summary-content itemprop=articleBody><p>Today I <em>finally</em> got round to setting up my local user ssh config on my new work laptop and figured I’d do a quick write up on it and it’s uses.<p>You can create a configuration file in your home directory that will override the options set in your machine-wide config.<div class=section id=your-configuration-files><h2>Your configuration files</h2><p>Your local config can be found/created in:<blockquote>~/.ssh/config</blockquote><p>And your machine-wide configuration is in:<blockquote>/etc/ssh/ssh_config</blockquote><p>Rather than editing my ssh config across my whole machine I’m doing it for my local user specifically.<p>Reading the man page for ssh_config will give you a full list of available options, below I will outline several that I use and find very useful.</div><div class=section id=your-host-definitions><h2>Your host definitions</h2><p>First things first, we need to define a host.<pre class=literal-block>
Host host.domain.com
</pre><p>Each host you add to your config will need to have a host …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="cfdisk,debian,esx,howto,logical volume management,lvm,lvm2,partition,ubuntu,vmware" itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-16T18:20:00+00:00 itemprop=datePublished> 16 Feb 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: Guest Virtual Machine disk extend online with Debian/Ubuntu, LVM2 and VMWare ESX'" href=https://kura.gg/2010/02/16/howto-guest-virtual-machine-disk-extend-online-with-debian-ubuntu-lvm2-and-vmware-esx/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: Guest Virtual Machine disk extend online with Debian/Ubuntu, <span class=caps>LVM2</span> and VMWare <span class=caps>ESX</span> </a></h2><section class=summary-content itemprop=articleBody><p>Over the last two days I’ve had the interesting task of online some VMs from clones and increasing their disk space to accommodate a mass of user uploaded content. I’ve done this before but never actually with an Logical Volume Management (<span class=caps>LVM</span>) disk.<p>My first approach, like a fool, was to clone the <span class=caps>VM</span> from source and boot it from a remotely mounted GParted <span class=caps>ISO</span>, this didn’t actually go as expected and I was unable to add it to the <span class=caps>LVM</span>, I found a nice guide online and consulted a colleague because I knew he’d done something similar recently. After the first successful size increase I realised I was able to do it without ever rebooting the machine itself, this is accomplished by actually adding an extra disk to the <span class=caps>VM</span>, this disk can then be partition with cfdisk and then added to the <span class=caps>LVM</span>, thus …</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="apache,cache,debian,howto,load balancing,nginx,ubuntu,wordpress" itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-14T14:27:00+00:00 itemprop=datePublished> 14 Feb 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'More nginx proxy_cache optimizations and nginx load balancing'" href=https://kura.gg/2010/02/14/more-nginx-proxy_cache-optimizations-and-nginx-load-balancing/ itemprop=url rel=bookmark> More nginx proxy_cache optimizations and nginx load balancing </a></h2><section class=summary-content itemprop=articleBody><p>This is yet another follow up to post to several previous posts about using nginx as a reverse proxy with caching. It is actually a direct addition to my post from a week or so ago which outlined how to actually using nginx’s proxy caching feature which can be read here — <a class="reference external" href=https://syslog.tv/2010/02/07/nginx-proxy_cache-and-explained-benchmarked/>/2010/02/07/nginx-proxy_cache-and-explained-benchmarked/</a>.<div class=section id=even-more-changes><h2>Even more changes?</h2><p>Yes, even more changes, these are basic changes that are there to improve the caching capabilities and also implement load balancing.<div class=section id=cache-changes><h3>Cache changes</h3><p>The first set of changes are in the main nginx configuration file<blockquote>/etc/nginx/nginx.conf</blockquote><p>These changes basically just change the proxy_cache key<div class=highlight><pre><span></span><span class=k>proxy_cache_path</span><span class=w> </span><span class=s>/var/www/nginx_cache</span><span class=w> </span><span class=s>levels=1:2</span><span class=w> </span><span class=s>keys_zone=cache:8m</span><span class=w> </span><span class=s>max_size=1000m</span><span class=w> </span><span class=s>inactive=600m</span><span class=p>;</span>
<span class=k>proxy_temp_path</span><span class=w> </span><span class=s>/tmp/nginx</span><span class=p>;</span>
<span class=k>proxy_cache_key</span><span class=w> </span><span class=s>"</span><span class=nv>$scheme://$host$request_uri"</span><span class=p>;</span>
</pre></div><p>I’ve decided to put the temporary caches file in to an nginx specific directory, just to separate them from other cache files …</div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,dkim,domainkeys,howto,mail,postfix,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-12T19:08:00+00:00 itemprop=datePublished> 12 Feb 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: DomainKeys with Postfix on Debian/Ubuntu'" href=https://kura.gg/2010/02/12/howto-domainkeys-with-postfix-on-debian-ubuntu/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: DomainKeys with Postfix on Debian/Ubuntu </a></h2><section class=summary-content itemprop=articleBody><p><strong>I have written a much newer, clearer and better article on DomainKeys signing email `here`_.</strong><div class=section id=about><h2>About</h2><p>This guide is a sister to another guide I wrote a while back about how to use DomainKeys Identified Mail (<span class=caps>DKIM</span>) with Postfix on Debian, which can be read here - <a class="reference external" href=/2010/01/11/dkim-on-debian-with-postfix/>/2010/01/11/dkim-on-debian-with-postfix/</a>.<p>DomainKeys is an older implementation than <span class=caps>DKIM</span>, <span class=caps>DKIM</span> is a merge of DomainKeys and Identified Mail. Both DomainKeys and <span class=caps>DKIM</span> are used so having both configured is a good idea.</div><div class=section id=getting-started><h2>Getting started</h2><p>Lets start off by installing the dk-filter<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>dk-filter
</pre></div><p>Once installed you can can create a public and private key set using the commands below, if you’re already using <span class=caps>DKIM</span> you can skip this step and just use your already existing key.<div class=highlight><pre><span></span>openssl<span class=w> </span>genrsa<span class=w> </span>-out<span class=w> </span>private.key<span class=w> </span><span class=m>1024</span>
openssl<span class=w> </span>rsa<span class=w> </span>-in<span class=w> </span>private.key<span class=w> </span>-out<span class=w> </span>public.key<span class=w> </span>-pubout<span class=w> </span>-outform<span class=w> </span>PEM
sudo<span class=w> </span>mkdir<span class=w> </span>/etc/mail
sudo …</pre></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=howto,mail itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-11T18:25:00+00:00 itemprop=datePublished> 11 Feb 2010 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: Using SPF to validate outgoing mail'" href=https://kura.gg/2010/02/11/howto-using-spf-to-validate-outgoing-mail/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: Using <span class=caps>SPF</span> to validate outgoing mail </a></h2><section class=summary-content itemprop=articleBody><p>You can get a basic overview on what <span class=caps>SPF</span> is, what it’s for and it’s more advanced usages here - <a class="reference external" href=https://www.openspf.org/>https://www.openspf.org/</a><p>This article is to give only a basic insight in to how you can use an <span class=caps>SPF</span> record to valid mail from your servers.<div class=section id=the-dns><h2>The <span class=caps>DNS</span></h2><p><span class=caps>SPF</span> records work from your <span class=caps>DNS</span>, it’s really simple. Technically there is a <span class=caps>DNS</span> type defined for <span class=caps>SPF</span> records as of <a class="reference external" href=https://tools.ietf.org/html/rfc4408><span class=caps>RFC</span> 4408</a>, but since not all servers recognise this type it also works in the <span class=caps>TXT</span> type.<p>A simple usage of <span class=caps>SPF</span> is<pre class=literal-block>
v=spf1 a mx -all
</pre><p>Imagine this exists on this domain, <strong>syslog.tv</strong>. This spf record would mean that <span class=caps>ALL</span> <span class=caps>AN</span> and <span class=caps>MX</span> servers listed in the <span class=caps>DNS</span> records of syslog.tv would be valid senders.<p>The hypen (-) before <em>all</em> means that if the mail appears to be coming from a server that isn …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,howto,iptables,networking,security,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-11T16:51:00+00:00 itemprop=datePublished> 11 Feb 2010 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: IPTables on Debian/Ubuntu'" href=https://kura.gg/2010/02/11/howto-iptables-on-debian-ubuntu/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: IPTables on Debian/Ubuntu </a></h2><section class=summary-content itemprop=articleBody><div class=section id=installation><h2>Installation</h2><p>Simple, if it’s not installed already then run the following commands<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>iptables
sudo<span class=w> </span>/etc/init.d/iptables<span class=w> </span>start
</pre></div><p>The safest and best way of configuring iptables, in my opinion, is to have two files. The first is a temporary/test set that you will save to first, the second is the actual rule set that will be loaded to iptables.</div><div class=section id=configuration><h2>Configuration</h2><p>So, first we’ll create an empty temp rules file<div class=highlight><pre><span></span>sudo<span class=w> </span>touch<span class=w> </span>/etc/iptables.temp.rules
</pre></div><p>Add some simple rules to it:<pre class=literal-block>
*filter
# Allows all loopback traffic and drop all traffic to 127/8 that doesn't use lo

-A INPUT -i lo -j ACCEPT
-A INPUT ! -i lo -d 127.0.0.0/8 -j REJECT

# Accepts all established inbound connections
-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

# Allows all outbound traffic
-A OUTPUT -j ACCEPT

#SSH
-A INPUT -p tcp -m …</pre></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,cache,debian,howto,nginx,php,ubuntu,wordpress itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-07T10:27:00+00:00 itemprop=datePublished> 07 Feb 2010 </time> — 7 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'nginx, proxy_cache and reverse proxying explained & benchmarked'" href=https://kura.gg/2010/02/07/nginx-proxy_cache-and-explained-benchmarked/ itemprop=url rel=bookmark> nginx, proxy_cache and reverse proxying explained <span class=amp>&</span> benchmarked </a></h2><section class=summary-content itemprop=articleBody><div class=section id=the-beginning><h2>The beginning</h2><p>Where to begin? nginx would be a good start I suppose. It’s far easier and makes much for sense for you to actually read about nginx from it’s own website - <a class="reference external" href=https://nginx.org/en/>https://nginx.org/en/</a> - but just to give a simple explanation too; `nginx is king of static content <span class=caps>HTTP</span> servers.`<p>Anyone that has dealt with Apache on medium to high traffic websites will know that Apache is bit of a `wheezy, old geezer` when it comes to content serving using it’s mpm-worker (threaded). Very often high traffic will cause server load to go through the roof but for serving dynamic content, there really is no better <span class=caps>HTTP</span> server than Apache, so this leaves us in a bit of a predicament; a high powered website with dynamic content and lots of static files like <span class=caps>JS</span>, <span class=caps>CSS</span> and imagery, what do we do?!<p>In this example `dynamic …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,cache,nginx,varnish itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-06T10:36:00+00:00 itemprop=datePublished> 06 Feb 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Using nginx, Varnish and Apache'" href=https://kura.gg/2010/02/06/using-nginx-varnish-and-apache/ itemprop=url rel=bookmark> Using nginx, Varnish and Apache </a></h2><section class=summary-content itemprop=articleBody><div class=section id=the-problem><h2>The problem</h2><p>So lets get to the problem first. I have several lightly to medium loaded sites running on some virtual servers, they servers themselves are highly configured to run beautifully on our host environments, very, very <span class=caps>RAM</span> intensive but low disk I/O and low <span class=caps>CPU</span> usage.<p>As mentioned, the sites are relatively low loaded, they’ll generally hang around at between 3,000-5,000 unique hits a day and are run through Apache using <span class=caps>PHP</span>, various <span class=caps>PHP</span> modules and MySQL, a simple generic <span class=caps>LAMP</span> environment, yet customised to suit it’s surroundings and host.<p>The sites themselves run fine on that setup, no issues at all on normal days, but on set days of the week these sites can double in unique hits or even more than double, with KeepAlive enabled and a KeepAliveTimeout set low Apache has problems handling this kind of load (I should point out …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,debian,eth0,howto,mod_ssl,networking,ssl,vhost itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-01-15T06:24:00+00:00 itemprop=datePublished> 15 Jan 2010 </time> — 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: Debian - Apache 2 SSL on multiple virtual hosts'" href=https://kura.gg/2010/01/15/howto-debian-apache2-ssl-multiple-vhosts/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: Debian - Apache 2 <span class=caps>SSL</span> on multiple virtual hosts </a></h2><section class=summary-content itemprop=articleBody><p>Figured I’d write this one up quickly as it proved to annoy the hell out of me at 4:30am this morning getting it working on a live server.<p>Apache 2 can serve <span class=caps>SSL</span> content to multiple vhosts on your setup, provided they use different <span class=caps>IP</span> addresses, this post will give you a quick run down on how to do it.<p>First up we need to actually add the new <span class=caps>IP</span> to the machine in /etc/network/interfaces.<pre class=literal-block>
auto eth0
iface eth0 inet static
    address 10.1.1.7
    netmask 255.255.255.0
    gateway 10.1.1.1

auto eth0:1
iface eth0:1 inet static
    address 10.1.1.8
    netmask 255.255.255.0
</pre><p>Replace my IPs with your own.<p>Restart networking.<div class=highlight><pre><span></span>sudo<span class=w> </span>/etc/init.d/networking<span class=w> </span>restart
</pre></div><p>Next task is Apache 2 to configure it to listen on both IPs.<blockquote>/etc/apache2/ports.conf</blockquote><p>My …</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,debian,denyhosts,howto,logwatch,php,security itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-01-14T19:57:00+00:00 itemprop=datePublished> 14 Jan 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: Debian server security'" href=https://kura.gg/2010/01/14/howto-debian-server-security/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: Debian server security </a></h2><section class=summary-content itemprop=articleBody><p>Server security is something I’ve always tried to keep myself up-to-date on. I have at least a dozen <span class=caps>RSS</span> feeds that I read daily to learn about the latest flaws, holes releases etc. That being said I am by no means an “expert”, I’ve learned what I’ve needed to learn over time. I like to think that over the years I’ve gained enough knowledge to almost completely secure servers with all the programs installed that I generally use.<p>The aim of this article is to introduce you to some of the programs I use for security and some config changes that can be made to other programs to make them more secure. It is aimed at web servers but other changes work anywhere, like the <span class=caps>SSH</span> changes.<div class=section id=ssh><h2><span class=caps>SSH</span></h2><p>We’ll start with a very simple change that makes a very big difference, a change to the …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,howto,sudo,sudoers itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-01-13T03:56:00+00:00 itemprop=datePublished> 13 Jan 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: Debian - Sudo(ers) explained'" href=https://kura.gg/2010/01/13/howto-debian-sudoers-explained/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: Debian - Sudo(ers) explained </a></h2><section class=summary-content itemprop=articleBody><p>Ah sudo, one of my favourites, funnily enough I’ve noticed a lot of Linux users use sudo (mainly because Ubuntu installs and configures your first user by default,) but very few seem to know that much about it. This can include not even knowing how to add a user to sudoers.<p>This article will give you some useful information on what sudo actually is, how to configure it and how to restrict it.<div class=section id=what-is-sudo><h2>What is sudo?</h2><p>So, quickly running <strong>man sudo</strong> gives us some information what sudo actually is and does.<blockquote>sudo allows a permitted user to execute a command as the superuser or another user, as specified in the sudoers file. The real and effective uid and gid are set to match those of the target user as specified in the passwd file and the group vector is initialized based on the group file (unless the -P option …</blockquote></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,debian,mod_ssl,ssl itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-01-12T22:57:00+00:00 itemprop=datePublished> 12 Jan 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: Debian, Apache 2 & mod_ssl with self signed cert. or officially signed cert.'" href=https://kura.gg/2010/01/12/howto-debian-apache-2-amp-mod_ssl/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: Debian, Apache 2 <span class=amp>&</span> mod_ssl with self signed cert. or officially signed cert. </a></h2><section class=summary-content itemprop=articleBody><p>This is gonna be quite a simple tutorial that should be the same (excluding pathing and apt) across other Linux distros.<div class=section id=installation><h2>Installation</h2><p>First off we’ll get Apache and mod_ssl install<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>apache2
</pre></div><p><span class=caps>SSL</span> should be enabled by default, if not run the following<div class=highlight><pre><span></span>sudo<span class=w> </span>a2enmod<span class=w> </span>ssl
</pre></div></div><div class=section id=ssl-certificate><h2><span class=caps>SSL</span> certificate</h2><p>There are several ways of doing this, the first you need to figure out is if you want a self signed certificate or one signed by a provider like GeoTrust, this type is not free. In this article I’ll cover both, starting with self signed.<div class=section id=self-signed><h3>Self signed</h3><div class=highlight><pre><span></span>sudp<span class=w> </span>mkdir<span class=w> </span>/etc/apache2/ssl
sudo<span class=w> </span>/usr/sbin/make-ssl-cert<span class=w> </span>/usr/share/ssl-cert/ssleay.cnf<span class=w> </span>/etc/apache2/ssl/apache.pem
</pre></div></div><div class=section id=provider-signed><h3>Provider signed</h3><p>Please note, this type of certificate has to be paid for, prices at time of writing range from £15/year to £2,000/year.<p>There are actually some more options …</div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,cache,debian,nginx,wordpress itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-01-12T00:37:00+00:00 itemprop=datePublished> 12 Jan 2010 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Apache 2, Nginx & WordPress MU - Follow up'" href=https://kura.gg/2010/01/12/apache-2-nginx-wordpress-mu-follow-up/ itemprop=url rel=bookmark> Apache 2, Nginx <span class=amp>&</span> WordPress <span class=caps>MU</span> - Follow up </a></h2><section class=summary-content itemprop=articleBody><p>This is a quick follow up to a previous post about getting this blog <a class="reference external" href=/2010/01/11/debian-apache-2-nginx-wordpress-mu/>running on nginx with a reverse proxy to Apache 2</a>.<p>It seems the issue stems from 3 mods I had installed and enabled<ol class="arabic simple"><li>mod-spamhaus<li>mod-evasive and<li>mod-security</ol><p>The 3, when running together are a fantastic way to strengthen any web server from attack, be it <span class=caps>DOS</span>, injection, <span class=caps>XLS</span> etc. I’ve sworn by all 3 of them for years now and I thought I had them cracked for security:performance ratio, when it comes to reverse proxying requests from nginx to Apache 2 where WordPress is concerned, apparently I was very wrong.<p>The issue wasn’t so bad when the cache was full, but seeing as my cache is only alive for an hour that leaves an open point for the cache to be recreated when a user views the page. This in itself isn’t …</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,dkim,howto,mail,postfix itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-01-11T20:53:00+00:00 itemprop=datePublished> 11 Jan 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: DKIM with Postfix on Debian'" href=https://kura.gg/2010/01/11/dkim-on-debian-with-postfix/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: <span class=caps>DKIM</span> with Postfix on Debian </a></h2><section class=summary-content itemprop=articleBody><p><em>There is a much newer article on this subject `here`_ and covers DomainKeys and <span class=caps>DKIM</span>.</em><p>Mail and mail servers have always been my forté if I’m to be honest, my home mail server has been spam free for years now, nothing really gets past due to my love of all things installable and configurable.<p>Several months ago I started a new job and after a few weeks I was tasked with getting <span class=caps>DKIM</span> signing to work on our mail platform, <span class=caps>DKIM</span> was semi-new to me, I’d never bothered with anything but <span class=caps>SPF</span> before so I figured I’d give it a shot.<p>At work our servers are Debian based but are the evil that is Ubuntu, strangely though I was able to find an Ubuntu specific article that wasn’t absolute rubbish, which surprised me no end. I was able to get dkim-milter working with Postfix and …</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,cache,debian,nginx,wordpress itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-01-11T19:58:00+00:00 itemprop=datePublished> 11 Jan 2010 </time> — 5 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Debian, Apache 2, Nginx, WordPress MU & WP-Super-Cache'" href=https://kura.gg/2010/01/11/debian-apache-2-nginx-wordpress-mu/ itemprop=url rel=bookmark> Debian, Apache 2, Nginx, WordPress <span class=caps>MU</span> <span class=amp>&</span> <span class=caps>WP</span>-Super-Cache </a></h2><section class=summary-content itemprop=articleBody><p><em>This is a rather old article, for more up-to-date information please see;</em><ol class="arabic simple"><li><a class="reference external" href=/2010/02/07/nginx-proxy_cache-and-explained-benchmarked/>/2010/02/07/nginx-proxy_cache-and-explained-benchmarked/</a><li><a class="reference external" href=/2010/02/14/more-nginx-proxy_cache-optimizations-and-nginx-load-balancing/>/2010/02/14/more-nginx-proxy_cache-optimizations-and-nginx-load-balancing/</a></ol><p>I’ve started collecting a few blogs on my servers now and figured from this one on I would consolidate it in to one workable, usable location. Removing my need to update multiple plugins, themes and WordPress itself, over and over.<p>This time round I thought I’d do it properly, and properly in my book is as complicated and “awesome” as it can possibly be, without growing legs and running off to stomp a city.<div class=section id=love><h2>Love</h2><p>I’ve fallen in-love with nginx (<a class="reference external" href=https://nginx.org/>https://nginx.org/</a>) over the last 6 months or so, I’d been an avid user of LighTTPD for a very long time before but started to look in to nginx mid year as a replacement. I learned that at my new job they used nginx for …</div></section></article><div class=eevee-page-spacer role=presentation></div></div></div></main><div class="eevee-pagination__container eevee-container mdl-grid"><div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone" role=presentation></div><div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"><nav class="eevee-pagination mdl-cell mdl-cell--12-col" aria-label=Pagination itemscope itemtype=http://schema.org/SiteNavigationElement><a class=eevee-nav__button href=https://kura.gg/category/tutorials/page/2/ itemprop=url rel=bookmark title=Newer> <button class="mdl-button mdl-button--icon mdl-color--white mdl-color-text--grey-900" role=presentation><i class=material-icons></i></button> Newer </a><div class=eevee-spacer></div></nav></div></div><footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement><div class=mdl-mega-footer--top-section><div class=mdl-mega-footer--drop-down-section><ul class=mdl-mega-footer--link-list><li><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></ul></div></div><div aria-label="Footer navigation" class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Menu</h1><ul class=mdl-mega-footer--link-list><li><a href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons></i> Contact </a><li><a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons></i> Archives </a><li><a href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons></i> RSS </a><li><a href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons></i> Atom </a></ul></div><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Social</h1><ul class=mdl-mega-footer--link-list><li><a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i aria-hidden=true class=fa></i> Github </a><li><a href=https://noc.social/@kura itemprop=url rel=me title=@kura@noc.social> <i aria-hidden=true class=fa>🦣</i> @kura@noc.social </a></ul></div><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Links</h1><ul class=mdl-mega-footer--link-list><li><a href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons></i> Blackhole </a><li><a href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons></i> Eevee </a><li><a href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons></i> Hauntr </a><li><a href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons></i> Ghastly </a><li><a title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons></i> Pelican Plugins </a></ul></div></div><div class=mdl-mega-footer--bottom-section><div class=mdl-logo><a href=https://kura.gg itemprop=url rel=bookmark title=kura.gg> kura.gg </a></div><ul class="eevee-footer mdl-mega-footer--link-list"><li>Powered by love & rainbow sparkles.<li>Source code and content released under the <a title="MIT license" href=/license/>MIT license</a>.</ul></div></footer></div>