<!DOCTYPE html>
<!--

                                      |
                                     /|
                                   ,' |
                                  .   |
                                    | |
                                 ' '| |
                                / / | |
       _,.-\"\"--._              / /  | |
     ,'          `.           j '   ' '
   ,'              `.         ||   / ,                         ___..--,
  /                  \\        ' `.'`.-.,-\".  .       _..---\"\"'' __, ,'
 /                    \\        \\` .\"`      `\"'\\   ,'\"_..--''\"\"\"'.'.'
.                      .      .'-'             \\,' ,'         ,','
|                      |      ,`               ' .`         .' /
|                      |     /          ,\"`.  ' `-. _____.-' .'
'                      |..---.|,\".      | | .  .-'\"\"   __.,-'
 .                   ,'       ||,|      |.' |    |\"\"`'\"
  `-._   `._.._____  |        || |      `._,'    |
      `.   .       `\".     ,'\"| \"  `'           ,+.
        \\  '         |    '   |   .....        .'  `.
         .'          '     7  \".              ,'     \\
                   ,'      |    `..        _,'      F
                  .        |,      `'----''         |
                  |      ,\"j  /                   | '
                  `     |  | .                 | `,'
                   .    |  `.|                 |/
                    `-..'   ,'                .'
                            | \\             ,''
                            |  `,'.      _,' /
                            |    | ^.  .'   /
                             `-'.' j` V    /
                                   |      /
                                   |     /
                                   |   ,'
                                    `\"\"

//-->
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />
  <link rel="alternate" href="../../.." hreflang="en" />
<link rel="dns-prefetch" href="../../.." />
  <link rel="stylesheet" href="../../../theme/webassets-external/63377f06b1648775b11ff8e169b4a710_material.yellow-amber.min.css" />
  <link rel="stylesheet" href="../../../theme/webassets-external/c335929e0083dac14c3a8f107c05dde3_font-awesome.css" />
  <link rel="stylesheet" href="../../../theme/webassets-external/14c05c94e27da637bc780ad514251b18_material-icons.css" />
  <link rel="stylesheet" href="../../../theme/webassets-external/a28e8d0a2ff230dae7c257a9f828e3b1_pygments.css" />
  <link rel="stylesheet" href="../../../theme/webassets-external/0eddd53a34a33f68e0c593881131a436_eevee.css" />
  <link rel="stylesheet" href="../../../theme/webassets-external/2f21b66ec2ab0b874a1f30d00028e286_custom.css" />
  <script async src="../../../theme/webassets-external/a7fbc4b6cecaeb63ed7b7d6e2f75e649_material.js"></script>
  <link href="../../../feeds/rss.xml" type="application/rss+xml"
        rel="alternate" title="kura.gg" />
  <link href="../../../feeds/atom.xml" type="application/atom+xml"
        rel="alternate" title="kura.gg" />
  <meta property="og:site_name" content="kura.gg" />
  <meta property="og:type" content="article" />
    <meta property="og:title"
          content="kura.gg" />
    <meta property="og:url" content="../../../archives/2010/03/index.html" />
    <meta property="og:image"
          content="../../../archives/2010/03/index.png" />
  <meta property="og:image:width" content="1920" />
  <meta property="og:image:height" content="1080" />
    <meta property="twitter:title"
          content="kura.gg" />
    <meta property="twitter:url"
          content="../../../archives/2010/03/index.html" />
    <meta property="twitter:image"
          content="../../../archives/2010/03/index.png" />
    <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:image:width" content="1920" />
  <meta property="twitter:image:height" content="1080" />
  <link rel="icon" href="/favicon.png" type="image/png"
        sizes="16x16 32x32 48x48 64x64 128x128 256x256" />
  <link rel="icon" href="/favicon.ico" type="image/vnd.microsoft.icon"
        sizes="16x16 32x32 48x48 64x64 128x128 256x256" />
  <title>Archives for March 2010</title>
</head>
<body>
  <div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50">
    <header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800"
            itemscope itemtype="http://schema.org/WPHeader">
      <div class="mdl-layout__header-row">
        <div aria-expanded="false" role="button" tabindex="0"
             class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only">
          <i class="material-icons">&#xE5D2;</i>
        </div>
        <span class="eevee-logo mdl-color-text--accent mdl-layout-title">
          <h2 id="top">
            <a href="../../.." rel="bookmark" title="kura.gg">
              kura.gg
            </a>
          </h2>
        </span>
        <div class="mdl-layout-spacer" role="presentation"></div>
        <nav class="eevee-nav mdl-navigation mdl-layout--large-screen-only"
             itemscope itemtype="http://schema.org/SiteNavigationElement"
             aria-label="Header navigation">
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/blackhole" itemprop="url" rel="bookmark" title="Blackhole">
    <i class="material-icons" aria-hidden="true">&#xE86F;</i> Blackhole
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/eevee" itemprop="url" rel="bookmark" title="Eevee">
    <i class="material-icons" aria-hidden="true">&#xE871;</i> Eevee
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/hauntr" itemprop="url" rel="bookmark" title="Hauntr">
    <i class="material-icons" aria-hidden="true">&#xE871;</i> Hauntr
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/ghastly" itemprop="url" rel="bookmark" title="Ghastly">
    <i class="material-icons" aria-hidden="true">&#xE871;</i> Ghastly
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/pelican-plugins" itemprop="url" rel="bookmark" title="Pelican Plugins">
    <i class="material-icons" aria-hidden="true">&#xE86F;</i> Pelican Plugins
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/contact/" itemprop="url" rel="bookmark" title="Contact">
    <i class="material-icons" aria-hidden="true">&#xE0B7;</i> Contact
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="../../../archives/"
     itemprop="url" rel="bookmark" title="Archives">
    <i class="material-icons">&#xE02F;</i>
    Archives
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="../../../feeds/rss.xml"
     title="RSS" itemprop="url">
    <i class="material-icons">&#xE0E5;</i>
    RSS
  </a>
        </nav>
      </div>
    </header>
    <div class="eevee-mobile-header mdl-layout__drawer mdl-color--white"
         aria-hidden="true">
      <span class="mdl-layout-title">
        <h2 class="eevee-mobile-logo mdl-color-text--accent">
          kura.gg
        </h2>
      </span>
      <div class="mdl-navigation mdl-color--white">
        <nav class="eevee-nav mdl-navigation" itemscope
             itemtype="http://schema.org/SiteNavigationElement"
             aria-label="Header navigation">
          <a class="mdl-color-text--accent mdl-navigation__link"
             href="../../.." itemprop="url" rel="bookmark">
            <i class="material-icons" aria-hidden="true">
              &#xE88A;
            </i> Home
          </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/blackhole" itemprop="url" rel="bookmark" title="Blackhole">
    <i class="material-icons" aria-hidden="true">&#xE86F;</i> Blackhole
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/eevee" itemprop="url" rel="bookmark" title="Eevee">
    <i class="material-icons" aria-hidden="true">&#xE871;</i> Eevee
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/hauntr" itemprop="url" rel="bookmark" title="Hauntr">
    <i class="material-icons" aria-hidden="true">&#xE871;</i> Hauntr
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/ghastly" itemprop="url" rel="bookmark" title="Ghastly">
    <i class="material-icons" aria-hidden="true">&#xE871;</i> Ghastly
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/pelican-plugins" itemprop="url" rel="bookmark" title="Pelican Plugins">
    <i class="material-icons" aria-hidden="true">&#xE86F;</i> Pelican Plugins
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="/contact/" itemprop="url" rel="bookmark" title="Contact">
    <i class="material-icons" aria-hidden="true">&#xE0B7;</i> Contact
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="../../../archives/"
     itemprop="url" rel="bookmark" title="Archives">
    <i class="material-icons">&#xE02F;</i>
    Archives
  </a>
  <a class="mdl-color-text--accent mdl-navigation__link"
     href="../../../feeds/rss.xml"
     title="RSS" itemprop="url">
    <i class="material-icons">&#xE0E5;</i>
    RSS
  </a>
        </nav>
      </div>
    </div>
    <div class="eevee-ribbon mdl-color--primary-dark" role="presentation">
    </div>
    <main class="eevee-main mdl-layout__content">
      <div class="eevee-container mdl-grid">
        <div role="presentation"
             class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone">
        </div>
        <div class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"
             aria-label="Main content">
    <article class="eevee-padding" itemscope
             itemtype="http://schema.org/BlogPosting">
<meta itemprop="accessibilityControl" content="fullKeyboardControl" />
<meta itemprop="accessibilityControl" content="fullMouseControl" />
<meta itemprop="accessibilityControl" content="bookmarks" />
<meta itemprop="accessibilityControl" content="captions" />
<meta itemprop="accessibilityControl" content="alternativeText" />
<meta itemprop="accessibilityControl" content="index" />
<meta itemprop="accessibilityControl" content="readingOrder" />
<meta itemprop="accessibilityControl" content="structuralNavigation" />
<meta itemprop="accessibilityControl" content="tableOfContents" />
<meta itemprop="accessibilityHazard" content="noFlashingHazard" />
<meta itemprop="accessibilityHazard" content="noMotionSimulationHazard" />
<meta itemprop="accessibilityHazard" content="noSoundHazard" />
<meta itemprop="accessibilityAPI" content="ARIA" />
  <div itemprop="author" itemscope
       itemtype="https://schema.org/Person" role="presentation" />
    <a href="../../../authors/kura/" class="hidden"
       itemprop="url" role="presentation">
      <span class="hidden" itemprop="name" role="presentation">
        kura
      </span>
    </a>
  </div>
    <meta itemprop="keywords"
          content="apache,load average" />
    <meta itemprop="keywords" content="tutorials" />
      <div class="eevee-meta mdl-color-text--grey-500">
        <time datetime="2010-03-27T19:29:00+00:00"
              itemprop="datePublished">
          27 Mar 2010
        </time>
      </div>
      <h2 itemprop="name" class="article-title">
        <a href="../../../2010/03/27/apache-internal-dummy-connection/" rel="bookmark"
           title="Permalink to 'Apache internal dummy connection'"
           itemprop="url">
          Apache internal dummy&nbsp;connection
        </a>
      </h2>
      <section itemprop="articleBody" class="summary-content">
        <p>Recently I found that one of the servers I look after that runs a high
profile site was generating semi-high load at traffic peaks. You could
generally say that this would be understandable but the server was
shooting up to a load of around 10 for a few seconds and with that load
jump I was able to graph an increase of Apache processes on top of it.
Again though, this would generally be considered normal, but knowing how
well the server performs and having nginx sitting on top handling all
static content I knew something wasn’t quite right.</p>
<p>Looking through the logs I found quite a lot of requests from a badly
written spider which was generating a lot of server load when it hit the
server, but after <span class="caps">IP</span> banning the culprit I also found several instances
of Apache waking it’s child processes.</p>
<pre class="literal-block">
127.0.0 …</pre>
      </section>
        <div class="eevee-divider mdl-color--accent" role="presentation">
        </div>
        <div class="eevee-divider-to-top">
          <a href="#top" title="Back to the top of the page" itemprop="url">
            Back to the top of the page
          </a>
        </div>
    </article>
    <article class="eevee-padding" itemscope
             itemtype="http://schema.org/BlogPosting">
<meta itemprop="accessibilityControl" content="fullKeyboardControl" />
<meta itemprop="accessibilityControl" content="fullMouseControl" />
<meta itemprop="accessibilityControl" content="bookmarks" />
<meta itemprop="accessibilityControl" content="captions" />
<meta itemprop="accessibilityControl" content="alternativeText" />
<meta itemprop="accessibilityControl" content="index" />
<meta itemprop="accessibilityControl" content="readingOrder" />
<meta itemprop="accessibilityControl" content="structuralNavigation" />
<meta itemprop="accessibilityControl" content="tableOfContents" />
<meta itemprop="accessibilityHazard" content="noFlashingHazard" />
<meta itemprop="accessibilityHazard" content="noMotionSimulationHazard" />
<meta itemprop="accessibilityHazard" content="noSoundHazard" />
<meta itemprop="accessibilityAPI" content="ARIA" />
  <div itemprop="author" itemscope
       itemtype="https://schema.org/Person" role="presentation" />
    <a href="../../../authors/kura/" class="hidden"
       itemprop="url" role="presentation">
      <span class="hidden" itemprop="name" role="presentation">
        kura
      </span>
    </a>
  </div>
    <meta itemprop="keywords"
          content="debian,monitoring,nagios,nrpe,ubuntu" />
    <meta itemprop="keywords" content="tutorials" />
      <div class="eevee-meta mdl-color-text--grey-500">
        <time datetime="2010-03-21T21:55:00+00:00"
              itemprop="datePublished">
          21 Mar 2010
        </time>
      </div>
      <h2 itemprop="name" class="article-title">
        <a href="../../../2010/03/21/configuring-nagios-to-monitor-remote-load-disk-using-nrpe/" rel="bookmark"
           title="Permalink to 'Configuring Nagios to monitor remote load, disk, swap etc using NRPE'"
           itemprop="url">
          Configuring Nagios to monitor remote load, disk, swap etc using <span class="caps">NRPE</span>
        </a>
      </h2>
      <section itemprop="articleBody" class="summary-content">
        
<p>I’ll assume you already have Nagios installed and configured and have an
understanding of actually configuring and using Nagios.</p>
<div class="section" id="remote-server-the-server-to-be-monitored">
<h2>Remote server — the server to be monitored</h2>
<p>First we’ll install the needed plugins and daemon on the <strong>remote</strong> server.</p>
<div class="highlight"><pre><span></span>sudo apt-get install nagios-plugins nagios-nrpe-server
</pre></div>
<p>Once installed, open up <strong>/etc/nagios/nrpe_local.cfg</strong></p>
<p>And place the following in it</p>
<pre class="literal-block">
allowed_hosts=NAGIOS.SERVER.IP,127.0.0.1

command[check_users]=/usr/lib/nagios/plugins/check_users -w 5 -c 10
command[check_load]=/usr/lib/nagios/plugins/check_load -w 15,10,5 -c 30,25,20
command[check_all_disks]=/usr/lib/nagios/plugins/check_disk -w 20 -c 10
command[check_zombie_procs]=/usr/lib/nagios/plugins/check_procs -w 5 -c 10 -s Z
command[check_total_procs]=/usr/lib/nagios/plugins/check_procs -w 150 -c 200
command[check_swap]=/usr/lib/nagios/plugins/check_swap -w 20 -c 10
</pre>
<p>Save and exit.</p>
<p>Commands need to explicitly be enabled on the …</p></div>
      </section>
        <div class="eevee-divider mdl-color--accent" role="presentation">
        </div>
        <div class="eevee-divider-to-top">
          <a href="#top" title="Back to the top of the page" itemprop="url">
            Back to the top of the page
          </a>
        </div>
    </article>
    <article class="eevee-padding" itemscope
             itemtype="http://schema.org/BlogPosting">
<meta itemprop="accessibilityControl" content="fullKeyboardControl" />
<meta itemprop="accessibilityControl" content="fullMouseControl" />
<meta itemprop="accessibilityControl" content="bookmarks" />
<meta itemprop="accessibilityControl" content="captions" />
<meta itemprop="accessibilityControl" content="alternativeText" />
<meta itemprop="accessibilityControl" content="index" />
<meta itemprop="accessibilityControl" content="readingOrder" />
<meta itemprop="accessibilityControl" content="structuralNavigation" />
<meta itemprop="accessibilityControl" content="tableOfContents" />
<meta itemprop="accessibilityHazard" content="noFlashingHazard" />
<meta itemprop="accessibilityHazard" content="noMotionSimulationHazard" />
<meta itemprop="accessibilityHazard" content="noSoundHazard" />
<meta itemprop="accessibilityAPI" content="ARIA" />
  <div itemprop="author" itemscope
       itemtype="https://schema.org/Person" role="presentation" />
    <a href="../../../authors/kura/" class="hidden"
       itemprop="url" role="presentation">
      <span class="hidden" itemprop="name" role="presentation">
        kura
      </span>
    </a>
  </div>
    <meta itemprop="keywords"
          content="apache,log,nginx,proxy" />
    <meta itemprop="keywords" content="tutorials" />
      <div class="eevee-meta mdl-color-text--grey-500">
        <time datetime="2010-03-20T19:24:00+00:00"
              itemprop="datePublished">
          20 Mar 2010
        </time>
      </div>
      <h2 itemprop="name" class="article-title">
        <a href="../../../2010/03/20/show-ip-in-apache-logs-from-nginx-reverse-proxy/" rel="bookmark"
           title="Permalink to 'Show IP in Apache logs from nginx reverse proxy'"
           itemprop="url">
          Show <span class="caps">IP</span> in Apache logs from nginx reverse&nbsp;proxy
        </a>
      </h2>
      <section itemprop="articleBody" class="summary-content">
        <p>This is a very quick blog to show you how to show a users <span class="caps">IP</span> address in
your Apache access logs when the site in question is being reverse
proxied to Apache through nginx.</p>
<p>You need the rpaf module for Apache, on Debian and Ubuntu this is simple
to install</p>
<div class="highlight"><pre><span></span>sudo apt-get install libapache2-mod-rpaf
sudo a2enmod rpaf
sudo /etc/init.d/apache2 restart
</pre></div>
<p>This set of commands will do the following;</p>
<ol class="arabic simple">
<li>Update apt package list</li>
<li>Install libapache2-mod-rpaf</li>
<li>Enable mod-rpaf</li>
<li>Gracefully restart Apache (doesn’t kill connections)</li>
</ol>
<p>Once installed you simple need to be sure to pass the correct headers
through, so open up one of your nginx site configuration files and add
the following within the server definition.</p>
<div class="highlight"><pre><span></span><span class="k">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span><span class="w"></span>
</pre></div>
<p>So you should have something that looks like this, but without the “… snip …”</p>
<div class="highlight"><pre><span></span><span class="k">server</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1"># ...snip...</span>
<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1"># ...snip...</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="c1"># ...snip...</span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>

      </section>
        <div class="eevee-divider mdl-color--accent" role="presentation">
        </div>
        <div class="eevee-divider-to-top">
          <a href="#top" title="Back to the top of the page" itemprop="url">
            Back to the top of the page
          </a>
        </div>
    </article>
    <article class="eevee-padding" itemscope
             itemtype="http://schema.org/BlogPosting">
<meta itemprop="accessibilityControl" content="fullKeyboardControl" />
<meta itemprop="accessibilityControl" content="fullMouseControl" />
<meta itemprop="accessibilityControl" content="bookmarks" />
<meta itemprop="accessibilityControl" content="captions" />
<meta itemprop="accessibilityControl" content="alternativeText" />
<meta itemprop="accessibilityControl" content="index" />
<meta itemprop="accessibilityControl" content="readingOrder" />
<meta itemprop="accessibilityControl" content="structuralNavigation" />
<meta itemprop="accessibilityControl" content="tableOfContents" />
<meta itemprop="accessibilityHazard" content="noFlashingHazard" />
<meta itemprop="accessibilityHazard" content="noMotionSimulationHazard" />
<meta itemprop="accessibilityHazard" content="noSoundHazard" />
<meta itemprop="accessibilityAPI" content="ARIA" />
  <div itemprop="author" itemscope
       itemtype="https://schema.org/Person" role="presentation" />
    <a href="../../../authors/kura/" class="hidden"
       itemprop="url" role="presentation">
      <span class="hidden" itemprop="name" role="presentation">
        kura
      </span>
    </a>
  </div>
    <meta itemprop="keywords"
          content="nginx" />
    <meta itemprop="keywords" content="tutorials" />
      <div class="eevee-meta mdl-color-text--grey-500">
        <time datetime="2010-03-18T21:54:00+00:00"
              itemprop="datePublished">
          18 Mar 2010
        </time>
      </div>
      <h2 itemprop="name" class="article-title">
        <a href="../../../2010/03/18/nginx-increase-increase-server_names_hash_bucket_size/" rel="bookmark"
           title="Permalink to 'nginx - increase increase server_names_hash_bucket_size'"
           itemprop="url">
          nginx - increase increase&nbsp;server_names_hash_bucket_size
        </a>
      </h2>
      <section itemprop="articleBody" class="summary-content">
        <p>Today I ran in to something I’d never seen before when configuring nginx.</p>
<p>I ran the nginx config test, as I usually do before I restart it.</p>
<div class="highlight"><pre><span></span>nginx -t
</pre></div>
<p>But, the response I got was interesting</p>
<pre class="literal-block">
2010/03/18 21:16:09 [emerg] 12299#0: could not build the server_names_hash, you should increase server_names_hash_bucket_size: 32
2010/03/18 21:16:09 [emerg] 12299#0: the configuration file /etc/nginx/nginx.conf test failed
</pre>
<p>I found that one of the domain names I was using was over 32 characters
in length, nginx’s default max length.</p>
<p>Thankfully the fix was simple.</p>
<div class="highlight"><pre><span></span><span class="k">http</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1"># ...snip...</span>
<span class="w">    </span><span class="kn">server_names_hash_bucket_size</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1"># ...snip...</span>
<span class="p">}</span><span class="w"></span>
</pre></div>

      </section>
        <div class="eevee-divider mdl-color--accent" role="presentation">
        </div>
        <div class="eevee-divider-to-top">
          <a href="#top" title="Back to the top of the page" itemprop="url">
            Back to the top of the page
          </a>
        </div>
    </article>
    <article class="eevee-padding" itemscope
             itemtype="http://schema.org/BlogPosting">
<meta itemprop="accessibilityControl" content="fullKeyboardControl" />
<meta itemprop="accessibilityControl" content="fullMouseControl" />
<meta itemprop="accessibilityControl" content="bookmarks" />
<meta itemprop="accessibilityControl" content="captions" />
<meta itemprop="accessibilityControl" content="alternativeText" />
<meta itemprop="accessibilityControl" content="index" />
<meta itemprop="accessibilityControl" content="readingOrder" />
<meta itemprop="accessibilityControl" content="structuralNavigation" />
<meta itemprop="accessibilityControl" content="tableOfContents" />
<meta itemprop="accessibilityHazard" content="noFlashingHazard" />
<meta itemprop="accessibilityHazard" content="noMotionSimulationHazard" />
<meta itemprop="accessibilityHazard" content="noSoundHazard" />
<meta itemprop="accessibilityAPI" content="ARIA" />
  <div itemprop="author" itemscope
       itemtype="https://schema.org/Person" role="presentation" />
    <a href="../../../authors/kura/" class="hidden"
       itemprop="url" role="presentation">
      <span class="hidden" itemprop="name" role="presentation">
        kura
      </span>
    </a>
  </div>
    <meta itemprop="keywords"
          content="awk,egrep,find,linux,ls,wc" />
    <meta itemprop="keywords" content="tutorials" />
      <div class="eevee-meta mdl-color-text--grey-500">
        <time datetime="2010-03-17T11:19:00+00:00"
              itemprop="datePublished">
          17 Mar 2010
        </time>
      </div>
      <h2 itemprop="name" class="article-title">
        <a href="../../../2010/03/17/finding-files-over-a-set-size-with-find-and-awk/" rel="bookmark"
           title="Permalink to 'Finding files over a set size with find & awk'"
           itemprop="url">
          Finding files over a set size with find <span class="amp">&amp;</span>&nbsp;awk
        </a>
      </h2>
      <section itemprop="articleBody" class="summary-content">
        <p>This is a really great simple way to find files on the filesystem that
are over 200k in size.</p>
<div class="highlight"><pre><span></span>find /path/to/directory/ -type f -size +200k -exec ls -lh <span class="o">{}</span> <span class="p">;</span> <span class="p">|</span> awk <span class="s1">'{ print $NF ": " $5 }'</span>
</pre></div>
<p>You can use the output of this to either store in a file, or pipe to wc
for a count of lines</p>
<div class="highlight"><pre><span></span>find /path/to/directory/ -type f -size +200k -exec ls -lh <span class="o">{}</span> <span class="p">;</span> <span class="p">|</span> awk <span class="s1">'{ print $NF ": " $5 }'</span> <span class="p">|</span> wc -l
</pre></div>
<p>You can also use egrep before wc to look for specific filetypes</p>
<div class="highlight"><pre><span></span>find /path/to/directory/ -type f -size +200k -exec ls -lh <span class="o">{}</span> <span class="p">;</span> <span class="p">|</span> awk <span class="s1">'{ print $NF ": " $5 }'</span> <span class="p">|</span> egrep <span class="s1">'(jpg|bmp|gif|tiff|jpeg)'</span> <span class="p">|</span> wc -l
</pre></div>

      </section>
        <div class="eevee-divider mdl-color--accent" role="presentation">
        </div>
        <div class="eevee-divider-to-top">
          <a href="#top" title="Back to the top of the page" itemprop="url">
            Back to the top of the page
          </a>
        </div>
    </article>
    <article class="eevee-padding" itemscope
             itemtype="http://schema.org/BlogPosting">
<meta itemprop="accessibilityControl" content="fullKeyboardControl" />
<meta itemprop="accessibilityControl" content="fullMouseControl" />
<meta itemprop="accessibilityControl" content="bookmarks" />
<meta itemprop="accessibilityControl" content="captions" />
<meta itemprop="accessibilityControl" content="alternativeText" />
<meta itemprop="accessibilityControl" content="index" />
<meta itemprop="accessibilityControl" content="readingOrder" />
<meta itemprop="accessibilityControl" content="structuralNavigation" />
<meta itemprop="accessibilityControl" content="tableOfContents" />
<meta itemprop="accessibilityHazard" content="noFlashingHazard" />
<meta itemprop="accessibilityHazard" content="noMotionSimulationHazard" />
<meta itemprop="accessibilityHazard" content="noSoundHazard" />
<meta itemprop="accessibilityAPI" content="ARIA" />
  <div itemprop="author" itemscope
       itemtype="https://schema.org/Person" role="presentation" />
    <a href="../../../authors/kura/" class="hidden"
       itemprop="url" role="presentation">
      <span class="hidden" itemprop="name" role="presentation">
        kura
      </span>
    </a>
  </div>
    <meta itemprop="keywords"
          content="apache,certificate,crt,der,pem,ssl" />
    <meta itemprop="keywords" content="tutorials" />
      <div class="eevee-meta mdl-color-text--grey-500">
        <time datetime="2010-03-03T17:26:00+00:00"
              itemprop="datePublished">
          03 Mar 2010
        </time>
      </div>
      <h2 itemprop="name" class="article-title">
        <a href="../../../2010/03/03/convert-der-certificate-to-pem/" rel="bookmark"
           title="Permalink to 'Convert DER certificate to PEM'"
           itemprop="url">
          Convert <span class="caps">DER</span> certificate to <span class="caps">PEM</span>
        </a>
      </h2>
      <section itemprop="articleBody" class="summary-content">
        <p>Some times as an administrator you will be given a certificate from a
third party that will be in the <span class="caps">DER</span> format, which cannot be loaded in to Apache.</p>
<p>Converting it is a simple process:</p>
<div class="highlight"><pre><span></span>openssl x509 -in certificate.crt -inform DER -out certificate.pem -outform PEM
</pre></div>

      </section>
        <div class="eevee-divider mdl-color--accent" role="presentation">
        </div>
        <div class="eevee-divider-to-top">
          <a href="#top" title="Back to the top of the page" itemprop="url">
            Back to the top of the page
          </a>
        </div>
    </article>
    <article class="eevee-padding" itemscope
             itemtype="http://schema.org/BlogPosting">
<meta itemprop="accessibilityControl" content="fullKeyboardControl" />
<meta itemprop="accessibilityControl" content="fullMouseControl" />
<meta itemprop="accessibilityControl" content="bookmarks" />
<meta itemprop="accessibilityControl" content="captions" />
<meta itemprop="accessibilityControl" content="alternativeText" />
<meta itemprop="accessibilityControl" content="index" />
<meta itemprop="accessibilityControl" content="readingOrder" />
<meta itemprop="accessibilityControl" content="structuralNavigation" />
<meta itemprop="accessibilityControl" content="tableOfContents" />
<meta itemprop="accessibilityHazard" content="noFlashingHazard" />
<meta itemprop="accessibilityHazard" content="noMotionSimulationHazard" />
<meta itemprop="accessibilityHazard" content="noSoundHazard" />
<meta itemprop="accessibilityAPI" content="ARIA" />
  <div itemprop="author" itemscope
       itemtype="https://schema.org/Person" role="presentation" />
    <a href="../../../authors/kura/" class="hidden"
       itemprop="url" role="presentation">
      <span class="hidden" itemprop="name" role="presentation">
        kura
      </span>
    </a>
  </div>
    <meta itemprop="keywords"
          content="less,linux,unix" />
    <meta itemprop="keywords" content="tutorials" />
      <div class="eevee-meta mdl-color-text--grey-500">
        <time datetime="2010-03-01T21:30:00+00:00"
              itemprop="datePublished">
          01 Mar 2010
        </time>
      </div>
      <h2 itemprop="name" class="article-title">
        <a href="../../../2010/03/01/less-is-more/" rel="bookmark"
           title="Permalink to 'less is more'"
           itemprop="url">
          less is&nbsp;more
        </a>
      </h2>
      <section itemprop="articleBody" class="summary-content">
        
<p>To my surprise I have found that there are still people out there who
use <em>“more”</em>, this has shocked me.</p>
<p>So this is a very, very short blog post to tell those who visit that
<strong>less is more and more is less</strong>.</p>
<div class="section" id="what">
<h2>What?</h2>
<p>less is a command that comes as standard in almost all Linux distros
now, and unlike more it actually has the ability to do backwards and
forwards scrolling with Page Up, Page Down, arrow keys and spacebar.
It’s a fantastic little command!</p>
<div class="highlight"><pre><span></span>less FILE
</pre></div>
<p>Very simple to use and an all round great tool. The best thing about
less is it doesn’t need to read the whole file in one go, it reads in
chunks. Opening a <span class="caps">100MB</span> log file is simple with less!</p>
</div>
<div class="section" id="useful-options">
<h2>Useful options</h2>
<table class="docutils">
<thead>
<tr><th class="head"><strong>-g</strong></th>
<th class="head">Highlights just the current match of any searched string,</th>
</tr>
</thead>
<tbody>
<tr><td><strong>-I</strong></td>
<td>Case-insensitive searches,</td>
</tr>
<tr><td><strong>-M</strong></td>
<td>Show a more detailed prompt …</td></tr></tbody></table></div>
      </section>
    </article>
  <div class="eevee-page-spacer" role="presentation"></div>
        </div>
      </div>
    </main>
      <div class="eevee-pagination__container eevee-container mdl-grid">
        <div role="presentation"
             class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone">
        </div>
        <div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
<nav class="eevee-pagination mdl-cell mdl-cell--12-col" itemscope
     itemtype="http://schema.org/SiteNavigationElement"
     aria-label="Pagination">
  <div class="eevee-spacer"></div>
</nav>        </div>
      </div>
    <footer class="mdl-mega-footer" itemscope
            itemtype="http://schema.org/SiteNavigationElement">
      <div class="mdl-mega-footer--top-section">
        <div class="mdl-mega-footer--drop-down-section">
          <ul class="mdl-mega-footer--link-list">
            <li>
              <a href="#top" itemprop="url"
                 title="Back to the top of the page">
                Back to the top of the page
              </a>
            </li>
          </ul>
        </div>
      </div>
<div class="mdl-mega-footer--middle-section" itemscope
     itemtype="http://schema.org/SiteNavigationElement"
     aria-label="Footer navigation">
  <div class="mdl-mega-footer--drop-down-section">
    <h1 class="mdl-mega-footer--heading">Menu</h1>
    <ul class="mdl-mega-footer--link-list">
        <li>
          <a href="/contact/" itemprop="url" rel="bookmark"
             title="Contact">
            <i class="material-icons" aria-hidden="true">&#xE0B7;</i> Contact
          </a>
        </li>
        <li>
          <a href="../../../archives/"
             itemprop="url" rel="bookmark" title="Archives">
            <i class="material-icons">&#xE02F;</i>
            Archives
          </a>
        </li>
        <li>
          <a href="../../../feeds/rss.xml"
             title="RSS"
             itemprop="url">
            <i class="material-icons">&#xE0E5;</i>
              RSS
          </a>
        </li>
    </ul>
  </div>
  <div class="mdl-mega-footer--drop-down-section">
    <h1 class="mdl-mega-footer--heading">Social</h1>
    <ul class="mdl-mega-footer--link-list">
        <li>
          <a href="https://github.com/kura" itemprop="url" rel="bookmark"
             title="GitHub">
            <i class="fa" aria-hidden="true">&#xF09B;</i> Github
          </a>
        </li>
    </ul>
  </div>
  <div class="mdl-mega-footer--drop-down-section">
    <h1 class="mdl-mega-footer--heading">Links</h1>
    <ul class="mdl-mega-footer--link-list">
        <li>
          <a href="/blackhole" itemprop="url" rel="bookmark"
             title="Blackhole">
            <i class="material-icons" aria-hidden="true">&#xE86F;</i> Blackhole
          </a>
        </li>
        <li>
          <a href="/eevee" itemprop="url" rel="bookmark"
             title="Eevee">
            <i class="material-icons" aria-hidden="true">&#xE871;</i> Eevee
          </a>
        </li>
        <li>
          <a href="/hauntr" itemprop="url" rel="bookmark"
             title="Hauntr">
            <i class="material-icons" aria-hidden="true">&#xE871;</i> Hauntr
          </a>
        </li>
        <li>
          <a href="/ghastly" itemprop="url" rel="bookmark"
             title="Ghastly">
            <i class="material-icons" aria-hidden="true">&#xE871;</i> Ghastly
          </a>
        </li>
        <li>
          <a href="/pelican-plugins" itemprop="url" rel="bookmark"
             title="Pelican Plugins">
            <i class="material-icons" aria-hidden="true">&#xE86F;</i> Pelican Plugins
          </a>
        </li>
      </ul>
  </div>
</div>      <div class="mdl-mega-footer--bottom-section">
        <div class="mdl-logo">
          <a href="../../.." rel="bookmark" itemprop="url"
             title="kura.gg">
            kura.gg
          </a>
        </div>
          <ul class="eevee-footer mdl-mega-footer--link-list">
              <li>Powered by love &amp; rainbow sparkles.</li>
              <li>Source code and content released under the <a href="/license/" title="MIT license">MIT license</a>.</li>
          </ul>
      </div>
    </footer>
  </div>
</body>
</html>