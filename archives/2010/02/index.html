<!DOCTYPE html><!--

                                      |
                                     /|
                                   ,' |
                                  .   |
                                    | |
                                 ' '| |
                                / / | |
       _,.-\"\"--._              / /  | |
     ,'          `.           j '   ' '
   ,'              `.         ||   / ,                         ___..--,
  /                  \\        ' `.'`.-.,-\".  .       _..---\"\"'' __, ,'
 /                    \\        \\` .\"`      `\"'\\   ,'\"_..--''\"\"\"'.'.'
.                      .      .'-'             \\,' ,'         ,','
|                      |      ,`               ' .`         .' /
|                      |     /          ,\"`.  ' `-. _____.-' .'
'                      |..---.|,\".      | | .  .-'\"\"   __.,-'
 .                   ,'       ||,|      |.' |    |\"\"`'\"
  `-._   `._.._____  |        || |      `._,'    |
      `.   .       `\".     ,'\"| \"  `'           ,+.
        \\  '         |    '   |   .....        .'  `.
         .'          '     7  \".              ,'     \\
                   ,'      |    `..        _,'      F
                  .        |,      `'----''         |
                  |      ,\"j  /                   | '
                  `     |  | .                 | `,'
                   .    |  `.|                 |/
                    `-..'   ,'                .'
                            | \\             ,''
                            |  `,'.      _,' /
                            |    | ^.  .'   /
                             `-'.' j` V    /
                                   |      /
                                   |     /
                                   |   ,'
                                    `\"\"

//--><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=1.0"><link rel=alternate href=https://kura.gg hreflang=en><link rel=dns-prefetch href=https://kura.gg><link rel=dns-prefetch href=//disqus.com><link rel=dns-prefetch href=//a.disquscdn.com><link rel=dns-prefetch href=//syslogtv.disqus.com><link rel=dns-prefetch href=//glitter-services.disqus.com><link href=https://kura.gg/feeds/rss.xml type=application/rss+xml rel=alternate title=kura.gg><link href=https://kura.gg/feeds/atom.xml type=application/atom+xml rel=alternate title=kura.gg><meta property=og:site_name content=kura.gg><meta property=og:type content=article><meta property=og:title content=kura.gg><meta property=og:url content=https://kura.gg/archives/2010/02/index.html><meta property=og:image content=https://kura.gg/archives/2010/02/index.png><meta property=og:image:width content=1920><meta property=og:image:height content=1080><meta property=twitter:site content=@kuramanga><meta property=twitter:title content=kura.gg><meta property=twitter:url content=https://kura.gg/archives/2010/02/index.html><meta property=twitter:image content=https://kura.gg/archives/2010/02/index.png><meta property=twitter:card content=summary_large_image><meta property=twitter:image:width content=1920><meta property=twitter:image:height content=1080><link rel=icon href=/favicon.png type=image/png sizes="16x16 32x32 48x48 64x64 128x128 256x256"><link rel=icon href=/favicon.ico type=image/vnd.microsoft.icon sizes="16x16 32x32 48x48 64x64 128x128 256x256"><title>Archives for February 2010</title></head> <body> <div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"> <header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader> <div class=mdl-layout__header-row> <div aria-expanded=false role=button tabindex=0 class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only"> <i class=material-icons>&#xE5D2;</i> </div> <span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top> <a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a> </h2> </span> <div class=mdl-layout-spacer role=presentation></div> <nav class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </header> <div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true> <span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent"> kura.gg </h2> </span> <div class="mdl-navigation mdl-color--white"> <nav class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i class=material-icons aria-hidden=true> &#xE88A; </i> Home </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </div> <div class="eevee-ribbon mdl-color--primary-dark" role=presentation> </div> <main class="eevee-main mdl-layout__content"> <div class="eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col" aria-label="Main content"> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,howto,ssh,ssh_config,ubuntu> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-02-18T21:03:00+00:00 itemprop=datePublished> 18 Feb 2010 </time> </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/02/18/howto-ssh-config-on-debian-ubuntu/ rel=bookmark title="Permalink to 'HOWTO: SSH config on Debian/Ubuntu'" itemprop=url> <span class=caps>HOWTO</span>: <span class=caps>SSH</span> config on&nbsp;Debian/Ubuntu </a> </h2> <section itemprop=articleBody class=summary-content> <p>Today I <em>finally</em> got round to setting up my local user ssh config on my new work laptop and figured I’d do a quick write up on it and it’s uses.</p> <p>You can create a configuration file in your home directory that will override the options set in your machine-wide config.</p> <div class=section id=your-configuration-files> <h2>Your configuration files</h2> <p>Your local config can be found/created in:</p> <blockquote> ~/.ssh/config</blockquote> <p>And your machine-wide configuration is in:</p> <blockquote> /etc/ssh/ssh_config</blockquote> <p>Rather than editing my ssh config across my whole machine I’m doing it for my local user specifically.</p> <p>Reading the man page for ssh_config will give you a full list of available options, below I will outline several that I use and find very useful.</p> </div> <div class=section id=your-host-definitions> <h2>Your host definitions</h2> <p>First things first, we need to define a host.</p> <pre class=literal-block>
Host host.domain.com
</pre> <p>Each host you add to your config will need to have …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation> </div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="cfdisk,debian,esx,howto,logical volume management,lvm,lvm2,partition,ubuntu,vmware"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-02-16T18:20:00+00:00 itemprop=datePublished> 16 Feb 2010 </time> </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/02/16/howto-guest-virtual-machine-disk-extend-online-with-debian-ubuntu-lvm2-and-vmware-esx/ rel=bookmark title="Permalink to 'HOWTO: Guest Virtual Machine disk extend online with Debian/Ubuntu, LVM2 and VMWare ESX'" itemprop=url> <span class=caps>HOWTO</span>: Guest Virtual Machine disk extend online with Debian/Ubuntu, <span class=caps>LVM2</span> and VMWare <span class=caps>ESX</span> </a> </h2> <section itemprop=articleBody class=summary-content> <p>Over the last two days I’ve had the interesting task of online some VMs from clones and increasing their disk space to accommodate a mass of user uploaded content. I’ve done this before but never actually with an Logical Volume Management (<span class=caps>LVM</span>) disk.</p> <p>My first approach, like a fool, was to clone the <span class=caps>VM</span> from source and boot it from a remotely mounted GParted <span class=caps>ISO</span>, this didn’t actually go as expected and I was unable to add it to the <span class=caps>LVM</span>, I found a nice guide online and consulted a colleague because I knew he’d done something similar recently. After the first successful size increase I realised I was able to do it without ever rebooting the machine itself, this is accomplished by actually adding an extra disk to the <span class=caps>VM</span>, this disk can then be partition with cfdisk and then added to the <span class=caps>LVM</span>, thus …</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation> </div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="apache,cache,debian,howto,load balancing,nginx,ubuntu,wordpress"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-02-14T14:27:00+00:00 itemprop=datePublished> 14 Feb 2010 </time> </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/02/14/more-nginx-proxy_cache-optimizations-and-nginx-load-balancing/ rel=bookmark title="Permalink to 'More nginx proxy_cache optimizations and nginx load balancing'" itemprop=url> More nginx proxy_cache optimizations and nginx load&nbsp;balancing </a> </h2> <section itemprop=articleBody class=summary-content> <p>This is yet another follow up to post to several previous posts about using nginx as a reverse proxy with caching. It is actually a direct addition to my post from a week or so ago which outlined how to actually using nginx’s proxy caching feature which can be read here — <a href=https://syslog.tv/2010/02/07/nginx-proxy_cache-and-explained-benchmarked/ class="reference external">/2010/02/07/nginx-proxy_cache-and-explained-benchmarked/</a>.</p> <div class=section id=even-more-changes> <h2>Even more changes?</h2> <p>Yes, even more changes, these are basic changes that are there to improve the caching capabilities and also implement load balancing.</p> <div class=section id=cache-changes> <h3>Cache changes</h3> <p>The first set of changes are in the main nginx configuration file</p> <blockquote> /etc/nginx/nginx.conf</blockquote> <p>These changes basically just change the proxy_cache key</p> <div class=highlight><pre><span></span><span class=k>proxy_cache_path</span> <span class=s>/var/www/nginx_cache</span> <span class=s>levels=1:2</span> <span class=s>keys_zone=cache:8m</span> <span class=s>max_size=1000m</span> <span class=s>inactive=600m</span><span class=p>;</span>
<span class=k>proxy_temp_path</span> <span class=s>/tmp/nginx</span><span class=p>;</span>
<span class=k>proxy_cache_key</span> <span class=s>"</span><span class=nv>$scheme://$host$request_uri"</span><span class=p>;</span>
</pre></div> <p>I’ve decided to put the temporary caches file in to …</p></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation> </div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=apache,code_swarm,postgresql,python> <meta itemprop=keywords content=misc> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-02-13T23:01:00+00:00 itemprop=datePublished> 13 Feb 2010 </time> </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/02/13/code_swarm-apache-python-and-postgresql-commit-visualization/ rel=bookmark title="Permalink to 'code_swarm - Apache, Python and PostgreSQL commit visualization'" itemprop=url> code_swarm - Apache, Python and PostgreSQL commit&nbsp;visualization </a> </h2> <section itemprop=articleBody class=summary-content> <p>These videos are pretty old now and I had forgotten about them until a colleague tweeted about a Twitter code_swarm visualization which made me remember.</p> <p>So here they are, best viewed in full screen mode.</p> <div class=section id=apache> <h2>Apache</h2> <div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/1076588 webkitallowfullscreen width=800></iframe></div></div> <div class=section id=python> <h2>Python</h2> <div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/1093745 webkitallowfullscreen width=800></iframe></div></div> <div class=section id=postgresql> <h2>PostgreSQL</h2> <div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/1081680 webkitallowfullscreen width=800></iframe></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation> </div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,dkim,domainkeys,howto,mail,postfix,ubuntu> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-02-12T19:08:00+00:00 itemprop=datePublished> 12 Feb 2010 </time> </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/02/12/howto-domainkeys-with-postfix-on-debian-ubuntu/ rel=bookmark title="Permalink to 'HOWTO: DomainKeys with Postfix on Debian/Ubuntu'" itemprop=url> <span class=caps>HOWTO</span>: DomainKeys with Postfix on&nbsp;Debian/Ubuntu </a> </h2> <section itemprop=articleBody class=summary-content> <p><strong>I have written a much newer, clearer and better article on DomainKeys signing email `here`_.</strong></p> <div class=section id=about> <h2>About</h2> <p>This guide is a sister to another guide I wrote a while back about how to use DomainKeys Identified Mail (<span class=caps>DKIM</span>) with Postfix on Debian, which can be read here - <a href=/2010/01/11/dkim-on-debian-with-postfix/ class="reference external">/2010/01/11/dkim-on-debian-with-postfix/</a>.</p> <p>DomainKeys is an older implementation than <span class=caps>DKIM</span>, <span class=caps>DKIM</span> is a merge of DomainKeys and Identified Mail. Both DomainKeys and <span class=caps>DKIM</span> are used so having both configured is a good idea.</p> </div> <div class=section id=getting-started> <h2>Getting started</h2> <p>Lets start off by installing the dk-filter</p> <div class=highlight><pre><span></span>sudo apt-get install dk-filter
</pre></div> <p>Once installed you can can create a public and private key set using the commands below, if you’re already using <span class=caps>DKIM</span> you can skip this step and just use your already existing key.</p> <div class=highlight><pre><span></span>openssl genrsa -out private.key <span class=m>1024</span>
openssl rsa -in private.key -out public.key -pubout -outform PEM
sudo mkdir /etc/mail
sudo cp …</pre></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation> </div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=howto,mail> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-02-11T18:25:00+00:00 itemprop=datePublished> 11 Feb 2010 </time> </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/02/11/howto-using-spf-to-validate-outgoing-mail/ rel=bookmark title="Permalink to 'HOWTO: Using SPF to validate outgoing mail'" itemprop=url> <span class=caps>HOWTO</span>: Using <span class=caps>SPF</span> to validate outgoing&nbsp;mail </a> </h2> <section itemprop=articleBody class=summary-content> <p>You can get a basic overview on what <span class=caps>SPF</span> is, what it’s for and it’s more advanced usages here - <a href=https://www.openspf.org/ class="reference external">https://www.openspf.org/</a></p> <p>This article is to give only a basic insight in to how you can use an <span class=caps>SPF</span> record to valid mail from your servers.</p> <div class=section id=the-dns> <h2>The <span class=caps>DNS</span></h2> <p><span class=caps>SPF</span> records work from your <span class=caps>DNS</span>, it’s really simple. Technically there is a <span class=caps>DNS</span> type defined for <span class=caps>SPF</span> records as of <a class="reference external" href=https://tools.ietf.org/html/rfc4408><span class=caps>RFC</span> 4408</a>, but since not all servers recognise this type it also works in the <span class=caps>TXT</span> type.</p> <p>A simple usage of <span class=caps>SPF</span> is</p> <pre class=literal-block>
v=spf1 a mx -all
</pre> <p>Imagine this exists on this domain, <strong>syslog.tv</strong>. This spf record would mean that <span class=caps>ALL</span> <span class=caps>AN</span> and <span class=caps>MX</span> servers listed in the <span class=caps>DNS</span> records of syslog.tv would be valid senders.</p> <p>The hypen (-) before <em>all</em> means that if the mail appears to be coming from a server that isn …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation> </div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,howto,iptables,networking,security,ubuntu> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-02-11T16:51:00+00:00 itemprop=datePublished> 11 Feb 2010 </time> </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/02/11/howto-iptables-on-debian-ubuntu/ rel=bookmark title="Permalink to 'HOWTO: IPTables on Debian/Ubuntu'" itemprop=url> <span class=caps>HOWTO</span>: IPTables on&nbsp;Debian/Ubuntu </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=installation> <h2>Installation</h2> <p>Simple, if it’s not installed already then run the following commands</p> <div class=highlight><pre><span></span>sudo apt-get install iptables
sudo /etc/init.d/iptables start
</pre></div> <p>The safest and best way of configuring iptables, in my opinion, is to have two files. The first is a temporary/test set that you will save to first, the second is the actual rule set that will be loaded to iptables.</p> </div> <div class=section id=configuration> <h2>Configuration</h2> <p>So, first we’ll create an empty temp rules file</p> <div class=highlight><pre><span></span>sudo touch /etc/iptables.temp.rules
</pre></div> <p>Add some simple rules to it:</p> <pre class=literal-block>
*filter
# Allows all loopback traffic and drop all traffic to 127/8 that doesn't use lo

-A INPUT -i lo -j ACCEPT
-A INPUT ! -i lo -d 127.0.0.0/8 -j REJECT

# Accepts all established inbound connections
-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

# Allows all outbound traffic
-A OUTPUT -j ACCEPT

#SSH
-A INPUT -p tcp -m …</pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation> </div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=apache,cache,debian,howto,nginx,php,ubuntu,wordpress> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-02-07T10:27:00+00:00 itemprop=datePublished> 07 Feb 2010 </time> </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/02/07/nginx-proxy_cache-and-explained-benchmarked/ rel=bookmark title="Permalink to 'nginx, proxy_cache and reverse proxying explained & benchmarked'" itemprop=url> nginx, proxy_cache and reverse proxying explained <span class=amp>&amp;</span>&nbsp;benchmarked </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=the-beginning> <h2>The beginning</h2> <p>Where to begin? nginx would be a good start I suppose. It’s far easier and makes much for sense for you to actually read about nginx from it’s own website - <a href=https://nginx.org/en/ class="reference external">https://nginx.org/en/</a> - but just to give a simple explanation too; `nginx is king of static content <span class=caps>HTTP</span> servers.`</p> <p>Anyone that has dealt with Apache on medium to high traffic websites will know that Apache is bit of a `wheezy, old geezer` when it comes to content serving using it’s mpm-worker (threaded). Very often high traffic will cause server load to go through the roof but for serving dynamic content, there really is no better <span class=caps>HTTP</span> server than Apache, so this leaves us in a bit of a predicament; a high powered website with dynamic content and lots of static files like <span class=caps>JS</span>, <span class=caps>CSS</span> and imagery, what do we do?!</p> <p>In this example `dynamic …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation> </div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=apache,cache,nginx,varnish> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-02-06T10:36:00+00:00 itemprop=datePublished> 06 Feb 2010 </time> </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/02/06/using-nginx-varnish-and-apache/ rel=bookmark title="Permalink to 'Using nginx, Varnish and Apache'" itemprop=url> Using nginx, Varnish and&nbsp;Apache </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=the-problem> <h2>The problem</h2> <p>So lets get to the problem first. I have several lightly to medium loaded sites running on some virtual servers, they servers themselves are highly configured to run beautifully on our host environments, very, very <span class=caps>RAM</span> intensive but low disk I/O and low <span class=caps>CPU</span> usage.</p> <p>As mentioned, the sites are relatively low loaded, they’ll generally hang around at between 3,000-5,000 unique hits a day and are run through Apache using <span class=caps>PHP</span>, various <span class=caps>PHP</span> modules and MySQL, a simple generic <span class=caps>LAMP</span> environment, yet customised to suit it’s surroundings and host.</p> <p>The sites themselves run fine on that setup, no issues at all on normal days, but on set days of the week these sites can double in unique hits or even more than double, with KeepAlive enabled and a KeepAliveTimeout set low Apache has problems handling this kind of load (I should point out …</p></div> </section> </article> <div class=eevee-page-spacer role=presentation></div> </div> </div> </main> <div class="eevee-pagination__container eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"> <nav class="eevee-pagination mdl-cell mdl-cell--12-col" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label=Pagination> <div class=eevee-spacer></div> </nav> </div> </div> <footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement> <div class=mdl-mega-footer--top-section> <div class=mdl-mega-footer--drop-down-section> <ul class=mdl-mega-footer--link-list> <li> <a href=#top itemprop=url title="Back to the top of the page"> Back to the top of the page </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Footer navigation"> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Menu</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> </li> <li> <a href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> </li> <li> <a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> </li> <li> <a href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Social</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i class=fa aria-hidden=true>&#xF09B;</i> Github </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Links</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://kura.gg/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> </li> <li> <a href=https://kura.gg/yarg itemprop=url rel=bookmark title=Yarg> <i class=material-icons aria-hidden=true>&#xE86F;</i> Yarg </a> </li> <li> <a href=https://kura.gg/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=https://kura.gg/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> </li> <li> <a href=https://kura.gg/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--bottom-section> <div class=mdl-logo> <a href=https://kura.gg rel=bookmark itemprop=url title=kura.gg> kura.gg </a> </div> <ul class="eevee-footer mdl-mega-footer--link-list"> <li>Powered by love &amp; rainbow sparkles.</li> <li>Source code and content released under the <a href=/license/ title="MIT license">MIT license</a>.</li> </ul> </div> </footer> </div> <link rel=stylesheet href=https://kura.gg/theme/css/eevee.min.css?6271b9c9> <script async src=https://kura.gg/theme/js/eevee.min.js?9eda6833></script> </body> </html>