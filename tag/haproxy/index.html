<!DOCTYPE html><!--

                                      |
                                     /|
                                   ,' |
                                  .   |
                                    | |
                                 ' '| |
                                / / | |
       _,.-\"\"--._              / /  | |
     ,'          `.           j '   ' '
   ,'              `.         ||   / ,                         ___..--,
  /                  \\        ' `.'`.-.,-\".  .       _..---\"\"'' __, ,'
 /                    \\        \\` .\"`      `\"'\\   ,'\"_..--''\"\"\"'.'.'
.                      .      .'-'             \\,' ,'         ,','
|                      |      ,`               ' .`         .' /
|                      |     /          ,\"`.  ' `-. _____.-' .'
'                      |..---.|,\".      | | .  .-'\"\"   __.,-'
 .                   ,'       ||,|      |.' |    |\"\"`'\"
  `-._   `._.._____  |        || |      `._,'    |
      `.   .       `\".     ,'\"| \"  `'           ,+.
        \\  '         |    '   |   .....        .'  `.
         .'          '     7  \".              ,'     \\
                   ,'      |    `..        _,'      F
                  .        |,      `'----''         |
                  |      ,\"j  /                   | '
                  `     |  | .                 | `,'
                   .    |  `.|                 |/
                    `-..'   ,'                .'
                            | \\             ,''
                            |  `,'.      _,' /
                            |    | ^.  .'   /
                             `-'.' j` V    /
                                   |      /
                                   |     /
                                   |   ,'
                                    `\"\"

//--><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=1.0"><link rel=alternate href=https://kura.gg hreflang=en><link rel=dns-prefetch href=https://kura.gg><link href=https://kura.gg/feeds/rss.xml type=application/rss+xml rel=alternate title=kura.gg><link href=https://kura.gg/feeds/atom.xml type=application/atom+xml rel=alternate title=kura.gg><meta property=og:site_name content=kura.gg><meta property=og:type content=article><meta property=og:title content=kura.gg><meta property=og:url content=https://kura.gg/tag/haproxy/index.html><meta property=og:image content=https://kura.gg/tag/haproxy/index.png><meta property=og:image:width content=1920><meta property=og:image:height content=1080><meta property=twitter:title content=kura.gg><meta property=twitter:url content=https://kura.gg/tag/haproxy/index.html><meta property=twitter:image content=https://kura.gg/tag/haproxy/index.png><meta property=twitter:card content=summary_large_image><meta property=twitter:image:width content=1920><meta property=twitter:image:height content=1080><link rel=icon href=/favicon.png type=image/png sizes="16x16 32x32 48x48 64x64 128x128 256x256"><link rel=icon href=/favicon.ico type=image/vnd.microsoft.icon sizes="16x16 32x32 48x48 64x64 128x128 256x256"><title>Articles with the 'haproxy' tag</title></head> <body> <div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"> <header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader> <div class=mdl-layout__header-row> <div aria-expanded=false role=button tabindex=0 class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only"> <i class=material-icons>&#xE5D2;</i> </div> <span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top> <a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a> </h2> </span> <div class=mdl-layout-spacer role=presentation></div> <nav class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </header> <div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true> <span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent"> kura.gg </h2> </span> <div class="mdl-navigation mdl-color--white"> <nav class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i class=material-icons aria-hidden=true> &#xE88A; </i> Home </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </div> <div class="eevee-ribbon mdl-color--primary-dark" role=presentation> </div> <main class="eevee-main mdl-layout__content"> <div class="eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col" aria-label="Main content"> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="haproxy,http,tls,ssl,hpkp,public key pinning"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-01-27T07:04:00+00:00 itemprop=datePublished> 27 Jan 2015 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/01/27/hpkp-http-public-key-pinning-with-haproxy/ rel=bookmark title="Permalink to 'HPKP: HTTP Public Key Pinning with HAProxy'" itemprop=url> <span class=caps>HPKP</span>: <span class=caps>HTTP</span> Public Key Pinning with&nbsp;HAProxy </a> </h2> <section itemprop=articleBody class=summary-content> <p>Public Key Pinning is a security feature that tells a web browser to associate a public cryptographic key with a server or servers. When a web browser visits a website for the first time, it will read the <span class=caps>HPKP</span> header and store the hashes for the certificates that are provided. Each time the browser then revisits that website, the hash from the provided public key is compared against the stored keys, if the hashes do not match, the web browser should display a warning.</p> <p>The <span class=caps>HPKP</span> header adds protection against man-in-the-middle (<span class=caps>MITM</span>) attacks but, if incorrectly configured can make your website display a <span class=caps>TLS</span> error for a long period of time.</p> <p>Here’s a look at what this website publishes as it’s <span class=caps>HKPK</span> header.</p> <pre class=literal-block>
Public-Key-Pins: pin-sha256="cYf9T3Il8DaCnaMaM0LatIAru1vqmcu2JSwS7uvyEB0=";
                 pin-sha256="u2q8QZ8Hjp3o/efZjsch9NKjnZmrISJQjwoi/rmsKLU=";
                 max-age=15768000; includeSubDomains
</pre> <p>To explain it, the first <cite>pin-sha265</cite> key is the hash of the public key that …</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="haproxy,ssl,ocsp,ocsp stapling"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-07-02T23:45:00+01:00 itemprop=datePublished> 02 Jul 2014 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/07/02/haproxy-ocsp-stapling/ rel=bookmark title="Permalink to 'haproxy OCSP stapling'" itemprop=url> haproxy <span class=caps>OCSP</span>&nbsp;stapling </a> </h2> <section itemprop=articleBody class=summary-content> <p>With haproxy 1.5 finally being released we are lucky enough to get a basic interface around <span class=caps>OCSP</span> stapling.</p> <p>Sadly this interface really is quite basic and it’s not the simplest thing to figure out without some trial and error.</p> <p>According to the official documentation, you should be able to pipe your <span class=caps>OCSP</span> response to haproxy via it’s stats socket. Sadly I could not get this to work properly at all, so I decided to swap the piping for a file and reload solution.</p> <p>You’ll need to get a copy of your certification authorities root certificate to proceed with this.</p> <div class=section id=looking-for-your-ocsp-uri> <h2>Looking for your <span class=caps>OCSP</span> <span class=caps>URI</span></h2> <p>If you don’t know the <span class=caps>URI</span> you need to do an <span class=caps>OCSP</span> lookup against, you can find it in your certificate data.</p> <div class=highlight><pre><span></span>openssl x509 -in /path/to/your/certificate -text
</pre></div> <p>Inside the output, look for the following section.</p> <pre class=literal-block>
Authority Information Access …</pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,ubuntu,haproxy,spdy,ssl> <meta itemprop=keywords content="deb builds"> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-03-06T03:32:00+00:00 itemprop=datePublished> 06 Mar 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/03/06/haproxy1.5-dev22kura1/ rel=bookmark title="Permalink to 'haproxy1.5-dev22kura1'" itemprop=url> haproxy1.5-dev22kura1 </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=changes> <h2>Changes</h2> <p>This patched version is built using the <cite>USE_ZLIB</cite> option, allowing for usage of compression or using haproxy as a compression offloader.</p> </div> <div class=section id=requirements> <h2>Requirements</h2> <p>haproxy requires openssl-1.0.1d or higher.</p> <p>On a standard Debian 7 install you should have openssl-1.0.1e-2, you can find which version you have by running</p> <div class=highlight><pre><span></span>dpkg -l openssl
</pre></div> <p>This should return something similar to</p> <pre class=literal-block>
ii  openssl        1.0.1e-2        amd64        Secure Socket Layer (SSL) binary and related cryptographic tools
</pre> </div> <div class=section id=build-notes> <h2>Build notes</h2> <p>Builds were done on Debian 7 <span class=caps>AMD64</span>, I will not be providing 32bit versions as this is mainly for my own usage and amusement.</p> <p>This haproxy build is compiled against openssl, providing the npn module, allowing for haproxy to work under <span class=caps>SSL</span>/<span class=caps>TLS</span> and allowing the use of <span class=caps>SPDY</span>/2 and <span class=caps>SPDY</span>/3.</p> <p>This version is available on <a href=/apt.kura.gg/ class="reference external">apt.kura.gg</a> or as a manual download, from the link below.</p> </div> <div class=section id=manual-download> <h2>Manual download …</h2></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,ubuntu,haproxy,spdy,ssl> <meta itemprop=keywords content="deb builds"> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-02-22T05:32:00+00:00 itemprop=datePublished> 22 Feb 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/02/22/haproxy1.5-dev22/ rel=bookmark title="Permalink to 'haproxy1.5-dev22'" itemprop=url> haproxy1.5-dev22 </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=requirements> <h2>Requirements</h2> <p>haproxy requires openssl-1.0.1d or higher.</p> <p>On a standard Debian 7 install you should have openssl-1.0.1e-2, you can find which version you have by running</p> <div class=highlight><pre><span></span>dpkg -l openssl
</pre></div> <p>This should return something similar to</p> <pre class=literal-block>
ii  openssl        1.0.1e-2        amd64        Secure Socket Layer (SSL) binary and related cryptographic tools
</pre> </div> <div class=section id=build-notes> <h2>Build notes</h2> <p>Builds were done on Debian 7 <span class=caps>AMD64</span>, I will not be providing 32bit versions as this is mainly for my own usage and amusement.</p> <p>This haproxy build is compiled against openssl, providing the npn module, allowing for haproxy to work under <span class=caps>SSL</span>/<span class=caps>TLS</span> and allowing the use of <span class=caps>SPDY</span>/2 and <span class=caps>SPDY</span>/3.</p> <p>This version is available on <a href=/apt.kura.gg/ class="reference external">apt.kura.gg</a> or as a manual download, from the link below.</p> </div> <div class=section id=manual-download> <h2>Manual download</h2> <table class=docutils> <tbody> <tr><td><a class="reference external" href=/files/haproxy_1.5-dev22_amd64.deb>haproxy_1.5-dev22_amd64.deb</a></td> </tr> </tbody> </table> </div> <div class=section id=md5> <h2><span class=caps>MD5</span></h2> <div class=highlight><pre><span></span>1d258aaf1592ac5d6cb34e495e283591  haproxy_1.5-dev22_amd64.deb
</pre></div> </div> <div class=section id=sha1> <h2><span class=caps>SHA1</span></h2> <div class=highlight><pre><span></span>f17cb661d2ceb1686a0a4b8566168503a0d372d9  haproxy_1.5-dev22_amd64.deb
</pre></div> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=haproxy,ssl> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-02-22T05:10:00+00:00 itemprop=datePublished> 22 Feb 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/02/22/haproxy-stateful-ssl-session-resumption/ rel=bookmark title="Permalink to 'haproxy stateful SSL session resumption'" itemprop=url> haproxy stateful <span class=caps>SSL</span> session&nbsp;resumption </a> </h2> <section itemprop=articleBody class=summary-content> <p>By default haproxy enables stateless <span class=caps>SSL</span> session resumption, but you can enable stateful session resumption in accordance with <a class="reference external" href=https://www.ietf.org/rfc/rfc5077.txt><span class=caps>RFC</span> 5077</a>. This functionality, like the <span class=caps>SSL</span> handling it relies on is only available from haproxy 1.5.</p> <div class=section id=configuration> <h2>Configuration</h2> <p>The option to enable stateful <span class=caps>SSL</span> session resumption is as below</p> <pre class=literal-block>
no-tls-tickets
</pre> <p>You will need to add it in to your bind line, like below</p> <pre class=literal-block>
bind 0.0.0.0:443 ssl ... no-tls-tickets
</pre> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,ubuntu,haproxy,nginx,spdy,pagespeed,ngx_pagespeed> <meta itemprop=keywords content="deb builds"> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-02-02T17:54:00+00:00 itemprop=datePublished> 02 Feb 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/02/02/nginx-1.5.9-and-ngx_pagespeed-1.7.30.3-beta/ rel=bookmark title="Permalink to 'nginx 1.5.9 and ngx_pagespeed 1.7.30.3-beta'" itemprop=url> nginx 1.5.9 and ngx_pagespeed&nbsp;1.7.30.3-beta </a> </h2> <section itemprop=articleBody class=summary-content> <p>I have built and released nginx 1.5.9 with ngx_pagespeed module 1.7.30.3-beta and published them on <a class="reference external" href=https://apt.kura.gg>apt.kura.gg</a>.</p> <div class=section id=manual-download-install> <h2>Manual download <span class=amp>&amp;</span> install</h2> <table class=docutils> <tbody> <tr><td><a class="reference external" href=/files/nginx_1.5.9_all.deb>nginx_1.5.9_all.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-common_1.5.9_all.deb>nginx-common_1.5.9_all.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-doc_1.5.9_all.deb>nginx-doc_1.5.9_all.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-light_1.5.9_amd64.deb>nginx-light_1.5.9_amd64.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-full_1.5.9_amd64.deb>nginx-full_1.5.9_amd64.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-extras_1.5.9_amd64.deb>nginx-extras_1.5.9_amd64.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-naxsi_1.5.9_amd64.deb>nginx-naxsi_1.5.9_amd64.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-naxsi-ui_1.5.9_all.deb>nginx-naxsi-ui_1.5.9_all.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-light-dbg_1.5.9_amd64.deb>nginx-light-dbg_1.5.9_amd64.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-full-dbg_1.5.9_amd64.deb>nginx-full-dbg_1.5.9_amd64.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-extras-dbg_1.5.9_amd64.deb>nginx-extras-dbg_1.5.9_amd64.deb</a></td> </tr> <tr><td><a class="reference external" href=/files/nginx-naxsi-dbg_1.5.9_amd64.deb>nginx-naxsi-dbg_1.5.9_amd64.deb</a></td> </tr> </tbody> </table> </div> <div class=section id=md5> <h2><span class=caps>MD5</span></h2> <div class=highlight><pre><span></span>e3595519df9865941f0bd5c2c28bba18  nginx_1.5.9_all.deb
b2f3e4dcded2ce419175be8f4329b81e  nginx-common_1.5.9_all.deb
379ea6ad2805f3584609617deb5d1db9  nginx-doc_1.5.9_all.deb
140247350a651b24bde7278ce1f18148  nginx-light_1.5.9_amd64.deb
0a28a4965f00a5e739187aa81a16af3f  nginx-full_1.5.9_amd64.deb
e54ab6b670cfe7d56502ef08b6e2656f  nginx-extras_1.5.9_amd64.deb
9bb9b524c523a69f9f263eefbe5f5783  nginx-naxsi_1.5.9_amd64.deb
7b8e254515d3b6f90b8e55c720d314b8 …</pre></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=haproxy,npn,spdy,http/1.1> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-01-31T15:25:00+00:00 itemprop=datePublished> 31 Jan 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/01/31/advertise-multiple-npn-protocols-with-haproxy/ rel=bookmark title="Permalink to 'Advertise multiple NPN protocols with haproxy'" itemprop=url> Advertise multiple <span class=caps>NPN</span> protocols with&nbsp;haproxy </a> </h2> <section itemprop=articleBody class=summary-content> <p>I have previously written an article on <a href=/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/ class="reference external">using <span class=caps>SPDY</span> with haproxy</a> but have been spending some time recently being annoyed that the <a class="reference external" href=https://spdycheck.org/#kura.gg><span class=caps>SPDY</span> check tool</a> said I didn’t advertise a fall back to <span class=caps>HTTP</span> over <span class=caps>SSL</span> in the <span class=caps>NPN</span> protocol list.</p> <p>After some digging I discovered it was actually quite simple to advertise multiple protocols using npn and haproxy.</p> <p>Previously my article called for using the following section of configuration at the end of the bind line.</p> <div class=highlight><pre><span></span>npn spdy/2
</pre></div> <p>To advertise <span class=caps>HTTP</span> protocols as well as <span class=caps>SPDY</span> you simply need to add them to the npn list, using commas as a delimiter.</p> <div class=highlight><pre><span></span>npn spdy/2,http/1.1
</pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,ubuntu,haproxy,nginx,spdy,pagespeed,ngx_pagespeed> <meta itemprop=keywords content="deb builds"> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-01-08T13:00:00+00:00 itemprop=datePublished> 08 Jan 2014 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/01/08/haproxy1.5-dev21-nginx-1.5.8-spdy-pagespeed-1.7.30.2/ rel=bookmark title="Permalink to 'haproxy1.5-dev21, nginx 1.5.8, SPDY & pagespeed 1.7.30.2'" itemprop=url> haproxy1.5-dev21, nginx 1.5.8, <span class=caps>SPDY</span> <span class=amp>&amp;</span> pagespeed&nbsp;1.7.30.2 </a> </h2> <section itemprop=articleBody class=summary-content> <p>I have previously released <a href=/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/ class="reference external">haproxy1.5-dev19 with <span class=caps>SSL</span> <span class=amp>&amp;</span> <span class=caps>SPDY</span> support enabled</a> and <a href=/2013/07/10/nginx-spdy-and-ngx-pagespeed/ class="reference external">nginx 1.4.1 with <span class=caps>SPDY</span> support and pagespeed</a>, although I do not remember which version of pagespeed.</p> <p>I have received a few messages asking me for the latest version of haproxy, nginx and pagespeed so I decided to finally build and release them.</p> <div class=section id=requirements> <h2>Requirements</h2> <p>haproxy requires openssl-1.0.1d or higher.</p> <p>On a standard Debian 7 install you should have openssl-1.0.1e-2, you can find which version you have by running</p> <div class=highlight><pre><span></span>dpkg -l openssl
</pre></div> <p>This should return something similar to</p> <pre class=literal-block>
ii  openssl        1.0.1e-2        amd64        Secure Socket Layer (SSL) binary and related cryptographic tools
</pre> </div> <div class=section id=build-notes> <h2>Build notes</h2> <p>Builds were done on Debian 7 <span class=caps>AMD64</span>, I will not be providing 32bit versions as this is mainly for my own usage and amusement.</p> </div> <div class=section id=haproxy> <h2>haproxy</h2> <p>This haproxy build is compiled against openssl, providing the npn module, allowing for haproxy …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=haproxy,stats> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-07-19T13:00:00+01:00 itemprop=datePublished> 19 Jul 2013 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/07/19/haproxy-stats/ rel=bookmark title="Permalink to 'haproxy stats'" itemprop=url> haproxy&nbsp;stats </a> </h2> <section itemprop=articleBody class=summary-content> <p>I recently wrote an article on <a href=/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/ class="reference external">using haproxy, <span class=caps>SSL</span> and <span class=caps>SPDY</span> with nginx backend servers</a>.</p> <p>This article is a little extra on top of that to explain how to enable statistics for haproxy so you can monitor the backend statuses etc.</p> <div class=section id=example-stats-page> <h2>Example stats page</h2> <img alt="Moar stats!" src=/images/haproxy-stats.png> </div> <div class=section id=enabling-stats> <h2>Enabling stats</h2> <pre class=literal-block>
listen stats :8000
    mode http
    stats enable
    stats hide-version
    stats realm haproxy\ stats
    stats uri /
    stats auth admin:admin
</pre> <p>Place the above content in the haproxy configuration file (<em>/etc/haproxy/haproxy.cfg</em>).</p> <p>Be sure to replace <em>admin:admin</em> with your a proper username and password, username first, password after the colon.</p> <p>Restart haproxy, and then browse to <a class="reference external" href=https://yoursite.com:8000>https://yousite.com:8000</a>.</p> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="debian,ubuntu,haproxy,nginx,spdy,ssl,ssl termination"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-07-15T22:30:00+01:00 itemprop=datePublished> 15 Jul 2013 </time>&nbsp;-- 5 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/ rel=bookmark title="Permalink to 'haproxy, nginx and SPDY with SSL termination (Debian 7)'" itemprop=url> haproxy, nginx and <span class=caps>SPDY</span> with <span class=caps>SSL</span> termination (Debian&nbsp;7) </a> </h2> <section itemprop=articleBody class=summary-content> <p><a href=/2013/07/10/nginx-spdy-and-ngx-pagespeed/ class="reference external">I wrote an article last week</a> explaining that I had changed my blog and built my own nginx packages with <a class="reference external" href=https://www.chromium.org/spdy><span class=caps>SPDY</span></a> built in.</p> <p>I decided I would take things a little further and poke around with haproxy some more. The initial plan was to compile the latest dev source of haproxy with <span class=caps>SSL</span> termination enabled.</p> <p>In doing so I realised I would lose <span class=caps>SPDY</span> support, which upset me a little. After some digging I found that the 1.5-dev branch of haproxy supports npn and thus can handle <span class=caps>SPDY</span>.</p> <p>I tweaked my builds a little more and managed to get haproxy running as an <span class=caps>SSL</span> terminating load balancer, with <span class=caps>SPDY</span> connections being sent off to my nginx servers with <span class=caps>SPDY</span> enabled and all other non-<span class=caps>SPDY</span> connections were passed on to an nginx virtual host with <span class=caps>SPDY</span> disabled.</p> <div class=section id=requirements> <h2>Requirements</h2> <p>I have released my haproxy build as a debian file below …</p></div> </section> </article> <div class=eevee-page-spacer role=presentation></div> </div> </div> </main> <div class="eevee-pagination__container eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"> <nav class="eevee-pagination mdl-cell mdl-cell--12-col" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label=Pagination> <div class=eevee-spacer></div> </nav> </div> </div> <footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement> <div class=mdl-mega-footer--top-section> <div class=mdl-mega-footer--drop-down-section> <ul class=mdl-mega-footer--link-list> <li> <a href=#top itemprop=url title="Back to the top of the page"> Back to the top of the page </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Footer navigation"> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Menu</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> </li> <li> <a href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> </li> <li> <a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> </li> <li> <a href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Social</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i class=fa aria-hidden=true>&#xF09B;</i> Github </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Links</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://kura.gg/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> </li> <li> <a href=https://kura.gg/yarg itemprop=url rel=bookmark title=Yarg> <i class=material-icons aria-hidden=true>&#xE86F;</i> Yarg </a> </li> <li> <a href=https://kura.gg/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=https://kura.gg/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> </li> <li> <a href=https://kura.gg/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--bottom-section> <div class=mdl-logo> <a href=https://kura.gg rel=bookmark itemprop=url title=kura.gg> kura.gg </a> </div> <ul class="eevee-footer mdl-mega-footer--link-list"> <li>Powered by love &amp; rainbow sparkles.</li> <li>Source code and content released under the <a href=/license/ title="MIT license">MIT license</a>.</li> </ul> </div> </footer> </div> <link rel=stylesheet href=https://kura.gg/theme/css/eevee.min.css?e96887dc> <script async src=https://kura.gg/theme/js/eevee.min.js?1841d254 nonce=REPLACEMENT_NONCE_f8Qeqqx8yd33jPY2AoZUU7UJMH376hMt></script> </body> </html>