<!doctype html><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0" name=viewport><link href=https://kura.gg hreflang=en rel=alternate><link href=https://kura.gg rel=dns-prefetch><style>CSS_REPLACEMENT_TOKEN</style><script>JS_REPLACEMENT_TOKEN</script><link href=https://kura.gg/feeds/rss.xml rel=alternate title=kura.gg type=application/rss+xml><link href=https://kura.gg/feeds/atom.xml rel=alternate title=kura.gg type=application/atom+xml><meta content=kura.gg property=og:site_name><meta content=article property=og:type><meta content=kura.gg property=og:title><meta content=https://kura.gg/tag/debian/index.html property=og:url><meta content=https://kura.gg/tag/debian/index.png property=og:image><meta content=1920 property=og:image:width><meta content=1080 property=og:image:height><meta content=kura.gg property=twitter:title><meta content=https://kura.gg/tag/debian/index.html property=twitter:url><meta content=https://kura.gg/tag/debian/index.png property=twitter:image><meta content=summary_large_image property=twitter:card><meta content=1920 property=twitter:image:width><meta content=1080 property=twitter:image:height><link sizes="16x16 32x32 48x48 64x64 128x128 256x256" href=/favicon.png rel=icon type=image/png><link sizes="16x16 32x32 48x48 64x64 128x128 256x256" href=/favicon.ico rel=icon type=image/vnd.microsoft.icon><title>Articles with the 'Debian' tag</title><body><div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"><header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader><div class=mdl-layout__header-row><div class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only" aria-expanded=false role=button tabindex=0><i class=material-icons></i></div><span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top><a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a></h2> </span><div class=mdl-layout-spacer role=presentation></div><nav aria-label="Header navigation" class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement><a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons></i> Blackhole </a><a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons></i> Eevee </a><a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons></i> Hauntr </a><a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons></i> Ghastly </a><a class="mdl-color-text--accent mdl-navigation__link" title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons></i> Pelican Plugins </a><a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons></i> Contact </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons></i> Archives </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons></i> RSS </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons></i> Atom </a></nav></div></header><div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true><span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent">kura.gg</h2> </span><div class="mdl-navigation mdl-color--white"><nav aria-label="Header navigation" class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons>  </i> Home </a><a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons></i> Blackhole </a><a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons></i> Eevee </a><a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons></i> Hauntr </a><a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons></i> Ghastly </a><a class="mdl-color-text--accent mdl-navigation__link" title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons></i> Pelican Plugins </a><a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons></i> Contact </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons></i> Archives </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons></i> RSS </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons></i> Atom </a></nav></div></div><div class="eevee-ribbon mdl-color--primary-dark" role=presentation></div><main class="eevee-main mdl-layout__content"><div class="eevee-container mdl-grid"><div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone" role=presentation></div><div aria-label="Main content" class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="Ian Murdock,Debian" itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2015-12-30T22:34:00+00:00 itemprop=datePublished> 30 Dec 2015 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Farewell Ian'" href=https://kura.gg/2015/12/30/farewell-ian/ itemprop=url rel=bookmark> Farewell Ian </a></h2><section class=summary-content itemprop=articleBody><div class=figure><img alt="Ian Murdock" src=/images/ian-murdock.png><p class=caption>Image by Stephen Shankland</div><p>Today news arrived that broke my heart, Ian Murdock has passed away. I never met Ian but he had an enormous impact on my life, through his work.<p>Debian has been my operating system of choice for many years now, it runs on all of my servers and my home computers. Ian’s vision for the operating system is why I started using it and use it to this day. It’s why I’ve continued to work on the operating system and create packages of all of my work for it.<p>Ian is, without a doubt, one of the biggest influences on my career and on my life.<p>Farewell sir, you will be missed.</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,wheezy,postfix,dovecot,mail,encrypted itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2015-01-26T21:25:00+00:00 itemprop=datePublished> 26 Jan 2015 </time> — 3 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Debian Wheezy encrypted Maildir using encfs'" href=https://kura.gg/2015/01/26/debian-wheezy-encrypted-maildir-using-encfs/ itemprop=url rel=bookmark> Debian Wheezy encrypted Maildir using encfs </a></h2><section class=summary-content itemprop=articleBody><p>This is really a follow up article to <a class="reference external" href=/debian-wheezy-tls-mailserver-with-mysql-clamav-domainkeys-dkim-spf-solr-imap-search/>one I wrote earlier this year</a> but is really applicable to any similar set-up, with some modifications. The only configuration similarity this requires is that mail for all users is stored on the filesystem in the same place, rather than to separate locations i.e. each user having ~/.Maildir.<div class=section id=encfs><h2><a class=toc-backref href=#toc-entry-1>EncFS</a></h2><div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>encfs
</pre></div><p>Once installed, you’ll need to make a directory for encrypted and decrypted mail to live.<div class=highlight><pre><span></span>sudo<span class=w> </span>mkdir<span class=w> </span>/var/mail/encrypted<span class=w> </span>/var/mail/decrypted
</pre></div><p>You’ll need to set up permissions so your mail user can access the fuse device and the new directories.<p>For me, this user and group are called <em>vmail</em> but yours may be different.<div class=highlight><pre><span></span>sudo<span class=w> </span>chgrp<span class=w> </span>mail<span class=w> </span>/var/mail/decrypted
sudo<span class=w> </span>g+rw<span class=w> </span>/var/mail/decrypted
sudo<span class=w> </span>usermod<span class=w> </span>-a<span class=w> </span>-g<span class=w> </span>fuse<span class=w> </span>vmail
sudo<span class=w> </span>chgrp<span class=w> </span>fuse<span class=w> </span>/dev/fuse
sudo<span class=w> </span>chmod<span class=w> </span>g+rw<span class=w> </span>/dev/fuse
</pre></div><p>Next …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,wheezy,postfix,dovecot,clamav,domainkeys,dkim,spf,imap itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2015-01-03T19:48:00+00:00 itemprop=datePublished> 03 Jan 2015 </time> — 9 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Debian Wheezy TLS mailserver with MySQL, ClamAV, DomainKeys, DKIM, SPF and Solr-powered IMAP SEARCH'" href=https://kura.gg/2015/01/03/debian-wheezy-tls-mailserver-with-mysql-clamav-domainkeys-dkim-spf-solr-imap-search/ itemprop=url rel=bookmark> Debian Wheezy <span class=caps>TLS</span> mailserver with MySQL, ClamAV, DomainKeys, <span class=caps>DKIM</span>, <span class=caps>SPF</span> and Solr-powered <span class=caps>IMAP</span> <span class=caps>SEARCH</span> </a></h2><section class=summary-content itemprop=articleBody><p>This mail platform does use a fair amount of memory, the memory usage is ClamAV and Solr, the latter being used for <span class=caps>IMAP</span> <span class=caps>SEARCH</span>. I personally use 2 <span class=caps>GB</span>.<p>I’ll warn you all now, this is a long article.<div class=section id=ssl><h2><a class=toc-backref href=#toc-entry-1><span class=caps>SSL</span></a></h2><div class=highlight><pre><span></span>sudo openssl genrsa -out /etc/ssl/private/mail.key 4096
sudo openssl req -new -key /etc/ssl/private/mail.key -out /tmp/mail.csr
sudo openssl x509 -req -days 365 -in /tmp/mail.csr -signkey /etc/ssl/private/mail.key -out /etc/ssl/certs/mail.crt
</pre></div></div><div class=section id=mysql><h2><a class=toc-backref href=#toc-entry-2>MySQL</a></h2><div class=highlight><pre><span></span>sudo apt-get install mysql-server
</pre></div><p>You’ll be prompted several times for a password for MySQL during the installation, just come up with something nice and secure.<p>The first thing to set-up will be the MySQL database and schema.<div class=highlight><pre><span></span>mysql -u root -p
</pre></div><p>Next up, create the database.<div class=highlight><pre><span></span>CREATE DATABASE mailserver CHARACTER SET utf8 COLLATE utf8_general_ci;
</pre></div><p>And grant some privileges, you’ll need …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,ubuntu,haproxy,spdy,ssl itemprop=keywords><meta content="deb builds" itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-03-06T03:32:00+00:00 itemprop=datePublished> 06 Mar 2014 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'haproxy1.5-dev22kura1'" href=https://kura.gg/2014/03/06/haproxy1.5-dev22kura1/ itemprop=url rel=bookmark> haproxy1.5-dev22kura1 </a></h2><section class=summary-content itemprop=articleBody><div class=section id=changes><h2>Changes</h2><p>This patched version is built using the <cite>USE_ZLIB</cite> option, allowing for usage of compression or using haproxy as a compression offloader.</div><div class=section id=requirements><h2>Requirements</h2><p>haproxy requires openssl-1.0.1d or higher.<p>On a standard Debian 7 install you should have openssl-1.0.1e-2, you can find which version you have by running<div class=highlight><pre><span></span>dpkg -l openssl
</pre></div><p>This should return something similar to<pre class=literal-block>
ii  openssl        1.0.1e-2        amd64        Secure Socket Layer (SSL) binary and related cryptographic tools
</pre></div><div class=section id=build-notes><h2>Build notes</h2><p>Builds were done on Debian 7 <span class=caps>AMD64</span>, I will not be providing 32bit versions as this is mainly for my own usage and amusement.<p>This haproxy build is compiled against openssl, providing the npn module, allowing for haproxy to work under <span class=caps>SSL</span>/<span class=caps>TLS</span> and allowing the use of <span class=caps>SPDY</span>/2 and <span class=caps>SPDY</span>/3.<p>This version is available on <a class="reference external" href=/apt.kura.gg/>apt.kura.gg</a> or as a manual download, from the link below.</div><div class=section id=manual-download><h2>Manual download</h2><table class=docutils><tbody><tr><td><a class="reference external" href=/files/haproxy_1.5-dev22kura1_amd64.deb>haproxy_1 …</a></table></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,ubuntu,vagrant,go,bash,completion itemprop=keywords><meta content="deb builds" itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-02-27T23:14:00+00:00 itemprop=datePublished> 27 Feb 2014 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'vagrant-bash-completion & go-bash-completion on apt.kura.gg'" href=https://kura.gg/2014/02/27/vagrant-bash-completion-and-go-bash-completion-on-apt.kura.gg/ itemprop=url rel=bookmark> vagrant-bash-completion <span class=amp>&</span> go-bash-completion on apt.kura.gg </a></h2><section class=summary-content itemprop=articleBody><div class=section id=requirements><h2>Requirements</h2><ul class=simple><li>bash-completion 1:2.0</ul></div><div class=section id=downloads><h2>Downloads</h2><p>There versions are available on <a class="reference external" href=/apt.kura.gg/>apt.kura.gg</a> or as a manual download, from the links below.</div><div class=section id=manual-download><h2>Manual download</h2><table class=docutils><tbody><tr><td><a class="reference external" href=/files/vagrant-bash-completion-0.0.6.deb>vagrant-bash-completion-0.0.6.deb</a><tr><td><a class="reference external" href=/files/go-bash-completion-0.0.1.deb>go-bash-completion-0.0.1.deb</a></table></div><div class=section id=md5><h2><span class=caps>MD5</span></h2><div class=highlight><pre><span></span>1dcb73ca965b3731df20823a6005392c  vagrant-bash-completion-0.0.6.deb
db494d0bf1b3dcdbcce5b0111ad377a0  go-bash-completion-0.0.1.deb
</pre></div></div><div class=section id=sha1><h2><span class=caps>SHA1</span></h2><div class=highlight><pre><span></span>ed6890fdd08ac459a0f61112fcfb48f9e3ce953d  vagrant-bash-completion-0.0.6.deb
fd92cd53f2d6ff98077cb10d3578381025d002e7  go-bash-completion-0.0.1.deb
</pre></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,ubuntu,haproxy,spdy,ssl itemprop=keywords><meta content="deb builds" itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-02-22T05:32:00+00:00 itemprop=datePublished> 22 Feb 2014 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'haproxy1.5-dev22'" href=https://kura.gg/2014/02/22/haproxy1.5-dev22/ itemprop=url rel=bookmark> haproxy1.5-dev22 </a></h2><section class=summary-content itemprop=articleBody><div class=section id=requirements><h2>Requirements</h2><p>haproxy requires openssl-1.0.1d or higher.<p>On a standard Debian 7 install you should have openssl-1.0.1e-2, you can find which version you have by running<div class=highlight><pre><span></span>dpkg -l openssl
</pre></div><p>This should return something similar to<pre class=literal-block>
ii  openssl        1.0.1e-2        amd64        Secure Socket Layer (SSL) binary and related cryptographic tools
</pre></div><div class=section id=build-notes><h2>Build notes</h2><p>Builds were done on Debian 7 <span class=caps>AMD64</span>, I will not be providing 32bit versions as this is mainly for my own usage and amusement.<p>This haproxy build is compiled against openssl, providing the npn module, allowing for haproxy to work under <span class=caps>SSL</span>/<span class=caps>TLS</span> and allowing the use of <span class=caps>SPDY</span>/2 and <span class=caps>SPDY</span>/3.<p>This version is available on <a class="reference external" href=/apt.kura.gg/>apt.kura.gg</a> or as a manual download, from the link below.</div><div class=section id=manual-download><h2>Manual download</h2><table class=docutils><tbody><tr><td><a class="reference external" href=/files/haproxy_1.5-dev22_amd64.deb>haproxy_1.5-dev22_amd64.deb</a></table></div><div class=section id=md5><h2><span class=caps>MD5</span></h2><div class=highlight><pre><span></span>1d258aaf1592ac5d6cb34e495e283591  haproxy_1.5-dev22_amd64.deb
</pre></div></div><div class=section id=sha1><h2><span class=caps>SHA1</span></h2><div class=highlight><pre><span></span>f17cb661d2ceb1686a0a4b8566168503a0d372d9  haproxy_1.5-dev22_amd64.deb
</pre></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,ubuntu,nginx,spdy,pagespeed,ngx_pagespeed itemprop=keywords><meta content="deb builds" itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-02-06T03:30:00+00:00 itemprop=datePublished> 06 Feb 2014 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'nginx 1.5.10 with SPDY 3.1'" href=https://kura.gg/2014/02/06/nnginx-1.5.10-with-spdy3.1/ itemprop=url rel=bookmark> nginx 1.5.10 with <span class=caps>SPDY</span> 3.1 </a></h2><section class=summary-content itemprop=articleBody><p>I have built and released nginx 1.5.10 with <span class=caps>SPDY</span> 3.1. Like the <a class="reference external" href=/2014/02/02/nginx-1.5.9-and-ngx_pagespeed-1.7.30.3-beta/>nginx 1.5.9 release</a> , this release comes with ngx_pagespeed 1.7.30.3-beta and is available on <a class="reference external" href=https://apt.kura.gg>apt.kura.gg</a> or as downloads below.<div class=section id=manual-download><h2>Manual download</h2><table class=docutils><tbody><tr><td><a class="reference external" href=/files/nginx_1.5.10_all.deb>nginx_1.5.10_all.deb</a><tr><td><a class="reference external" href=/files/nginx-common_1.5.10_all.deb>nginx-common_1.5.10_all.deb</a><tr><td><a class="reference external" href=/files/nginx-doc_1.5.10_all.deb>nginx-doc_1.5.10_all.deb</a><tr><td><a class="reference external" href=/files/nginx-light_1.5.10_amd64.deb>nginx-light_1.5.10_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-full_1.5.10_amd64.deb>nginx-full_1.5.10_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-extras_1.5.10_amd64.deb>nginx-extras_1.5.10_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-naxsi_1.5.10_amd64.deb>nginx-naxsi_1.5.10_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-naxsi-ui_1.5.10_all.deb>nginx-naxsi-ui_1.5.10_all.deb</a><tr><td><a class="reference external" href=/files/nginx-light-dbg_1.5.10_amd64.deb>nginx-light-dbg_1.5.10_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-full-dbg_1.5.10_amd64.deb>nginx-full-dbg_1.5.10_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-extras-dbg_1.5.10_amd64.deb>nginx-extras-dbg_1.5.10_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-naxsi-dbg_1.5.10_amd64.deb>nginx-naxsi-dbg_1.5.10_amd64.deb</a></table></div><div class=section id=md5><h2><span class=caps>MD5</span></h2><div class=highlight><pre><span></span>9fe2e5273cc195161268f7d85261c4e2  nginx_1.5.10_all.deb
edc55aa4866036eade02cd49957a9126  nginx-common_1.5.10_all.deb
0361cdb3d00ac6e65c5e9d6167ba0d36  nginx-doc_1.5.10_all.deb
833264c08fc6212f55ae37c26bd5cbc5  nginx-light_1.5.10_amd64.deb
c5c1ffa0dd93673ac4a859a11d1b3b50  nginx-full_1.5.10_amd64.deb
245d7628f143a6116ceb30c707264737  nginx-extras_1.5.10_amd64.deb
dc404a346db86006672b5a6f8b016402  nginx-naxsi_1.5.10_amd64.deb
ad3b7cf166752c2a8017bba8f6810496  nginx-naxsi-ui_1.5.10_all.deb
cdb47100b4fef09bb8a8e414cd48554e  nginx-light-dbg_1.5.10_amd64.deb
1ee2067aef2e1fcbc559dfdf9b8269ad  nginx-full-dbg_1.5.10_amd64.deb
9f528d80802dd6a78d85b8558e65f650  nginx-extras-dbg_1.5.10_amd64.deb
324dbf6afdff615d7c2bbe367f73bd1f  nginx-naxsi-dbg_1.5.10_amd64 …</pre></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,ubuntu,haproxy,nginx,spdy,pagespeed,ngx_pagespeed itemprop=keywords><meta content="deb builds" itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-02-02T17:54:00+00:00 itemprop=datePublished> 02 Feb 2014 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'nginx 1.5.9 and ngx_pagespeed 1.7.30.3-beta'" href=https://kura.gg/2014/02/02/nginx-1.5.9-and-ngx_pagespeed-1.7.30.3-beta/ itemprop=url rel=bookmark> nginx 1.5.9 and ngx_pagespeed 1.7.30.3-beta </a></h2><section class=summary-content itemprop=articleBody><p>I have built and released nginx 1.5.9 with ngx_pagespeed module 1.7.30.3-beta and published them on <a class="reference external" href=https://apt.kura.gg>apt.kura.gg</a>.<div class=section id=manual-download-install><h2>Manual download <span class=amp>&</span> install</h2><table class=docutils><tbody><tr><td><a class="reference external" href=/files/nginx_1.5.9_all.deb>nginx_1.5.9_all.deb</a><tr><td><a class="reference external" href=/files/nginx-common_1.5.9_all.deb>nginx-common_1.5.9_all.deb</a><tr><td><a class="reference external" href=/files/nginx-doc_1.5.9_all.deb>nginx-doc_1.5.9_all.deb</a><tr><td><a class="reference external" href=/files/nginx-light_1.5.9_amd64.deb>nginx-light_1.5.9_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-full_1.5.9_amd64.deb>nginx-full_1.5.9_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-extras_1.5.9_amd64.deb>nginx-extras_1.5.9_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-naxsi_1.5.9_amd64.deb>nginx-naxsi_1.5.9_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-naxsi-ui_1.5.9_all.deb>nginx-naxsi-ui_1.5.9_all.deb</a><tr><td><a class="reference external" href=/files/nginx-light-dbg_1.5.9_amd64.deb>nginx-light-dbg_1.5.9_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-full-dbg_1.5.9_amd64.deb>nginx-full-dbg_1.5.9_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-extras-dbg_1.5.9_amd64.deb>nginx-extras-dbg_1.5.9_amd64.deb</a><tr><td><a class="reference external" href=/files/nginx-naxsi-dbg_1.5.9_amd64.deb>nginx-naxsi-dbg_1.5.9_amd64.deb</a></table></div><div class=section id=md5><h2><span class=caps>MD5</span></h2><div class=highlight><pre><span></span>e3595519df9865941f0bd5c2c28bba18  nginx_1.5.9_all.deb
b2f3e4dcded2ce419175be8f4329b81e  nginx-common_1.5.9_all.deb
379ea6ad2805f3584609617deb5d1db9  nginx-doc_1.5.9_all.deb
140247350a651b24bde7278ce1f18148  nginx-light_1.5.9_amd64.deb
0a28a4965f00a5e739187aa81a16af3f  nginx-full_1.5.9_amd64.deb
e54ab6b670cfe7d56502ef08b6e2656f  nginx-extras_1.5.9_amd64.deb
9bb9b524c523a69f9f263eefbe5f5783  nginx-naxsi_1.5.9_amd64.deb
7b8e254515d3b6f90b8e55c720d314b8  nginx-naxsi-ui_1.5.9_all.deb
389b8b53360695d5fbbff183a3e94c4a  nginx-light-dbg_1.5.9_amd64.deb
b8b44d1519cb59761984bc06159aee85  nginx-full-dbg_1.5.9_amd64.deb
c8139d0abb8a04b22507342a80e6f5ea  nginx-naxsi-dbg_1.5.9_amd64.deb
76466c2c427e7263b3629b413ebd49a6  nginx-extras-dbg_1.5.9_amd64.deb
</pre></div></div><div class=section id=sha1><h2><span class=caps>SHA1</span></h2><div class=highlight><pre><span></span>cc1e71b89c30de80083e55acb4b4cebc0f5f1fd7  nginx_1.5.9_all.deb
07d2bb7bdb038f5491b8707a56dafbf0a10a1b74  nginx-common_1.5.9_all.deb
ba0921fc31ae539fba175ab4392b3bc691593047  nginx-doc_1.5.9_all …</pre></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,ubuntu,haproxy,nginx,spdy,pagespeed,ngx_pagespeed itemprop=keywords><meta content="deb builds" itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-01-08T13:00:00+00:00 itemprop=datePublished> 08 Jan 2014 </time> — 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'haproxy1.5-dev21, nginx 1.5.8, SPDY & pagespeed 1.7.30.2'" href=https://kura.gg/2014/01/08/haproxy1.5-dev21-nginx-1.5.8-spdy-pagespeed-1.7.30.2/ itemprop=url rel=bookmark> haproxy1.5-dev21, nginx 1.5.8, <span class=caps>SPDY</span> <span class=amp>&</span> pagespeed 1.7.30.2 </a></h2><section class=summary-content itemprop=articleBody><p>I have previously released <a class="reference external" href=/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/>haproxy1.5-dev19 with <span class=caps>SSL</span> <span class=amp>&</span> <span class=caps>SPDY</span> support enabled</a> and <a class="reference external" href=/2013/07/10/nginx-spdy-and-ngx-pagespeed/>nginx 1.4.1 with <span class=caps>SPDY</span> support and pagespeed</a>, although I do not remember which version of pagespeed.<p>I have received a few messages asking me for the latest version of haproxy, nginx and pagespeed so I decided to finally build and release them.<div class=section id=requirements><h2>Requirements</h2><p>haproxy requires openssl-1.0.1d or higher.<p>On a standard Debian 7 install you should have openssl-1.0.1e-2, you can find which version you have by running<div class=highlight><pre><span></span>dpkg<span class=w> </span>-l<span class=w> </span>openssl
</pre></div><p>This should return something similar to<pre class=literal-block>
ii  openssl        1.0.1e-2        amd64        Secure Socket Layer (SSL) binary and related cryptographic tools
</pre></div><div class=section id=build-notes><h2>Build notes</h2><p>Builds were done on Debian 7 <span class=caps>AMD64</span>, I will not be providing 32bit versions as this is mainly for my own usage and amusement.</div><div class=section id=haproxy><h2>haproxy</h2><p>This haproxy build is compiled against openssl, providing the npn module, allowing for haproxy …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="debian,ubuntu,haproxy,nginx,spdy,ssl,ssl termination" itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2013-07-15T22:30:00+01:00 itemprop=datePublished> 15 Jul 2013 </time> — 5 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'haproxy, nginx and SPDY with SSL termination (Debian 7)'" href=https://kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/ itemprop=url rel=bookmark> haproxy, nginx and <span class=caps>SPDY</span> with <span class=caps>SSL</span> termination (Debian 7) </a></h2><section class=summary-content itemprop=articleBody><p><a class="reference external" href=/2013/07/10/nginx-spdy-and-ngx-pagespeed/>I wrote an article last week</a> explaining that I had changed my blog and built my own nginx packages with <a class="reference external" href=https://www.chromium.org/spdy><span class=caps>SPDY</span></a> built in.<p>I decided I would take things a little further and poke around with haproxy some more. The initial plan was to compile the latest dev source of haproxy with <span class=caps>SSL</span> termination enabled.<p>In doing so I realised I would lose <span class=caps>SPDY</span> support, which upset me a little. After some digging I found that the 1.5-dev branch of haproxy supports npn and thus can handle <span class=caps>SPDY</span>.<p>I tweaked my builds a little more and managed to get haproxy running as an <span class=caps>SSL</span> terminating load balancer, with <span class=caps>SPDY</span> connections being sent off to my nginx servers with <span class=caps>SPDY</span> enabled and all other non-<span class=caps>SPDY</span> connections were passed on to an nginx virtual host with <span class=caps>SPDY</span> disabled.<div class=section id=requirements><h2>Requirements</h2><p>I have released my haproxy build as a debian file below …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,ubuntu,nginx,spdy,pagespeed,ngx_pagespeed,mod_pagespeed itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2013-07-10T22:30:00+01:00 itemprop=datePublished> 10 Jul 2013 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'nginx, SPDY and ngx_pagespeed (Debian/Ubuntu)'" href=https://kura.gg/2013/07/10/nginx-spdy-and-ngx-pagespeed/ itemprop=url rel=bookmark> nginx, <span class=caps>SPDY</span> and ngx_pagespeed (Debian/Ubuntu) </a></h2><section class=summary-content itemprop=articleBody><p>I decided to rebuild syslog.tv as pure <span class=caps>HTML</span> using <span class=caps>RST</span> and <a class="reference external" href=https://blog.getpelican.com/>Pelican</a> and rebrand it as kura.gg.<p>In doing so I decided I would go all out and use <a class="reference external" href=https://www.chromium.org/spdy><span class=caps>SPDY</span></a> and <a class="reference external" href=https://nginx.org/en/docs/http/ngx_http_spdy_module.html>ngx_pagespeed</a> (<a class="reference external" href=https://developers.google.com/speed/>mod_pagespeed</a>) for fun to see exactly what I could do.<p>Sadly no version of nginx has been officially released with <span class=caps>SPDY</span> or ngx_pagespeed enabled, you can compile nginx from source to enable <span class=caps>SPDY</span> so I thought I would go ahead and do it, releasing some Debian packages in the process.<p>After compiling nginx from the source package available at the <a class="reference external" href=https://launchpad.net/~nginx>Ubuntu <span class=caps>PPA</span></a>, I decided I would go further and compile in ngx_pagespeed.<div class=section id=installing><h2>Installing</h2><p>I have released the 4 required debian packages below (please note they are only available for amd64);<table class=docutils><thead><tr><th class=head><span class=caps>FILE</span><th class=head><span class=caps>GPG</span><th class=head><span class=caps>MD5</span><th class=head><span class=caps>SHA1</span><tbody><tr><td><a class="reference external" href=/files/nginx_1.4.1_all.deb>nginx_1.4.1_all.deb</a><td><a class="reference external" href=/files/nginx_1.4.1_all.deb.asc>owGMl1NwLw…</a><td><a class="reference external" href=/files/nginx_1.4.1_all.deb.md5>42f790a1f6…</a><td><a class="reference external" href=/files/nginx_1.4.1_all.deb.sha1>f4495055e9…</a><tr><td><a class="reference external" href=/files/nginx-common_1.4.1_all.deb>nginx-common_1.4.1_all.deb</a><td><a class="reference external" href=/files/nginx-common_1.4.1_all.deb.asc>owGMt1NwJU…</a><td><a class="reference external" href=/files/nginx-common_1.4.1_all.deb.md5>ca4ec5688d…</a><td><a class="reference external" href=/files/nginx-common_1.4.1_all.deb.sha1>633bfc2eaa…</a><tr><td><a class="reference external" href=/files/nginx-full_1.4.1_amd64.deb>nginx-full_1.4.1_amd64.deb</a><td><a class="reference external" href=/files/nginx-full_1.4.1_amd64.deb.asc>owG09ndUk1…</a><td><a class="reference external" href=/files/nginx-full_1.4.1_amd64.deb.md5>4776dc6c7f…</a><td><a class="reference external" href=/files/nginx-full_1.4.1_amd64.deb.sha1>0e4e124acc…</a><tr><td><a class="reference external" href=/files/nginx-doc_1.4.1_all.deb>nginx-doc_1 …</a></table></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=amazon,aws,backup,debian,s3,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2012-02-29T20:55:00+00:00 itemprop=datePublished> 29 Feb 2012 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Backup a Linux server to Amazon S3 on Debian 6/Ubuntu 10.04'" href=https://kura.gg/2012/02/29/backup-a-linux-server-to-amazon-s3-on-debian-6ubuntu-10-04/ itemprop=url rel=bookmark> Backup a Linux server to Amazon S3 on Debian 6/Ubuntu 10.04 </a></h2><section class=summary-content itemprop=articleBody><p>I have several servers powering syslog including it’s <a class="reference external" href=https://rpi.syslog.tv/>Raspberry Pi</a> mirror, load balancer and email servers. All of my servers are hosted using <a class="reference external" href="https://www.linode.com/?r=8d58820f89940a1a68832c0cdd53109727cfa622">Linode</a> in their London data centre and have Linode’s back-up system doing both daily and weekly snapshots.<p>For the app and database servers I do server-side backups storing each website and it’s database in it’s own folder within /backup in case I require a quick back-up to fix something, rather than the server has died.<p>This is all well and good but I like having an off-site backup too and for that I use <a class="reference external" href=https://aws.amazon.com/s3/>S3</a>…<div class=section id=about-s3><h2>About S3</h2><p>Amazon’s S3 is pretty cheap and very easy to use. Because only data is going in you don’t pay a transfer fee and the cost of storage is very affordable, you can see a <a class="reference external" href=https://aws.amazon.com/s3/#pricing>pricing list here</a>.<p>To do the backup I use a …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="automatic update,debian,unattended-upgrades,update" itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2012-01-28T17:41:00+00:00 itemprop=datePublished> 28 Jan 2012 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Automatic/Unattended updates on Debian 6 (Squeeze)'" href=https://kura.gg/2012/01/28/automaticunattended-updates-on-debian-6-squeeze/ itemprop=url rel=bookmark> Automatic/Unattended updates on Debian 6 (Squeeze) </a></h2><section class=summary-content itemprop=articleBody><p>The unattended-upgrades package used on Debian is based on the one from Ubuntu. It is generally pretty safe in my opinion but I only ever enable it for security upgrades.<div class=section id=installation><h2>Installation</h2><div class=highlight><pre><span></span>apt-get<span class=w> </span>install<span class=w> </span>unattended-upgrades<span class=w> </span>apticron
</pre></div><p><em>unattended-upgrades</em> handles the actual updates, <em>apticron</em> is used for emailing you of available updates - it is not required but I like it.</div><div class=section id=configuring-unattended-upgrades><h2>Configuring unattended-upgrades</h2><p>Open up <strong>/etc/apt/apt.conf.d/50unattended-upgrades</strong> and change it to the content below.<pre class=literal-block>
APT::Periodic::Enable "1";
APT::Periodic::Update-Package-Lists "1";
APT::Periodic::AutocleanInterval "7";
APT::Periodic::Unattended-Upgrade "1";
Unattended-Upgrade::Mail "**YOUR_EMAIL_HERE**";

// Automatically upgrade packages from these (origin, archive) pairs
Unattended-Upgrade::Allowed-Origins {
    "${distro_id} stable";
    "${distro_id} ${distro_codename}-security";
};

// Automatically reboot *WITHOUT CONFIRMATION* if a
 // the file /var/run/reboot-required is found after the upgrade
 Unattended-Upgrade::Automatic-Reboot "false";
</pre><p>So lets explain the above. As you can see we enable periodic updates, enable update package lists (triggers an apt-get update), enable autoclean …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,keyserver,pgp,sks,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2011-12-17T15:58:00+00:00 itemprop=datePublished> 17 Dec 2011 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Running your own PGP keyserver with SKS on Debian 6/Ubuntu 10.04'" href=https://kura.gg/2011/12/17/running-your-own-pgp-keyserver-with-sks-on-debian-6ubuntu-10-04/ itemprop=url rel=bookmark> Running your own <span class=caps>PGP</span> keyserver with <span class=caps>SKS</span> on Debian 6/Ubuntu 10.04 </a></h2><section class=summary-content itemprop=articleBody><div class=section id=installation><h2>Installation</h2><p>To install we need to run the following command:<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>-y<span class=w> </span>sks
</pre></div><p>Now we build the key database:<div class=highlight><pre><span></span>sudo<span class=w> </span>sks<span class=w> </span>build
</pre></div><p>And change the permissions for the sks user:<div class=highlight><pre><span></span>sudo<span class=w> </span>chown<span class=w> </span>-R<span class=w> </span>debian-sks:debian-sks<span class=w> </span>/var/lib/sks/DB
</pre></div><p>Next we need to make sks start from init, open up <strong>/etc/default/sks</strong> in your favourite editor and <strong>*initstart*</strong> to look like below:<div class=highlight><pre><span></span><span class=nv>initstart</span><span class=o>=</span>yes
</pre></div><p>Now we can start the service with:<div class=highlight><pre><span></span>sudo<span class=w> </span>/etc/init.d/sks<span class=w> </span>start
</pre></div><p>Your keyserver will now be up and running on port 11371.</div><div class=section id=web-interface><h2>Web interface</h2><p>We’ll need to create a web folder within sks with the following command:<div class=highlight><pre><span></span>sudo<span class=w> </span>mkdir<span class=w> </span>-p<span class=w> </span>/var/lib/sks/www/
</pre></div><p>Change it’s permissions so the sks user can access it.<div class=highlight><pre><span></span>sudo<span class=w> </span>chown<span class=w> </span>-R<span class=w> </span>debian-sks:debian-sks<span class=w> </span>/var/lib/sks/www
</pre></div><p>And finally we need create a single <span class=caps>HTML</span> file for the interface, I have provided that …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,git,gitosis,gitweb,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2011-12-17T15:40:00+00:00 itemprop=datePublished> 17 Dec 2011 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Host git repositories with git, gitosis and gitweb on Debian 6/Ubuntu 10.04'" href=https://kura.gg/2011/12/17/host-git-repositories-with-git-gitosis-and-gitweb-on-debian-6ubuntu-10-04/ itemprop=url rel=bookmark> Host git repositories with git, gitosis and gitweb on Debian 6/Ubuntu 10.04 </a></h2><section class=summary-content itemprop=articleBody><div class=section id=installation><h2>Installation</h2><p>First up we’ll need to install git and some Python tools to get Gitosis installed.<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>-y<span class=w> </span>git-core<span class=w> </span>gitweb<span class=w> </span>python-setuptools
</pre></div><p>Next we have to clone gitosis from it’s git repository and install it.<div class=highlight><pre><span></span><span class=nb>cd</span><span class=w> </span>/tmp
git<span class=w> </span>clone<span class=w> </span>git://eagain.net/gitosis.git
<span class=nb>cd</span><span class=w> </span>gitosis
sudo<span class=w> </span>python<span class=w> </span>setup.py<span class=w> </span>install
</pre></div></div><div class=section id=adding-your-git-user><h2>Adding your git user</h2><div class=highlight><pre><span></span>sudo<span class=w> </span>adduser<span class=w> </span>--system<span class=w> </span>--shell<span class=w> </span>/bin/sh<span class=w> </span>--gecos<span class=w> </span><span class=s1>'git version control'</span><span class=w> </span>--group<span class=w> </span>--disabled-password<span class=w> </span>--home<span class=w> </span>/home/git<span class=w> </span>git
</pre></div><p>The above command creates a new system user with <strong>/bin/sh</strong> as it’s shell with <strong>no password</strong> and a homedir of <strong>/home/git/</strong> and also creates a group with the same name.</div><div class=section id=initialising-gitosis><h2>Initialising gitosis</h2><p>You’ll need an <span class=caps>SSH</span> key for this, if you have one simply copy the contents of it to your new git server, if you do not have one then you can generate one on your machine using<div class=highlight><pre><span></span>ssh-keygen
</pre></div><p>And then …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,email,greylist,mail,postfix,postgrey,spam,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2011-09-24T21:29:00+01:00 itemprop=datePublished> 24 Sep 2011 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Postfix spam protection with greylisting using Postgrey on Debian 6/Ubuntu'" href=https://kura.gg/2011/09/24/postfix-spam-protection-with-greylisting-using-postgrey-on-debian-6ubuntu/ itemprop=url rel=bookmark> Postfix spam protection with greylisting using Postgrey on Debian 6/Ubuntu </a></h2><section class=summary-content itemprop=articleBody><p>A simple yet effective method for protecting your mail server from spam is to use greylisting. In simple terms, when an email is received the server will temporarily reject it with a 450 response code claiming that the server is busy, the sending server should then attempt to try to deliver at a later point in time, if enough time has passed the recipient server will then accept the incoming mail and whitelist the send address for a period of time.<p>This is effective because most spam servers are configured not to retry the send whereas real mail servers generally will retry. This sadly does not protect against spam coming from comprised mail servers or accounts like on Hotmail.com.<div class=section id=installation><h2>Installation</h2><div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>postgrey
</pre></div></div><div class=section id=configuring-postgrey><h2>Configuring Postgrey</h2><p>By default Postgrey runs on <em>127.0.0.1:60000</em>, which is the local loopback interface so it is not exposed to the …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apt,debian,security,ubuntu,upgrades itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2011-09-21T13:21:00+01:00 itemprop=datePublished> 21 Sep 2011 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Debian/Ubuntu upgrade security packages only - a better way to do it'" href=https://kura.gg/2011/09/21/debianubuntu-upgrade-security-packages-only-a-better-way-to-do-it/ itemprop=url rel=bookmark> Debian/Ubuntu upgrade security packages only - a better way to do it </a></h2><section class=summary-content itemprop=articleBody><p><strong>I have created a scripts that handle these tasks for you, available `here`_.</strong><p>First thing we need to do is create an sources list specifically for security.<div class=highlight><pre><span></span>sudo<span class=w> </span>grep<span class=w> </span><span class=s2>"-security"</span><span class=w> </span>/etc/apt/sources.list<span class=w> </span><span class=p>|</span><span class=w> </span>sudo<span class=w> </span>grep<span class=w> </span>-v<span class=w> </span><span class=s2>"#"</span><span class=w> </span>><span class=w> </span>/etc/apt/security.sources.list
</pre></div><p>Now that this is done we can simply continue to use the command below to trigger security-only upgrades<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>upgrade<span class=w> </span>-o<span class=w> </span>Dir::Etc::SourceList<span class=o>=</span>/etc/apt/security.sources.list
</pre></div><div class=section id=note><h2>Note</h2><p><strong>This will work until you upgrade your distro (e.g. 10.04 -> 12.04), at which point you will need to re-run the first command to regenerate the security.sources.list file.</strong></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,dk,dkim,domainkeys,email,mail,postfix,spf,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2011-09-17T18:18:00+01:00 itemprop=datePublished> 17 Sep 2011 </time> — 3 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Postfix + DK (DomainKeys) + DKIM + SPF on Debian 6/Ubuntu'" href=https://kura.gg/2011/09/17/postfix-dk-dkim-spf/ itemprop=url rel=bookmark> Postfix + <span class=caps>DK</span> (DomainKeys) + <span class=caps>DKIM</span> + <span class=caps>SPF</span> on Debian 6/Ubuntu </a></h2><section class=summary-content itemprop=articleBody><p>This is part 3 of my guide to getting a mail server configured with all the sexy bits to improve deliverability, spam and virus protection.<p>You can view <a class="reference external" href=/2011/09/15/postfix-dovecot-imapimaps-sasl-maildir/>part 1 here</a> and <a class="reference external" href=/2011/09/16/postfix-spamassassin-clamav-procmail/>part 2 here</a>.<div class=section id=the-key-pair><h2>The key pair</h2><p>We need to create a key pair to sign emails with:<pre class=literal-block>
.. code-block:: bash
</pre><blockquote>openssl genrsa -out private.key 1024 openssl rsa -in private.key -out public.key -pubout -outform <span class=caps>PEM</span> sudo mkdir /etc/dk/ sudo cp private.key /etc/dk/dk.key</blockquote><p>Now we can move on to <span class=caps>DK</span> and <span class=caps>DKIM</span> signing, make sure you keep the public key for later.</div><div class=section id=dkim><h2><span class=caps>DKIM</span></h2><p>First we’ll need to install an application to sign our emails.<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>dkim-filter
</pre></div><p>Once installed we need to configure it, open up <strong>/etc/default/dkim-filter</strong>, modify the file to look like below replacing &lt;<span class=caps>DOMAIN</span>> with the domain you want to sign email from.<div class=highlight><pre><span></span><span class=nv>DAEMON_OPTS</span><span class=o>=</span><span class=s2>"-l -o X-DomainKeys …</span></pre></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=clamav,clamsmtp,debian,email,mail,postfix,procmail,spamassassin,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2011-09-16T21:28:00+01:00 itemprop=datePublished> 16 Sep 2011 </time> — 3 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Postfix + SpamAssassin + ClamAV + Procmail on Debian 6/Ubuntu'" href=https://kura.gg/2011/09/16/postfix-spamassassin-clamav-procmail/ itemprop=url rel=bookmark> Postfix + SpamAssassin + ClamAV + Procmail on Debian 6/Ubuntu </a></h2><section class=summary-content itemprop=articleBody><p>This is part 2 of my series on mail servers on Debian 6/Ubuntu 10.04, it should work on other versions of each though. <a class="reference external" href=/2011/09/15/postfix-dovecot-imapimaps-sasl-maildir/>Part 1 is available here</a>.<div class=section id=spamassassin><h2>SpamAssassin</h2><p>First off we’ll get SpamAssassin installed and configured.<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>spamassassin
</pre></div><p>We’ll be configuring SpamAssassin as a daemon that Postfix interfaces with using <strong>spamc</strong>.<p>SpamAssassin on Debian and Ubuntu runs as root which is <span class=caps>NOT</span> a good thing so we’ll need to make some changes.<p>We’ll add a group called <strong>spamd</strong> with <span class=caps>GID</span>**5001**.<div class=highlight><pre><span></span>sudo<span class=w> </span>groupadd<span class=w> </span>-g<span class=w> </span><span class=m>5001</span><span class=w> </span>spamd
</pre></div><p>Next we add a user spamd with <span class=caps>UID</span> <strong>5001</strong> and add it to the spamd group, as well as set it’s home directory as <strong>/var/lib/spamassassin</strong> and make sure it has no shell access or <span class=caps>SSH</span> access.<div class=highlight><pre><span></span>sudo<span class=w> </span>useradd<span class=w> </span>-u<span class=w> </span><span class=m>5001</span><span class=w> </span>-g<span class=w> </span>spamd<span class=w> </span>-s<span class=w> </span>/usr/sbin/nologin<span class=w> </span>-d<span class=w> </span>/var/lib/spamassassin<span class=w> </span>spamd
</pre></div><p>Now …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,dovecot,email,imap,imaps,mail,maildir,postfix,sasl,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2011-09-15T23:04:00+01:00 itemprop=datePublished> 15 Sep 2011 </time> — 3 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Postfix + Dovecot (IMAP/IMAPS) + SASL + Maildir on Debian 6/Ubuntu'" href=https://kura.gg/2011/09/15/postfix-dovecot-imapimaps-sasl-maildir/ itemprop=url rel=bookmark> Postfix + Dovecot (<span class=caps>IMAP</span>/<span class=caps>IMAPS</span>) + <span class=caps>SASL</span> + Maildir on Debian 6/Ubuntu </a></h2><section class=summary-content itemprop=articleBody><p>This guide is part 1 of what I plan will be a couple of guides that take you through installing a base mail system, SpamAssassin, <span class=caps>DKIM</span> and much more. Stay tuned.<p>This guide was written for Debian 6 but should be the same or similar for Debian 5 and Ubuntu 10.04 and above.<div class=section id=the-installation><h2>The installation</h2><div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>dovecot-imapd<span class=w> </span>postfix<span class=w> </span>sasl2-bin<span class=w> </span>libsasl2-2<span class=w> </span>libsasl2-modules
</pre></div><p>Choose “Internet site” when prompted and enter the fully qualified name of your server.<p>Once all this is done installing we’ll need to make some changes, first off will be Postfix.</div><div class=section id=postfix><h2>Postfix</h2><p>Open up <strong>/etc/postfix/main.cf</strong> and add the following to the end of the file<pre class=literal-block>
home_mailbox = Maildir/
smtpd_sasl_auth_enable = yes
smtpd_sasl_security_options = noanonymous
smtpd_sasl_local_domain = $myhostname
broken_sasl_auth_clients = yes

smtpd_sender_restrictions = permit_sasl_authenticated,
    permit_mynetworks,

smtpd_recipient_restrictions = permit_mynetworks,
    permit_sasl_authenticated,
    reject_unauth_destination,
    reject_unknown_sender_domain,
</pre><p>Here we basically tell Postfix to store all email in maildir format in the user’s home directory. We …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apt,apt-get,debian,headers,kernel,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2011-09-15T13:30:00+01:00 itemprop=datePublished> 15 Sep 2011 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Installing kernel headers for current kernel version with ease on Debian/Ubuntu'" href=https://kura.gg/2011/09/15/installing-kernel-headers-for-current-kernel-version-with-ease-on-debianubuntu/ itemprop=url rel=bookmark> Installing kernel headers for current kernel version with ease on Debian/Ubuntu </a></h2><section class=summary-content itemprop=articleBody><p>This is a simple one but I found out that there are people out there that don’t know about it, so here we go.<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>linux-headers-<span class=k>$(</span>uname<span class=w> </span>-r<span class=k>)</span>
</pre></div><p>This will install kernel headers for your current active kernel on Debian/Ubuntu.</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,swap,vmware itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-07-07T18:56:00+01:00 itemprop=datePublished> 07 Jul 2010 </time> — &lt; 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Adding swap while the server is online with Debian and VMWare ESX'" href=https://kura.gg/2010/07/07/adding-swap-while-the-server-is-online-with-debian-and-vmware-esx/ itemprop=url rel=bookmark> Adding swap while the server is online with Debian and VMWare <span class=caps>ESX</span> </a></h2><section class=summary-content itemprop=articleBody><p>Recently I had to install Oracle on a virtual machine but didn’t find out until after I’d spun up of the machine that Oracle required at least <span class=caps>2GB</span> of swap space, my machine did not have enough.<p>Thankfully it’s quite simple to increase swap space, using VMWare <span class=caps>ESX</span>, simple add a new drive to the machine as you normally would, I used <span class=caps>5GB</span>.<div class=section id=detecting-the-new-scsi-drive-and-partitioning-it><h2>Detecting the new <span class=caps>SCSI</span> drive and partitioning it</h2><p>This bit is simple, I’m going to assume you’re logged in as root.<div class=highlight><pre><span></span>sudo<span class=w> </span><span class=nb>echo</span><span class=w> </span><span class=s2>"- - -"</span><span class=w> </span>><span class=w> </span>/sys/class/scsi_host/**host0**/scan<span class=w> </span><span class=o>&&</span><span class=w> </span>fdisk<span class=w> </span>-l
</pre></div><p>If host0 doesn’t work, try changing to host1, host2 etc.<p>Now we need to format the drive, for me it was /dev/sdb.<div class=highlight><pre><span></span>sudo<span class=w> </span>cfdisk<span class=w> </span>/dev/sdb
</pre></div><p>Create a new logical partition, set it’s type to <strong>82 Linux Swap</strong> and simply write the changes.</div><div class=section id=adding-swap><h2>Adding swap</h2><p>Next we simply add …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,fedora,install,nginx,redhat,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-04-02T16:54:00+01:00 itemprop=datePublished> 02 Apr 2010 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Building nginx on Red Hat and Debian to RPM/DEB-style locations'" href=https://kura.gg/2010/04/02/building-nginx-on-red-hat-and-debian-to-rpmdeb-style-locations/ itemprop=url rel=bookmark> Building nginx on Red Hat and Debian to <span class=caps>RPM</span>/<span class=caps>DEB</span>-style locations </a></h2><section class=summary-content itemprop=articleBody><p>The title of this post is a bit stupid, but I honestly couldn’t think of any other way to write it…<p>When compiling nginx by hand, by default make install will push the binaries out to /usr/local/nginx and it doesn’t come with a start/stop script, understandably because it doesn’t know which <span class=caps>OS</span> it is going to be installed on etc etc.<p>Recently I was tasked with building nginx to an old Red Hat Enterprise Live 4 server with no yum installation, no nginx package in up2date and not being able to find an <span class=caps>RPM</span> that’s link wasn’t dead.<p>I’ve always felt that, being a Debian user, people think of me as only being able to use apt-get and if I’m feeling especially adventurous dpkg - to install applications. Some people know that I build .deb files in my spare time, but …</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,monitoring,nagios,nrpe,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-03-21T21:55:00+00:00 itemprop=datePublished> 21 Mar 2010 </time> — 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Configuring Nagios to monitor remote load, disk, swap etc using NRPE'" href=https://kura.gg/2010/03/21/configuring-nagios-to-monitor-remote-load-disk-using-nrpe/ itemprop=url rel=bookmark> Configuring Nagios to monitor remote load, disk, swap etc using <span class=caps>NRPE</span> </a></h2><section class=summary-content itemprop=articleBody><p>I’ll assume you already have Nagios installed and configured and have an understanding of actually configuring and using Nagios.<div class=section id=remote-server-the-server-to-be-monitored><h2>Remote server — the server to be monitored</h2><p>First we’ll install the needed plugins and daemon on the <strong>remote</strong> server.<div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>nagios-plugins<span class=w> </span>nagios-nrpe-server
</pre></div><p>Once installed, open up <strong>/etc/nagios/nrpe_local.cfg</strong><p>And place the following in it<pre class=literal-block>
allowed_hosts=NAGIOS.SERVER.IP,127.0.0.1

command[check_users]=/usr/lib/nagios/plugins/check_users -w 5 -c 10
command[check_load]=/usr/lib/nagios/plugins/check_load -w 15,10,5 -c 30,25,20
command[check_all_disks]=/usr/lib/nagios/plugins/check_disk -w 20 -c 10
command[check_zombie_procs]=/usr/lib/nagios/plugins/check_procs -w 5 -c 10 -s Z
command[check_total_procs]=/usr/lib/nagios/plugins/check_procs -w 150 -c 200
command[check_swap]=/usr/lib/nagios/plugins/check_swap -w 20 -c 10
</pre><p>Save and exit.<p>Commands need to explicitly be enabled on the …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=debian,howto,ssh,ssh_config,ubuntu itemprop=keywords><meta content=tutorials itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-18T21:03:00+00:00 itemprop=datePublished> 18 Feb 2010 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'HOWTO: SSH config on Debian/Ubuntu'" href=https://kura.gg/2010/02/18/howto-ssh-config-on-debian-ubuntu/ itemprop=url rel=bookmark> <span class=caps>HOWTO</span>: <span class=caps>SSH</span> config on Debian/Ubuntu </a></h2><section class=summary-content itemprop=articleBody><p>Today I <em>finally</em> got round to setting up my local user ssh config on my new work laptop and figured I’d do a quick write up on it and it’s uses.<p>You can create a configuration file in your home directory that will override the options set in your machine-wide config.<div class=section id=your-configuration-files><h2>Your configuration files</h2><p>Your local config can be found/created in:<blockquote>~/.ssh/config</blockquote><p>And your machine-wide configuration is in:<blockquote>/etc/ssh/ssh_config</blockquote><p>Rather than editing my ssh config across my whole machine I’m doing it for my local user specifically.<p>Reading the man page for ssh_config will give you a full list of available options, below I will outline several that I use and find very useful.</div><div class=section id=your-host-definitions><h2>Your host definitions</h2><p>First things first, we need to define a host.<pre class=literal-block>
Host host.domain.com
</pre><p>Each host you add to your config will need to have a host …</div></section></article><div class=eevee-page-spacer role=presentation></div></div></div></main><div class="eevee-pagination__container eevee-container mdl-grid"><div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone" role=presentation></div><div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"><nav class="eevee-pagination mdl-cell mdl-cell--12-col" aria-label=Pagination itemscope itemtype=http://schema.org/SiteNavigationElement><div class=eevee-spacer></div><a class=eevee-nav__button href=https://kura.gg/tag/debian/page/2/ itemprop=url rel=bookmark title=Older> Older <button class="mdl-button mdl-button--icon mdl-color--white mdl-color-text--grey-900" role=presentation><i class=material-icons></i></button> </a></nav></div></div><footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement><div class=mdl-mega-footer--top-section><div class=mdl-mega-footer--drop-down-section><ul class=mdl-mega-footer--link-list><li><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></ul></div></div><div aria-label="Footer navigation" class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Menu</h1><ul class=mdl-mega-footer--link-list><li><a href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons></i> Contact </a><li><a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons></i> Archives </a><li><a href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons></i> RSS </a><li><a href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons></i> Atom </a></ul></div><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Social</h1><ul class=mdl-mega-footer--link-list><li><a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i aria-hidden=true class=fa></i> Github </a><li><a href=https://noc.social/@kura itemprop=url rel=me title=@kura@noc.social> <i aria-hidden=true class=fa>🦣</i> @kura@noc.social </a></ul></div><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Links</h1><ul class=mdl-mega-footer--link-list><li><a href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons></i> Blackhole </a><li><a href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons></i> Eevee </a><li><a href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons></i> Hauntr </a><li><a href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons></i> Ghastly </a><li><a title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons></i> Pelican Plugins </a></ul></div></div><div class=mdl-mega-footer--bottom-section><div class=mdl-logo><a href=https://kura.gg itemprop=url rel=bookmark title=kura.gg> kura.gg </a></div><ul class="eevee-footer mdl-mega-footer--link-list"><li>Powered by love & rainbow sparkles.<li>Source code and content released under the <a title="MIT license" href=/license/>MIT license</a>.</ul></div></footer></div>