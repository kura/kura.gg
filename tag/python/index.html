<!doctype html><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0,minimum-scale=1.0 name=viewport><link href=https://kura.gg hreflang=en rel=alternate><link href=https://kura.gg rel=dns-prefetch><link href=https://kura.gg/theme/css/eevee.min.css?1c9d8344 rel=stylesheet><script async src=https://kura.gg/theme/js/eevee.min.js?1841d254></script><link href=https://kura.gg/feeds/rss.xml rel=alternate title=kura.gg type=application/rss+xml><link href=https://kura.gg/feeds/atom.xml rel=alternate title=kura.gg type=application/atom+xml><meta content=kura.gg property=og:site_name><meta content=article property=og:type><meta content=kura.gg property=og:title><meta content=https://kura.gg/tag/python/index.html property=og:url><meta content=https://kura.gg/tag/python/index.png property=og:image><meta content=1920 property=og:image:width><meta content=1080 property=og:image:height><meta content=kura.gg property=twitter:title><meta content=https://kura.gg/tag/python/index.html property=twitter:url><meta content=https://kura.gg/tag/python/index.png property=twitter:image><meta content=summary_large_image property=twitter:card><meta content=1920 property=twitter:image:width><meta content=1080 property=twitter:image:height><link sizes="16x16 32x32 48x48 64x64 128x128 256x256" href=/favicon.png rel=icon type=image/png><link sizes="16x16 32x32 48x48 64x64 128x128 256x256" href=/favicon.ico rel=icon type=image/vnd.microsoft.icon><title>Articles with the 'python' tag</title><body><div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"><header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader><div class=mdl-layout__header-row><div class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only" aria-expanded=false role=button tabindex=0><i class=material-icons></i></div><span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top><a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a></h2> </span><div class=mdl-layout-spacer role=presentation></div><nav aria-label="Header navigation" class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement><a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons></i> Blackhole </a><a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons></i> Eevee </a><a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons></i> Hauntr </a><a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons></i> Ghastly </a><a class="mdl-color-text--accent mdl-navigation__link" title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons></i> Pelican Plugins </a><a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons></i> Contact </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons></i> Archives </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons></i> RSS </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons></i> Atom </a></nav></div></header><div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true><span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent">kura.gg</h2> </span><div class="mdl-navigation mdl-color--white"><nav aria-label="Header navigation" class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons>  </i> Home </a><a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons></i> Blackhole </a><a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons></i> Eevee </a><a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons></i> Hauntr </a><a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons></i> Ghastly </a><a class="mdl-color-text--accent mdl-navigation__link" title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons></i> Pelican Plugins </a><a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons></i> Contact </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons></i> Archives </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons></i> RSS </a><a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons></i> Atom </a></nav></div></div><div class="eevee-ribbon mdl-color--primary-dark" role=presentation></div><main class="eevee-main mdl-layout__content"><div class="eevee-container mdl-grid"><div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone" role=presentation></div><div aria-label="Main content" class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,python3.5,3.5,asyncio,email,smtp,mta itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2016-05-21T00:20:00+01:00 itemprop=datePublished> 21 May 2016 </time> — 7 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Blackhole 2.0: or, How I Learned to Love Asyncio'" href=https://kura.gg/2016/05/21/blackhole-2.0-or-how-i-learned-to-love-asyncio/ itemprop=url rel=bookmark> Blackhole 2.0: or, How I Learned to Love Asyncio </a></h2><section class=summary-content itemprop=articleBody><p>A brief history of a tiny part of the Internet.<p><a class="reference external" href=https://blackhole.io/1>Blackhole 1 — Blackhole as it was originally known</a> — was written on <a class="reference external" href=https://docs.python.org/2/whatsnew/2.7.html>Python 2.7</a>, briefly supporting <a class="reference external" href=https://docs.python.org/2.6/whatsnew/2.6.html>Python 2.6</a> for a time and also supporting early version of <a class="reference external" href=https://docs.python.org/3.2/whatsnew/3.2.html>Python 3</a>, <a class="reference external" href=https://www.pypy.org/features.html>PyPy 2</a> and <a class="reference external" href=https://www.pypy.org/features.html>PyPy 3</a>. Built on top of <a class="reference external" href=https://www.tornadoweb.org/en/stable/>Tornado</a>, it was asynchronous in a fashion and — quite simply — worked.<p>The original prototype that became Blackhole was <a class="reference external" href=/simplemta>SimpleMTA</a> — a prototype that was created quickly, to serve a very simple testing purpose that I had for it.<p>As I needed SimpleMTA to do more, I wrote Blackhole to accomplish that task. I’d been using Tornado a bit and wanted to experiment with it more. Building on top of Tornado created some oddities in how the program was designed and that always irked me.<p>Between the time of the last 1.8.X and the 2.0 release, I experimented with …</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content="python,digital ocean" itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-09-15T22:20:00+01:00 itemprop=datePublished> 15 Sep 2014 </time> — 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'batfish(1) - writing a Digital Ocean V2 API wrapper'" href=https://kura.gg/2014/09/15/batfish-writing-a-digital-ocean-v2-api-wrapper/ itemprop=url rel=bookmark> batfish(1) - writing a Digital Ocean V2 <span class=caps>API</span> wrapper </a></h2><section class=summary-content itemprop=articleBody><p>Batfish is a Python client and <span class=caps>API</span> wrapper for the <a class="reference external" href=https://developers.digitalocean.com/>Digital Ocean V2 <span class=caps>API</span></a>. It can be used as a library module in your own Python code but also provides a <span class=caps>CLI</span> interface and a shell-like command interpreter.<p>Batfish is still under development and is considered in the Alpha stage. It is not yet available via PyPI but can be tried out using the <a class="reference external" href=https://github.com/kura/batfish>code available on GitHub</a>.<p>There is a small amount of <a class="reference external" href=https://batfish.readthedocs.org>documentation available on Read The Docs</a> and tests are still being written to get as much coverage as possible and eaked out all of the bugs. You can find the <a class="reference external" href=https://travis-ci.org/kura/batfish>latest test status on Travis <span class=caps>CI</span></a>.<div class=section id=module-interface><h2>Module interface</h2><div class=highlight><pre><span></span><span class=o>>>></span> <span class=kn>from</span> <span class=nn>batfish</span> <span class=kn>import</span> <span class=n>Client</span>
<span class=o>>>></span> <span class=n>client</span> <span class=o>=</span> <span class=n>Client</span><span class=p>()</span>
<span class=o>>>></span> <span class=n>client</span><span class=o>.</span><span class=n>authorize</span><span class=p>(</span><span class=s2>"abcde12345"</span><span class=p>)</span>
<span class=o>>>></span> <span class=n>client</span><span class=o>.</span><span class=n>droplets</span>
<span class=p>[</span><span class=o><</span><span class=n>Droplet</span> <span class=n>ego</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>></span><span class=p>,</span> <span class=o><</span><span class=n>Droplet</span> <span class=n>fax</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>></span><span class=p>,</span> <span class=o><</span><span class=n>Droplet</span> <span class=n>jet</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>></span><span class=p>,</span> <span class=o><</span><span class=n>Droplet</span> <span class=n>ski</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>></span><span class=p>]</span>
<span class=o>>>></span> <span class=n>client</span><span class=o>.</span><span class=n>droplet_reboot</span><span class=p>(</span><span class=mi>1234</span><span class=p>)</span>
</pre></div></div><div class=section id=cli-interface><h2><span class=caps>CLI</span> interface</h2><div class=highlight><pre><span></span>$<span class=w> </span>batfish<span class=w> </span>authorize
abcde12345
$<span class=w> </span>batfish<span class=w> </span>droplets
ego …</pre></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,pypi itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-08-09T13:30:00+01:00 itemprop=datePublished> 09 Aug 2014 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'yarg(1) — A semi hard Cornish cheese, also queries PyPI'" href=https://kura.gg/2014/08/09/yarg/ itemprop=url rel=bookmark> yarg(1) — A semi hard Cornish cheese, also queries PyPI </a></h2><section class=summary-content itemprop=articleBody><p>Yarg is a PyPI client, it was written for <a class="reference external" href=https://pypip.in>pypip.in</a> and can search packages as well as read the <span class=caps>RSS</span> feeds from PyPI for new packages and new package version releases.<div class=section id=search-interface><h2>Search interface</h2><div class=highlight><pre><span></span><span class=o>>>></span> <span class=kn>import</span> <span class=nn>yarg</span>
<span class=o>>>></span> <span class=n>package</span> <span class=o>=</span> <span class=n>yarg</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>"yarg"</span><span class=p>)</span>
<span class=o>>>></span> <span class=n>package</span><span class=o>.</span><span class=n>name</span>
<span class=sa>u</span><span class=s1>'yarg'</span>
<span class=o>>>></span> <span class=n>package</span><span class=o>.</span><span class=n>author</span>
<span class=n>Author</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=sa>u</span><span class=s1>'Kura'</span><span class=p>,</span> <span class=n>email</span><span class=o>=</span><span class=sa>u</span><span class=s1>'kura@kura.gg'</span><span class=p>)</span>
</pre></div></div><div class=section id=newest-packages-interface><h2>Newest packages interface</h2><div class=highlight><pre><span></span><span class=o>>>></span> <span class=kn>import</span> <span class=nn>yarg</span>
<span class=o>>>></span> <span class=n>packages</span> <span class=o>=</span> <span class=n>yarg</span><span class=o>.</span><span class=n>newest_packages</span><span class=p>()</span>
<span class=o>>>></span> <span class=n>packages</span>
<span class=p>[</span><span class=o><</span><span class=n>Package</span> <span class=n>yarg</span><span class=o>></span><span class=p>,</span> <span class=o><</span><span class=n>Package</span> <span class=n>gray</span><span class=o>></span><span class=p>,</span> <span class=o><</span><span class=n>Package</span> <span class=n>ragy</span><span class=o>></span><span class=p>]</span>
<span class=o>>>></span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>name</span>
<span class=sa>u</span><span class=s1>'yarg'</span>
<span class=o>>>></span> <span class=n>packages</span><span class=o>.</span><span class=n>url</span>
<span class=sa>u</span><span class=s1>'https://pypi.python.org/pypi/yarg</span>
</pre></div></div><div class=section id=updated-packages-interface><h2>Updated packages interface</h2><div class=highlight><pre><span></span><span class=o>>>></span> <span class=kn>import</span> <span class=nn>yarg</span>
<span class=o>>>></span> <span class=n>packages</span> <span class=o>=</span> <span class=n>yarg</span><span class=o>.</span><span class=n>latest_updated_packages</span><span class=p>()</span>
<span class=o>>>></span> <span class=n>packages</span>
<span class=p>[</span><span class=o><</span><span class=n>Package</span> <span class=n>yarg</span><span class=o>></span><span class=p>,</span> <span class=o><</span><span class=n>Package</span> <span class=n>gray</span><span class=o>></span><span class=p>,</span> <span class=o><</span><span class=n>Package</span> <span class=n>ragy</span><span class=o>></span><span class=p>]</span>
<span class=o>>>></span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>name</span>
<span class=sa>u</span><span class=s1>'yarg'</span>
<span class=o>>>></span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>version</span>
<span class=sa>u</span><span class=s1>'0.1.2'</span>
<span class=o>>>></span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>url</span>
<span class=sa>u</span><span class=s1>'https://pypi.python.org/pypi/yarg/0.1.2</span>
</pre></div></div><div class=section id=documentation><h2>Documentation</h2><p>Full documentation is at <<a class="reference external" href=https://yarg.readthedocs.org>https://yarg.readthedocs.org</a>>.</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,pypipins,pypip.in,shields itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-08-07T08:42:00+01:00 itemprop=datePublished> 07 Aug 2014 </time> — 3 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Speeding up pypip.in and reducing load on PyPI'" href=https://kura.gg/2014/08/07/speeding-up-pypip.in-and-reducing-load-on-pypi/ itemprop=url rel=bookmark> Speeding up pypip.in and reducing load on PyPI </a></h2><section class=summary-content itemprop=articleBody><p>As you might expect, <a class="reference external" href=https://pypip.in>pypip.in</a> employes a fair amount of caching in the backend to control load on the imaging <span class=caps>API</span> and servers.<p>For a long time, this cache was entirely managed by Varnish and was doing a fantastic job. Varnish has a hit:miss ratio of 10:1, for every 10 hits we get 1 miss. This is a fairly decent ratio when you consider where these images are displayed, how often they are viewed and that Varnish only caches the images for an hour.<div class=section id=the-impact-on-pypi><h2>The impact on PyPI</h2><p>You will firstly need to understand how pypip.in used to work to understand the changes that were made and why they were made.<p>Let’s set up the request first - a request for a shield is made and it is not present in the Varnish cache.<pre class=literal-block>
Request received in API layer
              |
              v
    API layer queries PyPI
              |
              v
   PyPI …</pre></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,pypipins,pypip.in,shields itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-07-26T23:40:00+01:00 itemprop=datePublished> 26 Jul 2014 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'So you want to run your own copy of pypip.in?'" href=https://kura.gg/2014/07/26/so-you-want-to-run-your-own-copy-of-pypip.in/ itemprop=url rel=bookmark> So you want to run your own copy of pypip.in? </a></h2><section class=summary-content itemprop=articleBody><p>While pypip.in is available under the <span class=caps>MIT</span> license on <a class="reference external" href=https://github.com/badges/pypipins>GitHub</a>, it’s not explained how to really use it properly.<p>You can gather how to set-up the Python source of the project and get the <a class="reference external" href=https://twistedmatrix.com>Twisted</a> process running, this is totally reliant on using the <a class="reference external" href=https://img.shields.io>img.shields.io</a>.<p>I decided to write this article explaining how to install your own copy of the shields nodejs code, pypipin itself and even cover off supervisord and Varnish too.<div class=section id=shields-nodejs><h2>shields <span class=amp>&</span> nodejs</h2><div class=section id=nodejs><h3>nodejs</h3><p>First of all you’ll need to get the latest source code copy of nodejs from the <a class="reference external" href=https://nodejs.org/download/>nodejs download page</a>.<p>Extract it.<div class=highlight><pre><span></span>tar -xvzf node-&LTVERSION>.tar.gz
</pre></div><div class=highlight><pre><span></span>cd node-&LTVERSION>
</pre></div><p>You’ll need to install the build tools, if you don’t have them already.<div class=highlight><pre><span></span>sudo apt-get install build-essential
</pre></div><p>And then make and install node.<div class=highlight><pre><span></span>make && sudo make install
</pre></div></div><div class=section id=redis><h3>Redis</h3><p>Redis is used to temporarily store PyPI responses.<div class=highlight><pre><span></span>sudo …</pre></div></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,pypi,shields itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-07-25T01:00:00+01:00 itemprop=datePublished> 25 Jul 2014 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'New pypip.in shields and styling'" href=https://kura.gg/2014/07/25/new-pypip.in-shields-and-styling/ itemprop=url rel=bookmark> New pypip.in shields and styling </a></h2><section class=summary-content itemprop=articleBody><div class=section id=supported-python-versions><h2>Supported Python versions</h2><p>This one is generated from the list of classifiers you provide to PyPI.<p>If no Python version classifiers exist, it defaults to Python 2.7. This is because really, Python 3 is not widely used in production or supported by libraries.</div><div class=section id=python-implementation-s><h2>Python implementation(s)</h2><p>I think this one is really cool. Chances are you’re unlikely to get more than two supported implementations, like CPython and PyPy or CPython and Stackless.<p>The shield uses the Python implementation classifiers to generate this shield. It supports all classifiers that PyPI supports (CPython, Jython, Iron Python, PyPy and Stackless) and defaults to CPython is none are set.</div><div class=section id=styling-changes><h2>Styling changes</h2><p>This change is simply because of the upgrade of the shields library. This allows us to use the default rounded badges like below.<p>But also allow you to use a much nicer, cleaner, flat styling like the ones used on this …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=pelican,fontawesome,icons,python itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-06-08T11:30:00+01:00 itemprop=datePublished> 08 Jun 2014 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Pelican FontAwesome'" href=https://kura.gg/2014/06/08/pelican-fontawesome/ itemprop=url rel=bookmark> Pelican FontAwesome </a></h2><section class=summary-content itemprop=articleBody><p>Pelican FontAwesome allows you to embed <a class="reference external" href=https://fortawesome.github.io/Font-Awesome/>FontAwesome</a> icons in your <span class=caps>RST</span> posts and pages.<div class=section id=installation><h2>Installation</h2><p>To install pelican-fontawesome, simply install it from PyPI:<div class=highlight><pre><span></span>$<span class=w> </span>pip<span class=w> </span>install<span class=w> </span>pelican-fontawesome
</pre></div><p>Then enable it in your pelicanconf.py<div class=highlight><pre><span></span><span class=n>PLUGINS</span> <span class=o>=</span> <span class=p>[</span>
    <span class=c1># ...</span>
    <span class=s1>'pelican_fontawesome'</span><span class=p>,</span>
    <span class=c1># ...</span>
<span class=p>]</span>
</pre></div><p>Include the FontAwesome <span class=caps>CSS</span> in your base template.<div class=highlight><pre><span></span><span class=p><</span><span class=nt>link</span> <span class=na>href</span><span class=o>=</span><span class=s>"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css"</span> <span class=na>rel</span><span class=o>=</span><span class=s>"stylesheet"</span><span class=p>></span>
</pre></div></div><div class=section id=usage><h2>Usage</h2><p>In your article or page, you simply need to add a reference to FontAwesome and then the icon name.<div class=highlight><pre><span></span><span class=na>:fa:</span><span class=nv>`fa-github`</span>
</pre></div><p>Which will result in:<div class=highlight><pre><span></span><span class=p><</span><span class=nt>span</span> <span class=na>class</span><span class=o>=</span><span class=s>"fa fa-github"</span><span class=p>>&LT/</span><span class=nt>span</span><span class=p>></span>
</pre></div><p>And the user will see: <span class="fa fa-github"></span><p>You can also increase the size, just like the <a class="reference external" href=https://fortawesome.github.io/Font-Awesome/examples/>FontAwesome documentation</a> shows.<div class=highlight><pre><span></span><span class=na>:fa:</span><span class=nv>`fa-github fa-4x`</span>
</pre></div><p>Will result in: <span class="fa fa-github fa-4x"></span></div><div class=section id=license><h2>License</h2><p><a class="reference external" href=https://opensource.org/licenses/MIT><span class=caps>MIT</span></a> license.</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,wheel itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-05-29T12:30:00+01:00 itemprop=datePublished> 29 May 2014 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Python platform and version dependent wheel build bot proposal'" href=https://kura.gg/2014/05/29/python-platform-and-version-dependent-wheel-build-bot-proposal/ itemprop=url rel=bookmark> Python platform and version dependent wheel build bot proposal </a></h2><section class=summary-content itemprop=articleBody><div class=section id=abstract><h2>Abstract</h2><p>This proposal describes a build system for generating “wheel” archives and is very, very informal. This plan was drawn up after a random discussion with Jannis Liedel on Twitter and <span class=caps>IRC</span>.<p>Wheel files can be platform and Python-version dependent, a way of generating these files automatically needs to be created and linked to the Packaging Index (PyPI.)</div><div class=section id=design><h2>Design</h2><p>After discussions with Jannis, I believe the simplest solution would likely be the best solution for this problem. As such, I feel that using a custom-built, lightweight solution makes more sense than using something like buildbot.<div class=section id=technology><h3>Technology</h3><p>I feel the platform should leverage existing Python packages that are tried, tested and well used in the community. Therefore I feel we should use a combination of the following;<ul class=simple><li>RabbitMQ for queueing builds<li>Celery for building wheels and<li>pyenv for managing multiple Python versions</ul></div><div class=section id=operating-systems><h3>Operating systems</h3><p>I lack any understanding of Windows or …</div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,pypi,pip itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-03-03T21:40:00+00:00 itemprop=datePublished> 03 Mar 2014 </time> — 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'pypip.in most requested shields'" href=https://kura.gg/2014/03/03/pypip.in-most-requested-shields/ itemprop=url rel=bookmark> pypip.in most requested shields </a></h2><section class=summary-content itemprop=articleBody><div class=section id=pypip-in><h2>pypip.in</h2><p><a class="reference external" href=https://pypip.in/>pypip.in</a> is a website <a class="reference external" href=/2013/12/24/shields-for-pypi-packages/>I have written about before</a>. I decided I would look at the shields and see which ones were the most requested so far this year.<p>Due to the volumn of requests, I only keep 90 days of logs from nginx and no logs from Varnish, pypipin or the local version of buckler. nginx sits in front of Varnish so, even if Varnish responds with a cached version of the shield, a log line is still written to say it was requested.</div><div class=section id=top-20><h2>Top 20</h2><ol class="arabic simple"><li><a class="reference external" href=https://docs.python-requests.org/en/latest/index.html>requests</a> [downloads]<li><a class="reference external" href=https://pillow.readthedocs.org/en/latest/>Pillow</a> [version]<li>Pillow [downloads]<li><a class="reference external" href=https://deeplearning.net/software/theano/>Theano</a> [version]<li>Theano [downloads]<li><a class="reference external" href=https://github.com/joke2k/faker>fake-factory</a> [downloads]<li><a class="reference external" href=https://livestreamer.tanuki.se/en/latest/install.html>livestreamer</a> [downloads]<li><a class="reference external" href=https://www.django-cms.org/en/>django-cms</a> [downloads]<li>django-cms [version]<li><a class="reference external" href=https://github.com/sivel/speedtest-cli>speedtest-cli</a> [version]<li>speedtest-cli [downloads]<li><a class="reference external" href=https://boto.readthedocs.org/en/latest/>boto</a> [downloads]<li><a class="reference external" href=https://github.com/globocom/thumbor>thumbor</a> [downloads]<li>thumbor [version]<li><a class="reference external" href=https://www.pip-installer.org/en/latest/>pip</a> [version]<li><a class="reference external" href=https://pythonhosted.org/tweepy/html/>tweepy</a> [version]<li>tweepy [downloads]<li><a class="reference external" href=https://django-allauth.readthedocs.org/en/latest/>django-allauth</a> [downloads]<li><a class="reference external" href=https://pymssql.org/>pymssql</a> [downloads]<li>pymssql [version]</ol><p>The first thing that struck me is that I actually hadn’t heard of or used quite a lot of …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2014-01-26T01:50:00+00:00 itemprop=datePublished> 26 Jan 2014 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'deadsnakes.sh'" href=https://kura.gg/2014/01/26/deadsnakes.sh/ itemprop=url rel=bookmark> deadsnakes.sh </a></h2><section class=summary-content itemprop=articleBody><p>If you’re an Python developer that uses Ubuntu or even Debian, you have probably heard of Felix Krull’s <a class="reference external" href=https://launchpad.net/~fkrull/+archive/deadsnakes>deadsnakes</a> <span class=caps>PPA</span>.<p>I find myself using it a lot and since I tend to destroy my environments quite frequently, I thought I’d save myself some time and write a simple shell script to install the <span class=caps>PPA</span>, the versions of Python I frequently use and, after messing up a machine — ignore the existing version of python.<p>Gist removed. Sorry.</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,pypi,shields itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2013-12-24T14:07:00+00:00 itemprop=datePublished> 24 Dec 2013 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Shields for PyPI packages'" href=https://kura.gg/2013/12/24/shields-for-pypi-packages/ itemprop=url rel=bookmark> Shields for PyPI packages </a></h2><section class=summary-content itemprop=articleBody><p>Some time back in April 2013 I was bored and looking for a new project to keep my attention, if only for a short period of time.<p>My colleague <a class="reference external" href=https://twitter.com/codeinthehole>@codeinthehole</a> had an idea but no time to implement it, this idea was to have shields like those of <a class="reference external" href=https://travis-ci.org>travis-ci</a> (shown below) but displaying package download counts.</p><img alt="Status of blackhole on Travis CI" src=https://api.travis-ci.org/kura/blackhole.png?branch=master><div class=section id=tech-stack><h2>Tech stack</h2><p>From the very start I decided to use <a class="reference external" href=https://www.tornadoweb.org/en/stable/>Tornado framework</a>, although this may change in the future.<p>The original plan was to generate the images using Pillow (<span class=caps>PIL</span>) and then simply cache them to disk. I decided it would make far more sense to do this using <a class="reference external" href=https://www.varnish-cache.org/>Varnish</a> and not have to worry about it working as expected.</div><div class=section id=manually-generating-the-images><h2>Manually generating the images</h2><p>The images were originally generated from a base template using Pillow, but sadly Python’s image manipulation is not very good, especially it’s text manipulation and the shields could …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,blackhole,setup.py,entry_points,mock,tests,testing itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2013-08-18T12:00:00+01:00 itemprop=datePublished> 18 Aug 2013 </time> — 5 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Blackhole 1.8.0 development, Mock and Python entry_points'" href=https://kura.gg/2013/08/18/blackhole-1.8.0-development-mock-and-python-entry-points/ itemprop=url rel=bookmark> Blackhole 1.8.0 development, Mock and Python entry_points </a></h2><section class=summary-content itemprop=articleBody><p>Over the last week I’ve been doing a huge amount of refactoring of <a class="reference external" href=https://blackhole.io>Blackhole</a> as well as writing dozens of additional tests. To make Blackhole more testable I needed to make a big change to how the program is launched and controlled.<div class=section id=setup-py-scripts-vs-entry-points><h2>setup.py scripts vs. entry_points</h2><p>Whenever I’ve written Python programs that require some kind of command line script I’ve always used distutils’ scripts, this can be seen <a class="reference external" href=https://github.com/kura/blackhole/blob/05c6647aeb25ecfcc17d9df535db330a68016a24/setup.py#L37-L39>in blackhole’s setup.py on GitHub</a> or in the three line example below.<div class=highlight><pre><span></span><span class=n>scripts</span><span class=o>=</span><span class=p>[</span>
    <span class=s1>'blackhole/bin/blackhole'</span><span class=p>,</span>
<span class=p>],</span>
</pre></div><p>In doing so, it allowed me to be lazy and write a lot of prodecural code in the main “binary” which made it pretty much impossible to test. You can also see that <a class="reference external" href=https://github.com/kura/blackhole/blob/bb6cccca3a75def324ed5cb64a32fd2e5773a038/blackhole/bin/blackhole>on GitHub in the main “binary”</a>.<p>I’ve noticed that most people who write Python packages that have some kind of command line entry point use distutils …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,pelican,youtube,vimeo itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2013-08-09T17:38:00+01:00 itemprop=datePublished> 09 Aug 2013 </time> — 3 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Writing a Vimeo and YouTube plugin for Pelican'" href=https://kura.gg/2013/08/09/writing-a-vimeo-and-youtube-plugin-for-pelican/ itemprop=url rel=bookmark> Writing a Vimeo and YouTube plugin for Pelican </a></h2><section class=summary-content itemprop=articleBody><p><a class="reference external" href=https://getpelican.com/>Pelican</a> is a Python-powered static blog generator that processes <a class="reference external" href=https://docutils.sourceforge.net/rst.html>ReStructuredText</a> and <a class="reference external" href=https://daringfireball.net/projects/markdown/>Markdown</a> articles and pages and converts them to <span class=caps>HTML</span>. I use Pelican to power this blog.<p>There is a YouTube <span class=caps>RST</span> directive built in to Pelican core but it really shouldn’t exist there.<p>I submitted a pull request for Pelican core to enable Vimeo videos in articles but that request was declined because it didn’t belong in the core. So I decided I would write it as a plugin instead and while I was doing it, also wrote a plugin for YouTube so that it could be removed from the core.<p><a class="reference external" href=https://docs.getpelican.com/en/3.2/plugins.html#how-to-create-plugins>There is a decent amount of detail in the Pelican documentation on how to write plugins</a>, I’m not going to cover the whole process but I thought I would cover a little of what I did.<div class=section id=adding-an-rst-directive><h2>Adding an <span class=caps>RST</span> directive</h2><p>Really all we’re doing …</div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,tornado,iostream,ssl,starttls,blackhole itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2013-07-31T13:36:00+01:00 itemprop=datePublished> 31 Jul 2013 </time> — 4 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Writing the STARTTLS command in to Blackhole'" href=https://kura.gg/2013/07/31/writing-the-starttls-command-in-to-blackhole/ itemprop=url rel=bookmark> Writing the <span class=caps>STARTTLS</span> command in to Blackhole </a></h2><section class=summary-content itemprop=articleBody><p>Blackhole has always been able to handle unencrypted <span class=caps>SMTP</span> and for a long time it’s been able to handle encrypted <span class=caps>SMTP</span> via TLSv1.<p>One thing Blackhole hasn’t been able to do until the 1.7.0 release is handle <cite><span class=caps>STARTTLS</span></cite>.<p>In the past the <cite><span class=caps>STARTTLS</span></cite> command would cause Blackhole to return the standard <cite>250 <span class=caps>OK</span></cite> response but would continue to operate on unencrypted <span class=caps>SMTP</span>.<p>I wanted to fix this and do it properly, but this meant learning how to do so with Tornado, which itself proved to be tricky. I ended up deciding to go to my local coding spot - the pub and hash it out.<div class=section id=connection-stream><h2>connection_stream</h2><p>The first thing I had to do was refactor the code that created the instance of <cite>tornado.iostream.IOStream</cite> and <cite>tornado.iostream.SSLIOStream</cite> so that it didn’t actually do the ssl wrapping.<div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>connection_stream</span><span class=p>(</span><span class=n>connection</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Detect which socket the connection …</span></pre></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,tornado,iostream,ssl,blackhole itemprop=keywords><meta content=coding itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2013-07-29T20:00:00+01:00 itemprop=datePublished> 29 Jul 2013 </time> — 2 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'Wrapping a Tornado IOStream with SSL'" href=https://kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/ itemprop=url rel=bookmark> Wrapping a Tornado IOStream with <span class=caps>SSL</span> </a></h2><section class=summary-content itemprop=articleBody><p>As part of my effort to make <a class="reference external" href=https://blackhole.io/>Blackhole</a> as useful and usable as possible, I needed to be able to support <span class=caps>SSL</span>/<span class=caps>TLS</span> enabled connections.<p>Tornado itself has two built-in IOStreams that help us do the job; the first is the standard <a class="reference external" href=https://www.tornadoweb.org/en/stable/iostream.html#tornado.iostream.IOStream>IOStream</a> and the second is the <a class="reference external" href=https://www.tornadoweb.org/en/stable/iostream.html#tornado.iostream.SSLIOStream>SSLIOStream</a>.<p>With this in mind we simply need to spawn two sockets, by default these listen on port 25 for standard <span class=caps>SMTP</span> and port 465 for <span class=caps>SSL</span>/<span class=caps>TLS</span> encrypted <span class=caps>SMTP</span>. With these two sockets bound we’re then very simply able to listen for incoming connections on either socket and use <cite>socket.socket.getsockname()</cite> to figure out if the connection is to the encrypted or unencrypted socket.<div class=section id=code><h2>Code</h2><div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>connection_stream</span><span class=p>(</span><span class=n>connection</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Detect which socket the connection is being made on,</span>
<span class=sd>    create and iostream for the connection, wrapping it</span>
<span class=sd>    in SSL if connected over the SSL socket.</span>

<span class=sd>    The parameter 'connection' is an instance …</span></pre></div></div></section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=python,pypy,blackhole,blackhole.io,mta,email,honeypot itemprop=keywords><meta content=talks itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2013-07-17T21:00:00+01:00 itemprop=datePublished> 17 Jul 2013 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'DJUGL June 2013 talk on blackhole and blackhole.io'" href=https://kura.gg/2013/07/17/djugl-june-2013-talk-on-blackhole-and-blackhole-io/ itemprop=url rel=bookmark> <span class=caps>DJUGL</span> June 2013 talk on blackhole and blackhole.io </a></h2><section class=summary-content itemprop=articleBody><p>I have been a frequent audience member of <a class="reference external" href=https://www.djugl.org/item/443153><span class=caps>DJUGL</span></a> for a few years now and spend most of the time asking questions, playing devils advocate and generally being my annoying self.<p>I have repeatedly said I would do a talk but never got round to it until <a class="reference external" href=https://twitter.com/JonWebJobs>Jon</a> basically forced me to get round to it.<p>My talk was on <a class="reference external" href=https://blackhole.io>blackhole/blackhole.io</a> and covered several topics including <a class="reference external" href=https://pypy.org>PyPy</a>, <a class="reference external" href=/simplemta/>SimpleMTA</a> and moved on to talking about spamming and starting work on my honey pot suite called <a class="reference external" href=https://nectar.blackhole.io>Nectar</a>.<p>You can find the slides on <a class="reference external" href=https://speakerdeck.com/kura/djugl-june-2013>Speaker Deck</a>, sadly I ran out of time when creating them and although I was promised time to finish them at work, I got busy. So I replaced content with “Taylor Replacements(tm)”.<p>The event, attendees and other speakers are listen on the <a class="reference external" href=https://lanyrd.com/2013/djugl-june/>Lanyrd event page</a>.<p>Several people took photos of the event, I don’t remember …</section><div class="eevee-divider mdl-color--accent" role=presentation></div><div class=eevee-divider-to-top><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></div></article><article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting><meta content=fullKeyboardControl itemprop=accessibilityControl><meta content=fullMouseControl itemprop=accessibilityControl><meta content=bookmarks itemprop=accessibilityControl><meta content=captions itemprop=accessibilityControl><meta content=alternativeText itemprop=accessibilityControl><meta content=index itemprop=accessibilityControl><meta content=readingOrder itemprop=accessibilityControl><meta content=structuralNavigation itemprop=accessibilityControl><meta content=tableOfContents itemprop=accessibilityControl><meta content=noFlashingHazard itemprop=accessibilityHazard><meta content=noMotionSimulationHazard itemprop=accessibilityHazard><meta content=noSoundHazard itemprop=accessibilityHazard><meta content=ARIA itemprop=accessibilityAPI><div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation><a class=hidden href=https://kura.gg/authors/kura/ itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a></div><meta content=apache,code_swarm,postgresql,python itemprop=keywords><meta content=misc itemprop=keywords><div class="eevee-meta mdl-color-text--grey-500"><time datetime=2010-02-13T23:01:00+00:00 itemprop=datePublished> 13 Feb 2010 </time> — < 1 min read</div><h2 class=article-title itemprop=name><a title="Permalink to 'code_swarm - Apache, Python and PostgreSQL commit visualization'" href=https://kura.gg/2010/02/13/code_swarm-apache-python-and-postgresql-commit-visualization/ itemprop=url rel=bookmark> code_swarm - Apache, Python and PostgreSQL commit visualization </a></h2><section class=summary-content itemprop=articleBody><p>These videos are pretty old now and I had forgotten about them until a colleague tweeted about a Twitter code_swarm visualization which made me remember.<p>So here they are, best viewed in full screen mode.<div class=section id=apache><h2>Apache</h2><div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/1076588 webkitallowfullscreen width=800></iframe></div></div><div class=section id=python><h2>Python</h2><div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/1093745 webkitallowfullscreen width=800></iframe></div></div><div class=section id=postgresql><h2>PostgreSQL</h2><div align=center class=vimeo><iframe allowfullscreen frameborder=0 height=500 mozallowfullscreen src=https://player.vimeo.com/video/1081680 webkitallowfullscreen width=800></iframe></div></div></section></article><div class=eevee-page-spacer role=presentation></div></div></div></main><div class="eevee-pagination__container eevee-container mdl-grid"><div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone" role=presentation></div><div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"><nav class="eevee-pagination mdl-cell mdl-cell--12-col" aria-label=Pagination itemscope itemtype=http://schema.org/SiteNavigationElement><div class=eevee-spacer></div></nav></div></div><footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement><div class=mdl-mega-footer--top-section><div class=mdl-mega-footer--drop-down-section><ul class=mdl-mega-footer--link-list><li><a title="Back to the top of the page" href=#top itemprop=url> Back to the top of the page </a></ul></div></div><div aria-label="Footer navigation" class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Menu</h1><ul class=mdl-mega-footer--link-list><li><a href=/contact/ itemprop=url rel=bookmark title=Contact> <i aria-hidden=true class=material-icons></i> Contact </a><li><a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons></i> Archives </a><li><a href=https://kura.gg/feeds/rss.xml itemprop=url title=RSS> <i class=material-icons></i> RSS </a><li><a href=https://kura.gg/feeds/atom.xml itemprop=url title=Atom> <i class=material-icons></i> Atom </a></ul></div><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Social</h1><ul class=mdl-mega-footer--link-list><li><a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i aria-hidden=true class=fa></i> Github </a><li><a href=https://noc.social/@kura itemprop=url rel=me title=@kura@noc.social> <i aria-hidden=true class=fa>🦣</i> @kura@noc.social </a></ul></div><div class=mdl-mega-footer--drop-down-section><h1 class=mdl-mega-footer--heading>Links</h1><ul class=mdl-mega-footer--link-list><li><a href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i aria-hidden=true class=material-icons></i> Blackhole </a><li><a href=/eevee itemprop=url rel=bookmark title=Eevee> <i aria-hidden=true class=material-icons></i> Eevee </a><li><a href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i aria-hidden=true class=material-icons></i> Hauntr </a><li><a href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i aria-hidden=true class=material-icons></i> Ghastly </a><li><a title="Pelican Plugins" href=/pelican-plugins itemprop=url rel=bookmark> <i aria-hidden=true class=material-icons></i> Pelican Plugins </a></ul></div></div><div class=mdl-mega-footer--bottom-section><div class=mdl-logo><a href=https://kura.gg itemprop=url rel=bookmark title=kura.gg> kura.gg </a></div><ul class="eevee-footer mdl-mega-footer--link-list"><li>Powered by love & rainbow sparkles.<li>Source code and content released under the <a title="MIT license" href=/license/>MIT license</a>.</ul></div></footer></div>