<!DOCTYPE html><!--

                                      |
                                     /|
                                   ,' |
                                  .   |
                                    | |
                                 ' '| |
                                / / | |
       _,.-\"\"--._              / /  | |
     ,'          `.           j '   ' '
   ,'              `.         ||   / ,                         ___..--,
  /                  \\        ' `.'`.-.,-\".  .       _..---\"\"'' __, ,'
 /                    \\        \\` .\"`      `\"'\\   ,'\"_..--''\"\"\"'.'.'
.                      .      .'-'             \\,' ,'         ,','
|                      |      ,`               ' .`         .' /
|                      |     /          ,\"`.  ' `-. _____.-' .'
'                      |..---.|,\".      | | .  .-'\"\"   __.,-'
 .                   ,'       ||,|      |.' |    |\"\"`'\"
  `-._   `._.._____  |        || |      `._,'    |
      `.   .       `\".     ,'\"| \"  `'           ,+.
        \\  '         |    '   |   .....        .'  `.
         .'          '     7  \".              ,'     \\
                   ,'      |    `..        _,'      F
                  .        |,      `'----''         |
                  |      ,\"j  /                   | '
                  `     |  | .                 | `,'
                   .    |  `.|                 |/
                    `-..'   ,'                .'
                            | \\             ,''
                            |  `,'.      _,' /
                            |    | ^.  .'   /
                             `-'.' j` V    /
                                   |      /
                                   |     /
                                   |   ,'
                                    `\"\"

//--><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=1.0"><link rel=alternate href=https://kura.gg hreflang=en><link rel=dns-prefetch href=https://kura.gg><link rel=stylesheet href=https://kura.gg/theme/css/eevee.min.css?1c9d8344><script async src=https://kura.gg/theme/js/eevee.min.js?1841d254></script><link href=https://kura.gg/feeds/rss.xml type=application/rss+xml rel=alternate title=kura.gg><link href=https://kura.gg/feeds/atom.xml type=application/atom+xml rel=alternate title=kura.gg><meta property=og:site_name content=kura.gg><meta property=og:type content=article><meta property=og:title content=kura.gg><meta property=og:url content=https://kura.gg/tag/ssl/index.html><meta property=og:image content=https://kura.gg/tag/ssl/index.png><meta property=og:image:width content=1920><meta property=og:image:height content=1080><meta property=twitter:title content=kura.gg><meta property=twitter:url content=https://kura.gg/tag/ssl/index.html><meta property=twitter:image content=https://kura.gg/tag/ssl/index.png><meta property=twitter:card content=summary_large_image><meta property=twitter:image:width content=1920><meta property=twitter:image:height content=1080><link rel=icon href=/favicon.png type=image/png sizes="16x16 32x32 48x48 64x64 128x128 256x256"><link rel=icon href=/favicon.ico type=image/vnd.microsoft.icon sizes="16x16 32x32 48x48 64x64 128x128 256x256"><title>Articles with the 'ssl' tag</title></head> <body> <div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"> <header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader> <div class=mdl-layout__header-row> <div aria-expanded=false role=button tabindex=0 class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only"> <i class=material-icons>&#xE5D2;</i> </div> <span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top> <a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a> </h2> </span> <div class=mdl-layout-spacer role=presentation></div> <nav class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/pelican-plugins itemprop=url rel=bookmark title="Pelican Plugins"> <i class=material-icons aria-hidden=true>&#xE86F;</i> Pelican Plugins </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml title=Atom itemprop=url> <i class=material-icons>&#xE0E5;</i> Atom </a> </nav> </div> </header> <div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true> <span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent"> kura.gg </h2> </span> <div class="mdl-navigation mdl-color--white"> <nav class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i class=material-icons aria-hidden=true> &#xE88A; </i> Home </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/pelican-plugins itemprop=url rel=bookmark title="Pelican Plugins"> <i class=material-icons aria-hidden=true>&#xE86F;</i> Pelican Plugins </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/atom.xml title=Atom itemprop=url> <i class=material-icons>&#xE0E5;</i> Atom </a> </nav> </div> </div> <div class="eevee-ribbon mdl-color--primary-dark" role=presentation> </div> <main class="eevee-main mdl-layout__content"> <div class="eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col" aria-label="Main content"> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="haproxy,http,tls,ssl,hpkp,public key pinning"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-01-27T07:04:00+00:00 itemprop=datePublished> 27 Jan 2015 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/01/27/hpkp-http-public-key-pinning-with-haproxy/ rel=bookmark title="Permalink to 'HPKP: HTTP Public Key Pinning with HAProxy'" itemprop=url> <span class=caps>HPKP</span>: <span class=caps>HTTP</span> Public Key Pinning with&nbsp;HAProxy </a> </h2> <section itemprop=articleBody class=summary-content> <p>Public Key Pinning is a security feature that tells a web browser to associate a public cryptographic key with a server or servers. When a web browser visits a website for the first time, it will read the <span class=caps>HPKP</span> header and store the hashes for the certificates that are provided. Each time the browser then revisits that website, the hash from the provided public key is compared against the stored keys, if the hashes do not match, the web browser should display a warning.</p> <p>The <span class=caps>HPKP</span> header adds protection against man-in-the-middle (<span class=caps>MITM</span>) attacks but, if incorrectly configured can make your website display a <span class=caps>TLS</span> error for a long period of time.</p> <p>Here’s a look at what this website publishes as it’s <span class=caps>HKPK</span> header.</p> <pre class=literal-block>
Public-Key-Pins: pin-sha256="cYf9T3Il8DaCnaMaM0LatIAru1vqmcu2JSwS7uvyEB0=";
                 pin-sha256="u2q8QZ8Hjp3o/efZjsch9NKjnZmrISJQjwoi/rmsKLU=";
                 max-age=15768000; includeSubDomains
</pre> <p>To explain it, the first <cite>pin-sha265</cite> key is the hash of the public key that …</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="haproxy,ssl,ocsp,ocsp stapling"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-07-02T23:45:00+01:00 itemprop=datePublished> 02 Jul 2014 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/07/02/haproxy-ocsp-stapling/ rel=bookmark title="Permalink to 'haproxy OCSP stapling'" itemprop=url> haproxy <span class=caps>OCSP</span>&nbsp;stapling </a> </h2> <section itemprop=articleBody class=summary-content> <p>With haproxy 1.5 finally being released we are lucky enough to get a basic interface around <span class=caps>OCSP</span> stapling.</p> <p>Sadly this interface really is quite basic and it’s not the simplest thing to figure out without some trial and error.</p> <p>According to the official documentation, you should be able to pipe your <span class=caps>OCSP</span> response to haproxy via it’s stats socket. Sadly I could not get this to work properly at all, so I decided to swap the piping for a file and reload solution.</p> <p>You’ll need to get a copy of your certification authorities root certificate to proceed with this.</p> <div class=section id=looking-for-your-ocsp-uri> <h2>Looking for your <span class=caps>OCSP</span> <span class=caps>URI</span></h2> <p>If you don’t know the <span class=caps>URI</span> you need to do an <span class=caps>OCSP</span> lookup against, you can find it in your certificate data.</p> <div class=highlight><pre><span></span>openssl<span class=w> </span>x509<span class=w> </span>-in<span class=w> </span>/path/to/your/certificate<span class=w> </span>-text
</pre></div> <p>Inside the output, look for the following section.</p> <pre class=literal-block>
Authority Information Access …</pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,ubuntu,haproxy,spdy,ssl> <meta itemprop=keywords content="deb builds"> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-03-06T03:32:00+00:00 itemprop=datePublished> 06 Mar 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/03/06/haproxy1.5-dev22kura1/ rel=bookmark title="Permalink to 'haproxy1.5-dev22kura1'" itemprop=url> haproxy1.5-dev22kura1 </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=changes> <h2>Changes</h2> <p>This patched version is built using the <cite>USE_ZLIB</cite> option, allowing for usage of compression or using haproxy as a compression offloader.</p> </div> <div class=section id=requirements> <h2>Requirements</h2> <p>haproxy requires openssl-1.0.1d or higher.</p> <p>On a standard Debian 7 install you should have openssl-1.0.1e-2, you can find which version you have by running</p> <div class=highlight><pre><span></span>dpkg -l openssl
</pre></div> <p>This should return something similar to</p> <pre class=literal-block>
ii  openssl        1.0.1e-2        amd64        Secure Socket Layer (SSL) binary and related cryptographic tools
</pre> </div> <div class=section id=build-notes> <h2>Build notes</h2> <p>Builds were done on Debian 7 <span class=caps>AMD64</span>, I will not be providing 32bit versions as this is mainly for my own usage and amusement.</p> <p>This haproxy build is compiled against openssl, providing the npn module, allowing for haproxy to work under <span class=caps>SSL</span>/<span class=caps>TLS</span> and allowing the use of <span class=caps>SPDY</span>/2 and <span class=caps>SPDY</span>/3.</p> <p>This version is available on <a href=/apt.kura.gg/ class="reference external">apt.kura.gg</a> or as a manual download, from the link below.</p> </div> <div class=section id=manual-download> <h2>Manual download</h2> <table class=docutils> <tbody> <tr><td><a class="reference external" href=/files/haproxy_1.5-dev22kura1_amd64.deb>haproxy_1 …</a></td></tr></tbody></table></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,ubuntu,haproxy,spdy,ssl> <meta itemprop=keywords content="deb builds"> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-02-22T05:32:00+00:00 itemprop=datePublished> 22 Feb 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/02/22/haproxy1.5-dev22/ rel=bookmark title="Permalink to 'haproxy1.5-dev22'" itemprop=url> haproxy1.5-dev22 </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=requirements> <h2>Requirements</h2> <p>haproxy requires openssl-1.0.1d or higher.</p> <p>On a standard Debian 7 install you should have openssl-1.0.1e-2, you can find which version you have by running</p> <div class=highlight><pre><span></span>dpkg -l openssl
</pre></div> <p>This should return something similar to</p> <pre class=literal-block>
ii  openssl        1.0.1e-2        amd64        Secure Socket Layer (SSL) binary and related cryptographic tools
</pre> </div> <div class=section id=build-notes> <h2>Build notes</h2> <p>Builds were done on Debian 7 <span class=caps>AMD64</span>, I will not be providing 32bit versions as this is mainly for my own usage and amusement.</p> <p>This haproxy build is compiled against openssl, providing the npn module, allowing for haproxy to work under <span class=caps>SSL</span>/<span class=caps>TLS</span> and allowing the use of <span class=caps>SPDY</span>/2 and <span class=caps>SPDY</span>/3.</p> <p>This version is available on <a href=/apt.kura.gg/ class="reference external">apt.kura.gg</a> or as a manual download, from the link below.</p> </div> <div class=section id=manual-download> <h2>Manual download</h2> <table class=docutils> <tbody> <tr><td><a class="reference external" href=/files/haproxy_1.5-dev22_amd64.deb>haproxy_1.5-dev22_amd64.deb</a></td> </tr> </tbody> </table> </div> <div class=section id=md5> <h2><span class=caps>MD5</span></h2> <div class=highlight><pre><span></span>1d258aaf1592ac5d6cb34e495e283591  haproxy_1.5-dev22_amd64.deb
</pre></div> </div> <div class=section id=sha1> <h2><span class=caps>SHA1</span></h2> <div class=highlight><pre><span></span>f17cb661d2ceb1686a0a4b8566168503a0d372d9  haproxy_1.5-dev22_amd64.deb
</pre></div> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=haproxy,ssl> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-02-22T05:10:00+00:00 itemprop=datePublished> 22 Feb 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/02/22/haproxy-stateful-ssl-session-resumption/ rel=bookmark title="Permalink to 'haproxy stateful SSL session resumption'" itemprop=url> haproxy stateful <span class=caps>SSL</span> session&nbsp;resumption </a> </h2> <section itemprop=articleBody class=summary-content> <p>By default haproxy enables stateless <span class=caps>SSL</span> session resumption, but you can enable stateful session resumption in accordance with <a class="reference external" href=https://www.ietf.org/rfc/rfc5077.txt><span class=caps>RFC</span> 5077</a>. This functionality, like the <span class=caps>SSL</span> handling it relies on is only available from haproxy 1.5.</p> <div class=section id=configuration> <h2>Configuration</h2> <p>The option to enable stateful <span class=caps>SSL</span> session resumption is as below</p> <pre class=literal-block>
no-tls-tickets
</pre> <p>You will need to add it in to your bind line, like below</p> <pre class=literal-block>
bind 0.0.0.0:443 ssl ... no-tls-tickets
</pre> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=ssl> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-02-02T15:18:00+00:00 itemprop=datePublished> 02 Feb 2014 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/02/02/kura.gg-a-star-ssl-rating/ rel=bookmark title="Permalink to 'kura.gg’s A* SSL rating'" itemprop=url> kura.gg&#8217;s A* <span class=caps>SSL</span>&nbsp;rating </a> </h2> <section itemprop=articleBody class=summary-content> <p>I am a firm believer in using <span class=caps>SSL</span> as much as possible, for me that is pretty much everywhere and, thanks to the wonderful guys at <a href=https://www.globalsign.com/ class="reference external">GlobalSign</a>, most of my <span class=caps>SSL</span> certificates are free becauses my projects are all open source.</p> <p>I used a blog post by <a href=https://hynek.me/articles/hardening-your-web-servers-ssl-ciphers/ class="reference external">Hynek Schlawack</a> as a base for my <span class=caps>SSL</span> setup, he is keeping this article up-to-date as much as possible so it should be a great source for any security conscious people that would like to know more and get good explanations about each part.</p> <p>Let’s take a brief look at how this website achieves it’s A* rating.</p> <div class=section id=key> <h2>Key</h2> <p>I use a 4096 bit <span class=caps>RSA</span> key that is no a <a class="reference external" href=https://wiki.debian.org/SSLkeys#Identifying_Weak_Keys>Debian weak key</a>.</p> </div> <div class=section id=protcols> <h2>Protcols</h2> <p>I do not support SSLv2 or SSLv3 but I do support much stronger protocols;</p> <ul class=simple> <li><span class=caps>TLS</span> 1.2,</li> <li><span class=caps>TLS</span> 1.1 and,</li> <li><span class=caps>TLS</span> 1.0.</li> </ul> </div> <div class=section id=dhparam> <h2>dhparam</h2> <p>It’s a …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,tornado,iostream,ssl,starttls,blackhole> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-07-31T13:36:00+01:00 itemprop=datePublished> 31 Jul 2013 </time>&nbsp;-- 4 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/07/31/writing-the-starttls-command-in-to-blackhole/ rel=bookmark title="Permalink to 'Writing the STARTTLS command in to Blackhole'" itemprop=url> Writing the <span class=caps>STARTTLS</span> command in to&nbsp;Blackhole </a> </h2> <section itemprop=articleBody class=summary-content> <p>Blackhole has always been able to handle unencrypted <span class=caps>SMTP</span> and for a long time it’s been able to handle encrypted <span class=caps>SMTP</span> via TLSv1.</p> <p>One thing Blackhole hasn’t been able to do until the 1.7.0 release is handle <cite><span class=caps>STARTTLS</span></cite>.</p> <p>In the past the <cite><span class=caps>STARTTLS</span></cite> command would cause Blackhole to return the standard <cite>250 <span class=caps>OK</span></cite> response but would continue to operate on unencrypted <span class=caps>SMTP</span>.</p> <p>I wanted to fix this and do it properly, but this meant learning how to do so with Tornado, which itself proved to be tricky. I ended up deciding to go to my local coding spot - the pub and hash it out.</p> <div class=section id=connection-stream> <h2>connection_stream</h2> <p>The first thing I had to do was refactor the code that created the instance of <cite>tornado.iostream.IOStream</cite> and <cite>tornado.iostream.SSLIOStream</cite> so that it didn’t actually do the ssl wrapping.</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>connection_stream</span><span class=p>(</span><span class=n>connection</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Detect which socket the connection …</span></pre></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,tornado,iostream,ssl,blackhole> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-07-29T20:00:00+01:00 itemprop=datePublished> 29 Jul 2013 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/ rel=bookmark title="Permalink to 'Wrapping a Tornado IOStream with SSL'" itemprop=url> Wrapping a Tornado IOStream with <span class=caps>SSL</span> </a> </h2> <section itemprop=articleBody class=summary-content> <p>As part of my effort to make <a href=https://blackhole.io/ class="reference external">Blackhole</a> as useful and usable as possible, I needed to be able to support <span class=caps>SSL</span>/<span class=caps>TLS</span> enabled connections.</p> <p>Tornado itself has two built-in IOStreams that help us do the job; the first is the standard <a class="reference external" href=https://www.tornadoweb.org/en/stable/iostream.html#tornado.iostream.IOStream>IOStream</a> and the second is the <a class="reference external" href=https://www.tornadoweb.org/en/stable/iostream.html#tornado.iostream.SSLIOStream>SSLIOStream</a>.</p> <p>With this in mind we simply need to spawn two sockets, by default these listen on port 25 for standard <span class=caps>SMTP</span> and port 465 for <span class=caps>SSL</span>/<span class=caps>TLS</span> encrypted <span class=caps>SMTP</span>. With these two sockets bound we’re then very simply able to listen for incoming connections on either socket and use <cite>socket.socket.getsockname()</cite> to figure out if the connection is to the encrypted or unencrypted socket.</p> <div class=section id=code> <h2>Code</h2> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>connection_stream</span><span class=p>(</span><span class=n>connection</span><span class=p>):</span>
<span class=w>    </span><span class=sd>"""</span>
<span class=sd>    Detect which socket the connection is being made on,</span>
<span class=sd>    create and iostream for the connection, wrapping it</span>
<span class=sd>    in SSL if connected over the SSL socket.</span>

<span class=sd>    The parameter 'connection' is an instance …</span></pre></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="debian,ubuntu,haproxy,nginx,spdy,ssl,ssl termination"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-07-15T22:30:00+01:00 itemprop=datePublished> 15 Jul 2013 </time>&nbsp;-- 5 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/ rel=bookmark title="Permalink to 'haproxy, nginx and SPDY with SSL termination (Debian 7)'" itemprop=url> haproxy, nginx and <span class=caps>SPDY</span> with <span class=caps>SSL</span> termination (Debian&nbsp;7) </a> </h2> <section itemprop=articleBody class=summary-content> <p><a href=/2013/07/10/nginx-spdy-and-ngx-pagespeed/ class="reference external">I wrote an article last week</a> explaining that I had changed my blog and built my own nginx packages with <a class="reference external" href=https://www.chromium.org/spdy><span class=caps>SPDY</span></a> built in.</p> <p>I decided I would take things a little further and poke around with haproxy some more. The initial plan was to compile the latest dev source of haproxy with <span class=caps>SSL</span> termination enabled.</p> <p>In doing so I realised I would lose <span class=caps>SPDY</span> support, which upset me a little. After some digging I found that the 1.5-dev branch of haproxy supports npn and thus can handle <span class=caps>SPDY</span>.</p> <p>I tweaked my builds a little more and managed to get haproxy running as an <span class=caps>SSL</span> terminating load balancer, with <span class=caps>SPDY</span> connections being sent off to my nginx servers with <span class=caps>SPDY</span> enabled and all other non-<span class=caps>SPDY</span> connections were passed on to an nginx virtual host with <span class=caps>SPDY</span> disabled.</p> <div class=section id=requirements> <h2>Requirements</h2> <p>I have released my haproxy build as a debian file below …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="http,https,load,load balancing,pound,ssl,ssl offloading,ssl termination"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2011-09-29T23:15:00+01:00 itemprop=datePublished> 29 Sep 2011 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2011/09/29/load-balancing-httphttps-with-pound-on-debian-6ubuntu/ rel=bookmark title="Permalink to 'Load balancing HTTP/HTTPS with Pound on Debian 6/Ubuntu'" itemprop=url> Load balancing <span class=caps>HTTP</span>/<span class=caps>HTTPS</span> with Pound on Debian&nbsp;6/Ubuntu </a> </h2> <section itemprop=articleBody class=summary-content> <p>Pound is a great little load balancer, it’s fast, opensource and supports <span class=caps>SSL</span> termination, which is great!</p> <div class=section id=install> <h2>Install</h2> <div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>pound
</pre></div> </div> <div class=section id=configuration> <h2>Configuration</h2> <p>The default configuration should be pretty good for most purposes, but feel free to tweak as you require.</p> <div class=section id=http> <h3><span class=caps>HTTP</span></h3> <p>We’ll first look at load balancing <span class=caps>HTTP</span>, in case you don’t want or need <span class=caps>HTTPS</span> load balancing.</p> <p>We’ll need delete all the content within <em>ListenHTTP</em> block, once done it should look like this</p> <pre class=literal-block>
ListenHTTP
End
</pre> <p>Now we add an address and port to listen on and finally a line to remove an <span class=caps>HTTP</span> header</p> <pre class=literal-block>
ListenHTTP
    Address 0.0.0.0 # all interfaces
    Port 80
    HeadRemove "X-Forwarded-For"
End
</pre> <p>This is a basic configuration, for each backend we want to load balance we’ll need to add a service within that listener.</p> <p>You’ll notice we’re removing incoming headers called <em>X-Forwarded-For</em>, this is to make …</p></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=crt,openssl,pem,pkcs12,ssl> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-04-13T19:19:00+01:00 itemprop=datePublished> 13 Apr 2010 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/04/13/convert-pem-key-to-a-single-pkcs12-file/ rel=bookmark title="Permalink to 'Convert PEM & Key to a single PKCS#12 file'" itemprop=url> Convert <span class=caps>PEM</span> <span class=amp>&amp;</span> Key to a single <span class=caps>PKCS</span>#12&nbsp;file </a> </h2> <section itemprop=articleBody class=summary-content> <p>Sometimes keeping multiple copies of keys, certificates and root certificates can be a real annoyance, thankfully it’s quite simple to convert them in to a single <span class=caps>PKCS</span>#12 file with the following command.</p> <div class=highlight><pre><span></span>openssl<span class=w> </span>pkcs12<span class=w> </span>-export<span class=w> </span>-out<span class=w> </span>certificate.pkcs<span class=w> </span>-in<span class=w> </span>certificate.crt<span class=w> </span>-inkey<span class=w> </span>private.key<span class=w> </span>-certfile<span class=w> </span>rootcert.crt<span class=w> </span>-name<span class=w> </span><span class=s2>"PKCS#12 Certificate Bundle"</span>
</pre></div> <p>This will create a file called <strong>certificate.pkcs</strong> which will contain the contents of the <strong>certificate.crt</strong>, <strong>private.key</strong> and your root certificate <strong>rootcert.crt</strong>, it will also have an internal reference to it’s name <strong><span class=caps>PKCS</span>#12 Certificate Bundle</strong> to make it easier to inspect the certificate to find what it should contain, usually you’d set this to something more useful.</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=apache,certificate,crt,der,pem,ssl> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-03-03T17:26:00+00:00 itemprop=datePublished> 03 Mar 2010 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/03/03/convert-der-certificate-to-pem/ rel=bookmark title="Permalink to 'Convert DER certificate to PEM'" itemprop=url> Convert <span class=caps>DER</span> certificate to <span class=caps>PEM</span> </a> </h2> <section itemprop=articleBody class=summary-content> <p>Some times as an administrator you will be given a certificate from a third party that will be in the <span class=caps>DER</span> format, which cannot be loaded in to Apache.</p> <p>Converting it is a simple process:</p> <div class=highlight><pre><span></span>openssl<span class=w> </span>x509<span class=w> </span>-in<span class=w> </span>certificate.crt<span class=w> </span>-inform<span class=w> </span>DER<span class=w> </span>-out<span class=w> </span>certificate.pem<span class=w> </span>-outform<span class=w> </span>PEM
</pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=apache,debian,eth0,howto,mod_ssl,networking,ssl,vhost> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-01-15T06:24:00+00:00 itemprop=datePublished> 15 Jan 2010 </time>&nbsp;-- 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/01/15/howto-debian-apache2-ssl-multiple-vhosts/ rel=bookmark title="Permalink to 'HOWTO: Debian - Apache 2 SSL on multiple virtual hosts'" itemprop=url> <span class=caps>HOWTO</span>: Debian - Apache 2 <span class=caps>SSL</span> on multiple virtual&nbsp;hosts </a> </h2> <section itemprop=articleBody class=summary-content> <p>Figured I’d write this one up quickly as it proved to annoy the hell out of me at 4:30am this morning getting it working on a live server.</p> <p>Apache 2 can serve <span class=caps>SSL</span> content to multiple vhosts on your setup, provided they use different <span class=caps>IP</span> addresses, this post will give you a quick run down on how to do it.</p> <p>First up we need to actually add the new <span class=caps>IP</span> to the machine in /etc/network/interfaces.</p> <pre class=literal-block>
auto eth0
iface eth0 inet static
    address 10.1.1.7
    netmask 255.255.255.0
    gateway 10.1.1.1

auto eth0:1
iface eth0:1 inet static
    address 10.1.1.8
    netmask 255.255.255.0
</pre> <p>Replace my IPs with your own.</p> <p>Restart networking.</p> <div class=highlight><pre><span></span>sudo<span class=w> </span>/etc/init.d/networking<span class=w> </span>restart
</pre></div> <p>Next task is Apache 2 to configure it to listen on both IPs.</p> <blockquote> /etc/apache2/ports.conf</blockquote> <p>My …</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=apache,debian,mod_ssl,ssl> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2010-01-12T22:57:00+00:00 itemprop=datePublished> 12 Jan 2010 </time>&nbsp;-- 4 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2010/01/12/howto-debian-apache-2-amp-mod_ssl/ rel=bookmark title="Permalink to 'HOWTO: Debian, Apache 2 & mod_ssl with self signed cert. or officially signed cert.'" itemprop=url> <span class=caps>HOWTO</span>: Debian, Apache 2 <span class=amp>&amp;</span> mod_ssl with self signed cert. or officially signed&nbsp;cert. </a> </h2> <section itemprop=articleBody class=summary-content> <p>This is gonna be quite a simple tutorial that should be the same (excluding pathing and apt) across other Linux distros.</p> <div class=section id=installation> <h2>Installation</h2> <p>First off we’ll get Apache and mod_ssl install</p> <div class=highlight><pre><span></span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>apache2
</pre></div> <p><span class=caps>SSL</span> should be enabled by default, if not run the following</p> <div class=highlight><pre><span></span>sudo<span class=w> </span>a2enmod<span class=w> </span>ssl
</pre></div> </div> <div class=section id=ssl-certificate> <h2><span class=caps>SSL</span> certificate</h2> <p>There are several ways of doing this, the first you need to figure out is if you want a self signed certificate or one signed by a provider like GeoTrust, this type is not free. In this article I’ll cover both, starting with self signed.</p> <div class=section id=self-signed> <h3>Self signed</h3> <div class=highlight><pre><span></span>sudp<span class=w> </span>mkdir<span class=w> </span>/etc/apache2/ssl
sudo<span class=w> </span>/usr/sbin/make-ssl-cert<span class=w> </span>/usr/share/ssl-cert/ssleay.cnf<span class=w> </span>/etc/apache2/ssl/apache.pem
</pre></div> </div> <div class=section id=provider-signed> <h3>Provider signed</h3> <p>Please note, this type of certificate has to be paid for, prices at time of writing range from £15/year to £2,000/year.</p> <p>There are actually some more options …</p></div></div> </section> </article> <div class=eevee-page-spacer role=presentation></div> </div> </div> </main> <div class="eevee-pagination__container eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"> <nav class="eevee-pagination mdl-cell mdl-cell--12-col" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label=Pagination> <div class=eevee-spacer></div> </nav> </div> </div> <footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement> <div class=mdl-mega-footer--top-section> <div class=mdl-mega-footer--drop-down-section> <ul class=mdl-mega-footer--link-list> <li> <a href=#top itemprop=url title="Back to the top of the page"> Back to the top of the page </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Footer navigation"> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Menu</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> </li> <li> <a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> </li> <li> <a href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </li> <li> <a href=https://kura.gg/feeds/atom.xml title=Atom itemprop=url> <i class=material-icons>&#xE0E5;</i> Atom </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Social</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i class=fa aria-hidden=true>&#xF09B;</i> Github </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Links</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> </li> <li> <a href=/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> </li> <li> <a href=/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> </li> <li> <a href=/pelican-plugins itemprop=url rel=bookmark title="Pelican Plugins"> <i class=material-icons aria-hidden=true>&#xE86F;</i> Pelican Plugins </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--bottom-section> <div class=mdl-logo> <a href=https://kura.gg rel=bookmark itemprop=url title=kura.gg> kura.gg </a> </div> <ul class="eevee-footer mdl-mega-footer--link-list"> <li>Powered by love &amp; rainbow sparkles.</li> <li>Source code and content released under the <a href=/license/ title="MIT license">MIT license</a>.</li> </ul> </div> </footer> </div> </body> </html>