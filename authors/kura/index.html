<!DOCTYPE html><!--

                                      |
                                     /|
                                   ,' |
                                  .   |
                                    | |
                                 ' '| |
                                / / | |
       _,.-\"\"--._              / /  | |
     ,'          `.           j '   ' '
   ,'              `.         ||   / ,                         ___..--,
  /                  \\        ' `.'`.-.,-\".  .       _..---\"\"'' __, ,'
 /                    \\        \\` .\"`      `\"'\\   ,'\"_..--''\"\"\"'.'.'
.                      .      .'-'             \\,' ,'         ,','
|                      |      ,`               ' .`         .' /
|                      |     /          ,\"`.  ' `-. _____.-' .'
'                      |..---.|,\".      | | .  .-'\"\"   __.,-'
 .                   ,'       ||,|      |.' |    |\"\"`'\"
  `-._   `._.._____  |        || |      `._,'    |
      `.   .       `\".     ,'\"| \"  `'           ,+.
        \\  '         |    '   |   .....        .'  `.
         .'          '     7  \".              ,'     \\
                   ,'      |    `..        _,'      F
                  .        |,      `'----''         |
                  |      ,\"j  /                   | '
                  `     |  | .                 | `,'
                   .    |  `.|                 |/
                    `-..'   ,'                .'
                            | \\             ,''
                            |  `,'.      _,' /
                            |    | ^.  .'   /
                             `-'.' j` V    /
                                   |      /
                                   |     /
                                   |   ,'
                                    `\"\"

//--><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=1.0"><link rel=alternate href=https://kura.gg hreflang=en><link rel=dns-prefetch href=https://kura.gg><link href=https://kura.gg/feeds/rss.xml type=application/rss+xml rel=alternate title=kura.gg><link href=https://kura.gg/feeds/atom.xml type=application/atom+xml rel=alternate title=kura.gg><meta property=og:site_name content=kura.gg><meta property=og:type content=article><meta property=og:title content=kura.gg><meta property=og:url content=https://kura.gg/authors/kura/index.html><meta property=og:image content=https://kura.gg/authors/kura/index.png><meta property=og:image:width content=1920><meta property=og:image:height content=1080><meta property=twitter:title content=kura.gg><meta property=twitter:url content=https://kura.gg/authors/kura/index.html><meta property=twitter:image content=https://kura.gg/authors/kura/index.png><meta property=twitter:card content=summary_large_image><meta property=twitter:image:width content=1920><meta property=twitter:image:height content=1080><link rel=icon href=/favicon.png type=image/png sizes="16x16 32x32 48x48 64x64 128x128 256x256"><link rel=icon href=/favicon.ico type=image/vnd.microsoft.icon sizes="16x16 32x32 48x48 64x64 128x128 256x256"><title>kura</title></head> <body> <div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"> <header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader> <div class=mdl-layout__header-row> <div aria-expanded=false role=button tabindex=0 class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only"> <i class=material-icons>&#xE5D2;</i> </div> <span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top> <a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a> </h2> </span> <div class=mdl-layout-spacer role=presentation></div> <nav class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </header> <div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true> <span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent"> kura.gg </h2> </span> <div class="mdl-navigation mdl-color--white"> <nav class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i class=material-icons aria-hidden=true> &#xE88A; </i> Home </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </div> <div class="eevee-ribbon mdl-color--primary-dark" role=presentation> </div> <main class="eevee-main mdl-layout__content"> <div class="eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col" aria-label="Main content"> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="cloudflare http content-security-policy csp"> <meta itemprop=keywords content=misc> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2021-10-24T12:00:00+01:00 itemprop=datePublished> 24 Oct 2021 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2021/10/24/playing-with-cloudflare-workers-injecting-csp-nonce/ rel=bookmark title="Permalink to 'Playing with Cloudflare Workers: Injecting CSP nonces in to responses'" itemprop=url> Playing with Cloudflare Workers: Injecting <span class=caps>CSP</span> nonces in to&nbsp;responses </a> </h2> <section itemprop=articleBody class=summary-content> <p><tt class="docutils literal"><span class=pre>Content-Security-Policy</span></tt> (<span class=caps>CSP</span>) is an <span class=caps>HTTP</span> header returned by servers that gives the client some information on where resources can be loaded. For example setting <tt class="docutils literal"><span class=pre>script-src</span> 'self'</tt> in the <span class=caps>CSP</span> tells the client that it should only load script resources from the current origin. <tt class="docutils literal">'self'</tt> for this blog post would mean <tt class="docutils literal"><span class=pre>https://kura.gg</span></tt>.</p> <p>To make loading those resources more secure you can use hashes or nonces within the <span class=caps>CSP</span> that the client can verify. Below I will show how I inject <span class=caps>CSP</span> nonces using Cloudflare Workers in to responses from my origin.</p> <div class=section id=security-considerations> <h2>Security considerations</h2> <p><strong>Think of this as an academic exercise rather than something you should do.</strong></p> <p>This article will only explain how I inject the nonces in to responses from the origin. This isn’t really secure given the method I use to do this is pretty dumb — it just adds a generated nonce to <tt class="docutils literal">&lt;script&gt;</tt> and <tt class="docutils literal">&lt;link <span class=pre>rel …</span></tt></p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="pokemon cloudflare http"> <meta itemprop=keywords content=misc> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2021-10-15T20:50:00+01:00 itemprop=datePublished> 15 Oct 2021 </time>&nbsp;-- 10 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2021/10/15/playing-with-cloudflare-workers-adding-random-pokemon-header/ rel=bookmark title="Permalink to 'Playing with Cloudflare Workers: Adding a random Pokémon to response headers'" itemprop=url> Playing with Cloudflare Workers: Adding a random Pokémon to response&nbsp;headers </a> </h2> <section itemprop=articleBody class=summary-content> <img alt="Eevee, the Pokémon" class=align-center src=/images/eevee.png> <p>I was a little bored tonight and had a thought; “can I find a way to add a random Pokédex and it’s National Pokédex number as a header to requests on my website?”</p> <p>The answer is - quite simply - “yes”.</p> <div class=section id=cloudflare-workers> <h2>Cloudflare Workers</h2> <p>This website runs on Cloudflare’s content delivery network and as such I have access to <a href=https://workers.cloudflare.com/ class="reference external">Cloudflare Workers</a>, allowing me to run arbitrary code at the edge for incoming requests.</p> <p>Setting up a worker that picks a random Pokemon and injects it as a header is very simple, add a worker, write the code and add some routing to it.</p> </div> <div class=section id=try-it-yourself> <h2>Try it yourself</h2> <pre class="code bash literal-block">
curl -sI https://kura.gg/ <span class=p>|</span> grep <span class=s2>"x-pokemon"</span>
x-pokemon: Eevee <span class=o>(</span><span class=c1>#133)</span>
</pre> </div> <div class=section id=the-code> <h2>The code</h2> <pre class="code javascript literal-block">
<span class=kd>let</span> <span class=nx>pokemon</span> <span class=o>=</span> <span class=p>[</span>
    <span class=s2>"Bulbasaur (#1)"</span><span class=p>,</span> <span class=s2>"Ivysaur (#2)"</span><span class=p>,</span> <span class=s2>"Venusaur (#3)"</span><span class=p>,</span> <span class=s2>"Charmander (#4)"</span><span class=p>,</span> <span class=s2>"Charmeleon (#5)"</span><span class=p>,</span>
    <span class=s2>"Charizard (#6)"</span><span class=p>,</span> <span class=s2>"Squirtle (#7)"</span><span class=p>,</span> <span class=s2>"Wartortle (#8)"</span><span class=p>,</span> <span class=s2>"Blastoise (#9)"</span><span class=p>,</span> <span class=s2>"Caterpie (#10)"</span><span class=p>,</span>
    <span class=s2>"Metapod (#11)"</span><span class=p>,</span> <span class=s2>"Butterfree (#12)"</span><span class=p>,</span> <span class=s2>"Weedle (#13)"</span><span class=p>,</span> <span class=s2>"Kakuna (#14)"</span><span class=p>,</span> <span class=s2>"Beedrill (#15)"</span><span class=p>,</span>
    <span class=s2>"Pidgey …</span></pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=gmail,email,smtp,dnssec> <meta itemprop=keywords content=email> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2021-10-14T16:50:00+01:00 itemprop=datePublished> 14 Oct 2021 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2021/10/14/google-workspace-gmail-mx-dnssec-signed/ rel=bookmark title="Permalink to 'Google Workspace Gmail MX records signed with DNSSEC'" itemprop=url> Google Workspace Gmail <span class=caps>MX</span> records signed with <span class=caps>DNSSEC</span> </a> </h2> <section itemprop=articleBody class=summary-content> <p>Gmail provided by the paid Google Workspace service (formerly known as G Suite and Google Apps) has unofficial <span class=caps>DNSSEC</span>-signed <span class=caps>MX</span> records available for use. The officially supported ones that you’re told to configure do not offer <span class=caps>DNSSEC</span> signing.</p> <p>These <span class=caps>MX</span> records have both IPv4 and IPv6 addresses, although the records are not officially supported or documented and may be unreliable or removed at any point. (I’ve been using them for a while now and they seem perfectly fine to me but use at your own risk.)</p> <pre class="code literal-block">
mx1.smtp.goog
mx2.smtp.goog
mx3.smtp.goog
mx4.smtp.goog
</pre> <p>The table below has the <span class=caps>MX</span> record and the A and <span class=caps>AAAA</span> record values.</p> <pre class="code literal-block">
mx1.smtp.goog
    216.239.32.151
    2001:4860:4802:32::97

mx2.smtp.goog
    216.239.34.151
    2001:4860:4802:34::97

mx3.smtp.goog
    216.239.36.151
    2001:4860:4802:36 …</pre> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=nginx,openresty,lua> <meta itemprop=keywords content=misc> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2020-08-30T17:30:00+01:00 itemprop=datePublished> 30 Aug 2020 </time>&nbsp;-- 10 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2020/08/30/configuring-upstreams-dynamically-with-dns-in-openresty/ rel=bookmark title="Permalink to 'Configuring upstreams dynamically with DNS in OpenResty'" itemprop=url> Configuring upstreams dynamically with <span class=caps>DNS</span> in&nbsp;OpenResty </a> </h2> <section itemprop=articleBody class=summary-content> <p>This article is a continuation of <a href=https://kura.gg/2020/08/09/retrying-dynamically-configured-upstreams-with-openresty/ class="reference external">retrying dynamically configured upstreams</a> that gives an example of how you can configure OpenResty to update your upstream backend servers dynamically with <span class=caps>DNS</span>.</p> <div class=section id=breaking-down-init-worker-by-lua-block> <h2>Breaking down <cite>init_worker_by_lua_block</cite></h2> <p><cite>init_worker_by_lua_block</cite> can be used to make an nginx worker do some fun stuff. In this instance we’re going to use it in conjunction with <cite>ngx.timer.every</cite> and the <cite>resty.dns.resolver</cite>.</p> <p>Here is the full example of my <cite>init_worker_by_lua_block</cite>.</p> <pre class="code lua literal-block">
<span class=n>init_worker_by_lua_block</span> <span class=p>{</span>
    <span class=n>_backend_servers</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=kd>local</span> <span class=kr>function</span> <span class=nf>update_dns</span><span class=p>()</span>
        <span class=c1>-- Set up the resolver</span>
        <span class=kd>local</span> <span class=n>resolver</span> <span class=o>=</span> <span class=nb>require</span> <span class=s2>"resty.dns.resolver"</span>
        <span class=kd>local</span> <span class=n>r</span><span class=p>,</span> <span class=n>err</span> <span class=o>=</span> <span class=n>resolver</span><span class=p>:</span><span class=n>new</span><span class=p>{</span>
            <span class=n>nameservers</span> <span class=o>=</span> <span class=p>{</span><span class=s2>"1.1.1.1"</span><span class=p>,</span> <span class=p>{</span><span class=s2>"1.0.0.1"</span><span class=p>,</span> <span class=mi>53</span><span class=p>}</span> <span class=p>},</span>  <span class=c1>-- Cloudflare</span>
            <span class=n>retrans</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span>  <span class=c1>-- 5 retransmissions on receive timeout</span>
            <span class=n>timeout</span> <span class=o>=</span> <span class=mi>1000</span><span class=p>,</span>  <span class=c1>-- 1 sec</span>
        <span class=p>}</span>
        <span class=kr>if</span> <span class=ow>not</span> <span class=n>r</span> <span class=kr>then</span>
            <span class=n>ngx</span><span class=p>.</span><span class=n>log</span><span class=p>(</span><span class=n>ngx</span><span class=p>.</span><span class=n>ERR</span><span class=p>,</span> <span class=s2>"failed to instantiate resolver: "</span><span class=p>,</span> <span class=n>err</span><span class=p>)</span>
            <span class=kr>return</span>
        <span class=kr>end</span>

        <span class=c1>-- Pull DNS …</span></pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=nginx,openresty,lua> <meta itemprop=keywords content=misc> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2020-08-09T17:00:00+01:00 itemprop=datePublished> 09 Aug 2020 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2020/08/09/retrying-dynamically-configured-upstreams-with-openresty/ rel=bookmark title="Permalink to 'Retrying dynamically configured upstreams with OpenResty'" itemprop=url> Retrying dynamically configured upstreams with&nbsp;OpenResty </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=preamble> <h2>Preamble</h2> <p>OpenResty is a modified version of nginx with LuaJIT compiled in and many nginx options that can be controlled or modified via Lua. It is very commonly used in content delivery networks for it’s configurability.</p> <p>As such, we use OpenResty and one of the features we use is the ability to dynamically modify upstream backends. To achieve this we use some logic within OpenResty to update upstreams based on <span class=caps>DNS</span> records. This means we can pull upstreams in and out of service via <span class=caps>DNS</span> records and have OpenResty update it’s upstream proxy passing configuration without needing to push configs out to hundreds of servers and reload daemons.</p> <p>The logic behind how we update the upstream backends is beyond the scope of this post, so let’s just say we have a table of upstream servers.</p> <pre class="code lua literal-block">
<span class=kd>local</span> <span class=n>upstream_servers</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>"10.0.0.1:443"</span><span class=p>,</span>
    <span class=s2>"10.0.0.2 …</span></pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=pelican> <meta itemprop=keywords content=eevee> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2016-06-25T21:00:00+01:00 itemprop=datePublished> 25 Jun 2016 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2016/06/25/eevee-adding-more-structure-to-posts/ rel=bookmark title="Permalink to 'Eevee — Adding more structure to posts'" itemprop=url> Eevee &#8212; Adding more structure to&nbsp;posts </a> </h2> <section itemprop=articleBody class=summary-content> <img alt="Eevee the Pokémon" class=align-center src=/images/eeveelutions.png> <div class=section id=introduction> <h2>Introduction</h2> <p><a href=/eevee/ class="reference external">Eevee</a> is a theme for <a class="reference external" href=https://getpelican.com>Pelican</a>, based on Google’s <a href=https://material.google.com/ class="reference external">Material Design</a> specification that I released in June 2016.</p> <p><a href=https://schema.org/ class="reference external">Schema.org</a> is a collaborative effort, including private companies like Google and the open source community to promoter adding additional structure to data that indentifies what parts of <span class=caps>HTML</span> are being used for, for example it can help a search engine understand what content is more important to index or, it can help a user with a screen reader get to the important content more easily. These structures are more commonly known as microformats or microdata.</p> </div> <div class=section id=structure-is-a-beautiful-thing> <h2>Structure is a beautiful thing</h2> <p><span class=caps>HTML</span> — by it’s very design is structured — the difference is that the content defines or modifies that structure.</p> <p>By using microformat data structures from schema.org you can define what elements are more prominent or important through a large set of additional vocabulary, improving the experience for everyone …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=pelican,eevee,muut> <meta itemprop=keywords content=eevee> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2016-06-19T01:45:00+01:00 itemprop=datePublished> 19 Jun 2016 </time>&nbsp;-- 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2016/06/19/eevee-updating-share-buttons-and-adding-muut/ rel=bookmark title="Permalink to 'Eevee — Updating share buttons and adding Muut'" itemprop=url> Eevee &#8212; Updating share buttons and adding&nbsp;Muut </a> </h2> <section itemprop=articleBody class=summary-content> <img alt="Eevee the Pokémon" class=align-center src=/images/eeveelutions.png> <p>This week I pushed the <a class="reference external" href=https://github.com/kura/eevee/tree/0.0.3>0.0.3 update</a> for my Pelican theme <a href=/eevee/ class="reference external">Eevee</a> containing new and improved styling for share buttons and adding the ability to use <a href=https://muut.com/ class="reference external">Muut</a> instead of Disqus for comments.</p> <div class=section id=share-button-changes> <h2>Share button changes</h2> <p>The original styling of the share buttons wasn’t particularly pretty.</p> <img alt="Eevee's original share button styling" class=align-center src=/images/eevee-original-share-buttons.png> <p>They badly needed a make over, and so they were restyled to be more prominent, look less out of place and randomly pasted in to the page and to have a colour scheme that matches the social media site they share to.</p> <img alt="Eevee's new 0.0.3 share button styling" class=align-center src=/images/eevee-0.0.3-share-buttons.png> <p>These buttons appear on articles and pages, but when viewing an article with <tt class="docutils literal">DISQUS_SITENAME</tt> or <tt class="docutils literal">MUUT_SITENAME</tt> enabled a fourth button is shown that links to the comments section of the current article.</p> <img alt="Eevee's new 0.0.3 article share button styling" class=align-center src=/images/eevee-0.0.3-article-share-buttons.png> </div> <div class=section id=comments-powered-by-muut> <h2>Comments powered by Muut</h2> <p>To enable commenting with Muut, simply modify <tt class="docutils literal">pelicanconf.py</tt> and set the Muut site name.</p> <div class=highlight><pre><span></span><span class=n>MUUT_SITENAME</span> <span class=o>=</span> <span class=s1>'somethinghere'</span>
</pre></div> <p>This will automatically cause …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=pelican,lightbox,eevee> <meta itemprop=keywords content=lightbox> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2016-06-13T20:50:00+01:00 itemprop=datePublished> 13 Jun 2016 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2016/06/13/lightbox--a-pure-css-lightbox-for-pelican/ rel=bookmark title="Permalink to 'Lightbox — A pure CSS lightbox for Pelican'" itemprop=url> Lightbox &#8212; A pure <span class=caps>CSS</span> lightbox for&nbsp;Pelican </a> </h2> <section itemprop=articleBody class=summary-content> <img alt=Lightbox class=align-center src=/images/lightbox.png> <div class=section id=introduction> <h2>Introduction</h2> <p>With the release of my <a href=/eevee/ class="reference external">Eevee</a> theme for Pelican, I realised displaying a thumbnail image of the theme that linked to a larger image wasn’t the most appealing design choice. I prefer to leave Javascript out of the equation where possible, being one of those weird people that have it disabled by default.</p> <p>As such I sought out a way to create a pure <span class=caps>CSS</span> equivalent of a Lightbox and turn it in to an <span class=caps>RST</span> directive to plug directly in to Pelican.</p> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=pelican> <meta itemprop=keywords content=eevee> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2016-06-12T23:40:00+01:00 itemprop=datePublished> 12 Jun 2016 </time>&nbsp;-- 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2016/06/12/eevee-using-font-awesome-icons-in-menus/ rel=bookmark title="Permalink to 'Eevee — Using Font Awesome icons in menus'" itemprop=url> Eevee &#8212; Using Font Awesome icons in&nbsp;menus </a> </h2> <section itemprop=articleBody class=summary-content> <img alt="Eevee the Pokémon" class=align-center src=/images/eeveelutions.png> <div class=section id=introduction> <h2>Introduction</h2> <p><a href=/eevee/ class="reference external">Eevee</a> is a theme for <a class="reference external" href=https://getpelican.com>Pelican</a>, based on Google’s <a href=https://material.google.com/ class="reference external">Material Design</a> specification that I released in June 2016.</p> <p>Eevee allows configuring menu links in the header and footer of a template — including social links.</p> <p>Eevee also includes <a href=https://fontawesome.com/ class="reference external">Font Awesome</a> by default, at time of release and writing of this article it provides Font Awesome version 4.6.3.</p> <p>Because the links are totally customisable, it means you can inject <span class=caps>HTML</span> directly in to a link name and — because Font Awesome is included by default — you can inject Font Awesome icons in to link names using <span class=caps>HTML</span>.</p> <img alt="Social icons in Eevee menu" src=/images/eevee-social-icons.png> </div> <div class=section id=using-icons-in-links> <h2>Using icons in links</h2> <p>Menu’s in Eevee are controlled by Pelican’s configuration, for information on how to modify menu’s please see <a class="reference external" href=/eevee/#header-and-footer-options>the Eevee documentation</a>.</p> <p>Imagine you have a list of links to social websites in your menu, similar to the list below.</p> <div class=highlight><pre><span></span><span class=n>SOCIAL</span> <span class=o>=</span> <span class=p>((</span><span class=s1>'Github'</span><span class=p>,</span> <span class=s1>'https://github.com/'</span><span class=p>),</span>
          <span class=p>(</span><span class=s1>'Twitter'</span><span class=p>,</span> <span class=s1>'https …</span></pre></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=pelican> <meta itemprop=keywords content=eevee> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2016-06-12T10:25:00+01:00 itemprop=datePublished> 12 Jun 2016 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2016/06/12/eevee-a-material-design-theme-for-pelican/ rel=bookmark title="Permalink to 'Eevee — A Material Design theme for Pelican'" itemprop=url> Eevee &#8212; A Material Design theme for&nbsp;Pelican </a> </h2> <section itemprop=articleBody class=summary-content> <img alt="Eevee the Pokémon" class=align-center src=/images/eeveelutions.png> <div class=section id=introduction> <h2>Introduction</h2> <p>Eevee is a theme for <a class="reference external" href=https://getpelican.com>Pelican</a>, based on Google’s <a href=https://material.google.com/ class="reference external">Material Design</a> specification. It is named after the Pokémon <a class="reference external" href=https://www.pokemon.com/uk/pokedex/eevee>Eevee</a> because — like the Pokémon — it can evolve in to many ‘elemental types.’</p> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,python3.5,3.5,asyncio,email,smtp,mta> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2016-05-21T00:20:00+01:00 itemprop=datePublished> 21 May 2016 </time>&nbsp;-- 7 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2016/05/21/blackhole-2.0-or-how-i-learned-to-love-asyncio/ rel=bookmark title="Permalink to 'Blackhole 2.0: or, How I Learned to Love Asyncio'" itemprop=url> Blackhole 2.0: or, How I Learned to Love&nbsp;Asyncio </a> </h2> <section itemprop=articleBody class=summary-content> <p>A brief history of a tiny part of the Internet.</p> <p><a class="reference external" href=https://blackhole.io/1>Blackhole 1 — Blackhole as it was originally known</a> — was written on <a class="reference external" href=https://docs.python.org/2/whatsnew/2.7.html>Python 2.7</a>, briefly supporting <a class="reference external" href=https://docs.python.org/2.6/whatsnew/2.6.html>Python 2.6</a> for a time and also supporting early version of <a class="reference external" href=https://docs.python.org/3.2/whatsnew/3.2.html>Python 3</a>, <a class="reference external" href=https://www.pypy.org/features.html>PyPy 2</a> and <a class="reference external" href=https://www.pypy.org/features.html>PyPy 3</a>. Built on top of <a href=https://www.tornadoweb.org/en/stable/ class="reference external">Tornado</a>, it was asynchronous in a fashion and — quite simply — worked.</p> <p>The original prototype that became Blackhole was <a class="reference external" href=/simplemta>SimpleMTA</a> — a prototype that was created quickly, to serve a very simple testing purpose that I had for it.</p> <p>As I needed SimpleMTA to do more, I wrote Blackhole to accomplish that task. I’d been using Tornado a bit and wanted to experiment with it more. Building on top of Tornado created some oddities in how the program was designed and that always irked me.</p> <p>Between the time of the last 1.8.X and the 2.0 release, I experimented with …</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="Ian Murdock,Debian"> <meta itemprop=keywords content=misc> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-12-30T22:34:00+00:00 itemprop=datePublished> 30 Dec 2015 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/12/30/farewell-ian/ rel=bookmark title="Permalink to 'Farewell Ian'" itemprop=url> Farewell&nbsp;Ian </a> </h2> <section itemprop=articleBody class=summary-content> <div class=figure> <img alt="Ian Murdock" src=/images/ian-murdock.png> <p class=caption>Image by Stephen Shankland</p> </div> <p>Today news arrived that broke my heart, Ian Murdock has passed away. I never met Ian but he had an enormous impact on my life, through his work.</p> <p>Debian has been my operating system of choice for many years now, it runs on all of my servers and my home computers. Ian’s vision for the operating system is why I started using it and use it to this day. It’s why I’ve continued to work on the operating system and create packages of all of my work for it.</p> <p>Ian is, without a doubt, one of the biggest influences on my career and on my life.</p> <p>Farewell sir, you will be missed.</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=dnssec,dns,sshfp,ssh> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-10-18T03:30:00+01:00 itemprop=datePublished> 18 Oct 2015 </time>&nbsp;-- 2 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/10/18/sshfp-dns-records/ rel=bookmark title="Permalink to 'SSHFP DNS records'" itemprop=url> <span class=caps>SSHFP</span> <span class=caps>DNS</span>&nbsp;records </a> </h2> <section itemprop=articleBody class=summary-content> <p><a class="reference external" href=https://tools.ietf.org/html/rfc4255><span class=caps>SSHFP</span></a> records are a defense against people blindly typing ‘yes’ when asked if they want to continue connecting to an <span class=caps>SSH</span> host who’s authenticity is unknown.</p> <div class=highlight><pre><span></span>$ ssh some.host.tld
The authenticity of host 'some.host.tld (123.456.789.10)' can't be established.
ED25519 key fingerprint is 69:76:51:39:a4:c6:de:15:7c:50:4b:4a:a7:98:40:5e.
Are you sure you want to continue connecting (yes/no)?
</pre></div> <p>This prompt is likely to be extremely familiar to you and, most people seem to just type ‘yes’ to move on with their lives, which defeats the whole purpose of this prompt.</p> <p>If you use <span class=caps>DNSSEC</span> you can bypass this prompt entirely by publishing your server’s key fingerprints via <span class=caps>DNS</span> and having <span class=caps>SSH</span> authenticate them for you.</p> <div class=section id=generating-your-sshfp-record> <h2>Generating your <span class=caps>SSHFP</span> record</h2> <p>You can get <span class=caps>SSH</span> to generate the <span class=caps>DNS</span> records for you, log in …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="dnssec,dns,rage4. name.com"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-10-18T03:10:00+01:00 itemprop=datePublished> 18 Oct 2015 </time>&nbsp;-- 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/10/18/dnssec-with-rage4-and-name.com/ rel=bookmark title="Permalink to 'DNSSEC with Rage4 and name.com'" itemprop=url> <span class=caps>DNSSEC</span> with Rage4 and&nbsp;name.com </a> </h2> <section itemprop=articleBody class=summary-content> <p>I currently use <a href=https://www.name.com/ class="reference external">name.com</a> as my registrar and I use <a href=https://rage4.com/ class="reference external">Rage4</a> because Rage4 are awesome, they also support <span class=caps>TLSA</span> and <span class=caps>SSHFP</span> records and of course, <span class=caps>DNSSEC</span>.</p> <p>I’m writing this up because I found getting <span class=caps>DNSSEC</span> from Rage4 to work with name.com as my registrar was a pain and the name.com support were not very helpful, linking me to a support article that I’d already read and did not help at all.</p> <div class=section id=id1> <h2>Rage4</h2> <p>I’m going to assume you’ve already got your records in Rage4, if not, the interface is really easy so you’ll figure it out.</p> <p>Within the management section for your domain’s zone, there is a menu bar of icons, the icon pictured below enabled <span class=caps>DNSSEC</span>.</p> <img alt="Enabled DNSSEC" src=/images/rage4-dnssec-icon.png> <p>Clicking this will turn on <span class=caps>DNSSEC</span>. You will then have a new icon that will allow you to display your <span class=caps>DNSSEC</span> information.</p> <img alt="Display DNSSEC info" src=/images/rage4-dnssec-info-icon.png> <p>Clicking this icon …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=tor> <meta itemprop=keywords content=misc> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-02-02T09:59:00+00:00 itemprop=datePublished> 02 Feb 2015 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/02/02/running-a-tor-exit-node-is-not-as-scary-as-it-sounds/ rel=bookmark title="Permalink to 'Running a Tor exit node is not as scary as it sounds'" itemprop=url> Running a Tor exit node is not as scary as it&nbsp;sounds </a> </h2> <section itemprop=articleBody class=summary-content> <p>There is a variety of information out there about being a Tor exit node operator. Articles like <a href=https://testbit.eu/tor-exit-node-less-week/ class="reference external">this one</a> make the thought of running a Tor exit as scary prospect, it’s understandable, some countries have laws that make running an exit scary too.</p> <p>I run <a href=/tor/ class="reference external">a variety of relays</a> in various countries in this crazy World and thought I’d share my experiences.</p> <div class=section id=choosing-a-hosting-partner> <h2>Choosing a hosting partner</h2> <p>I personally choose to use a third party hosting provider for my relays, rather than using colocation. I just find this is easier and I don’t have to think about the hardware much at all.</p> <p>Finding a provider can be a pain, there is a decent list on the <a class="reference external" href=https://trac.torproject.org/projects/tor/wiki/doc/GoodBadISPs>Tor wiki</a>. I use some of the providers on this list but I’ve also found it can be a really good idea to just contact a provider and talk to them …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="haproxy,http,tls,ssl,hpkp,public key pinning"> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-01-27T07:04:00+00:00 itemprop=datePublished> 27 Jan 2015 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/01/27/hpkp-http-public-key-pinning-with-haproxy/ rel=bookmark title="Permalink to 'HPKP: HTTP Public Key Pinning with HAProxy'" itemprop=url> <span class=caps>HPKP</span>: <span class=caps>HTTP</span> Public Key Pinning with&nbsp;HAProxy </a> </h2> <section itemprop=articleBody class=summary-content> <p>Public Key Pinning is a security feature that tells a web browser to associate a public cryptographic key with a server or servers. When a web browser visits a website for the first time, it will read the <span class=caps>HPKP</span> header and store the hashes for the certificates that are provided. Each time the browser then revisits that website, the hash from the provided public key is compared against the stored keys, if the hashes do not match, the web browser should display a warning.</p> <p>The <span class=caps>HPKP</span> header adds protection against man-in-the-middle (<span class=caps>MITM</span>) attacks but, if incorrectly configured can make your website display a <span class=caps>TLS</span> error for a long period of time.</p> <p>Here’s a look at what this website publishes as it’s <span class=caps>HKPK</span> header.</p> <pre class=literal-block>
Public-Key-Pins: pin-sha256="cYf9T3Il8DaCnaMaM0LatIAru1vqmcu2JSwS7uvyEB0=";
                 pin-sha256="u2q8QZ8Hjp3o/efZjsch9NKjnZmrISJQjwoi/rmsKLU=";
                 max-age=15768000; includeSubDomains
</pre> <p>To explain it, the first <cite>pin-sha265</cite> key is the hash of the public key that …</p> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,wheezy,postfix,dovecot,mail,encrypted> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-01-26T21:25:00+00:00 itemprop=datePublished> 26 Jan 2015 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/01/26/debian-wheezy-encrypted-maildir-using-encfs/ rel=bookmark title="Permalink to 'Debian Wheezy encrypted Maildir using encfs'" itemprop=url> Debian Wheezy encrypted Maildir using&nbsp;encfs </a> </h2> <section itemprop=articleBody class=summary-content> <p>This is really a follow up article to <a href=/debian-wheezy-tls-mailserver-with-mysql-clamav-domainkeys-dkim-spf-solr-imap-search/ class="reference external">one I wrote earlier this year</a> but is really applicable to any similar set-up, with some modifications. The only configuration similarity this requires is that mail for all users is stored on the filesystem in the same place, rather than to separate locations i.e. each user having ~/.Maildir.</p> <div class=section id=encfs> <h2><a class=toc-backref href=#id1>EncFS</a></h2> <div class=highlight><pre><span></span>sudo apt-get install encfs
</pre></div> <p>Once installed, you’ll need to make a directory for encrypted and decrypted mail to live.</p> <div class=highlight><pre><span></span>sudo mkdir /var/mail/encrypted /var/mail/decrypted
</pre></div> <p>You’ll need to set up permissions so your mail user can access the fuse device and the new directories.</p> <p>For me, this user and group are called <em>vmail</em> but yours may be different.</p> <div class=highlight><pre><span></span>sudo chgrp mail /var/mail/decrypted
sudo g+rw /var/mail/decrypted
sudo usermod -a -g fuse vmail
sudo chgrp fuse /dev/fuse
sudo chmod g+rw /dev/fuse
</pre></div> <p>Next …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=postfix,smtp> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-01-20T23:38:00+00:00 itemprop=datePublished> 20 Jan 2015 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/01/20/block-yourself-from-emailing-someone-using-postfix/ rel=bookmark title="Permalink to 'Block yourself from emailing someone using Postfix'" itemprop=url> Block yourself from emailing someone using&nbsp;Postfix </a> </h2> <section itemprop=articleBody class=summary-content> <p>I think most of us have been in a position where we really shouldn’t continue communicating with someone or contact that person when drunk… You know what I mean, ex relationships etc (it happens.)</p> <p>With Postfix you can block yourself from emailing that person again, which is quite useful.</p> <p>In <cite>/etc/postfix/main.cf</cite> add make the start of your <cite>smtpd_recipient_restrictions</cite> look like below.</p> <div class=highlight><pre><span></span>smtpd_recipient_restrictions =
    check_recipient_access hash:/etc/postfix/recipient_access,
</pre></div> <p>Create a new file <cite>/etc/postfix/recipient_access</cite> and add the email address you wish to block, the word <cite><span class=caps>REJECT</span></cite> in capitals and optionally; a reason. Example below.</p> <div class=highlight><pre><span></span>test@example.com REJECT Don't be silly... You're probably drunk.
</pre></div> <p>For every address you wish to block yourself from emailing, simply add them on a new line.</p> <p>You can see the email is blocked from being sent in <cite>/var/log/mail.log</cite>.</p> <div class=highlight><pre><span></span>NOQUEUE: reject …</pre></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=debian,wheezy,postfix,dovecot,clamav,domainkeys,dkim,spf,imap> <meta itemprop=keywords content=tutorials> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-01-03T19:48:00+00:00 itemprop=datePublished> 03 Jan 2015 </time>&nbsp;-- 9 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/01/03/debian-wheezy-tls-mailserver-with-mysql-clamav-domainkeys-dkim-spf-solr-imap-search/ rel=bookmark title="Permalink to 'Debian Wheezy TLS mailserver with MySQL, ClamAV, DomainKeys, DKIM, SPF and Solr-powered IMAP SEARCH'" itemprop=url> Debian Wheezy <span class=caps>TLS</span> mailserver with MySQL, ClamAV, DomainKeys, <span class=caps>DKIM</span>, <span class=caps>SPF</span> and Solr-powered <span class=caps>IMAP</span> <span class=caps>SEARCH</span> </a> </h2> <section itemprop=articleBody class=summary-content> <p>This mail platform does use a fair amount of memory, the memory usage is ClamAV and Solr, the latter being used for <span class=caps>IMAP</span> <span class=caps>SEARCH</span>. I personally use 2 <span class=caps>GB</span>.</p> <p>I’ll warn you all now, this is a long article.</p> <div class=section id=ssl> <h2><a class=toc-backref href=#id1><span class=caps>SSL</span></a></h2> <div class=highlight><pre><span></span>sudo openssl genrsa -out /etc/ssl/private/mail.key 4096
sudo openssl req -new -key /etc/ssl/private/mail.key -out /tmp/mail.csr
sudo openssl x509 -req -days 365 -in /tmp/mail.csr -signkey /etc/ssl/private/mail.key -out /etc/ssl/certs/mail.crt
</pre></div> </div> <div class=section id=mysql> <h2><a class=toc-backref href=#id2>MySQL</a></h2> <div class=highlight><pre><span></span>sudo apt-get install mysql-server
</pre></div> <p>You’ll be prompted several times for a password for MySQL during the installation, just come up with something nice and secure.</p> <p>The first thing to set-up will be the MySQL database and schema.</p> <div class=highlight><pre><span></span>mysql -u root -p
</pre></div> <p>Next up, create the database.</p> <div class=highlight><pre><span></span>CREATE DATABASE mailserver CHARACTER SET utf8 COLLATE utf8_general_ci;
</pre></div> <p>And grant some privileges, you …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=tor> <meta itemprop=keywords content=tor> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2015-01-02T04:48:00+00:00 itemprop=datePublished> 02 Jan 2015 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2015/01/02/torproject.org-mirror/ rel=bookmark title="Permalink to 'torproject.org mirror'" itemprop=url> torproject.org&nbsp;mirror </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=mirror> <h2><a class=toc-backref href=#id1>Mirror</a></h2> <p>With the DDoS attacks on the <a class="reference external" href=https://www.torproject.org>torproject.org</a> website over the mid to end of December, I decided it would be prudent to join the relatively small list of mirrors.</p> </div> <div class=section id=access> <h2><a class=toc-backref href=#id2>Access</a></h2> <p>+——- —-+—————————+ | Website | Dist / Downloads | +=========+==================+ | <span class=caps>HTTP</span> | <span class=caps>HTTP</span> <span class=caps>DIST</span> | +————-+—————————+ | <span class=caps>HTTPS</span> | <span class=caps>HTTPS</span> <span class=caps>DIST</span> | +————-+—————————+ | <span class=caps>FTP</span> | <span class=caps>FTP</span> <span class=caps>DIST</span> | +————-+—————————+ | <span class=caps>RSYNC</span> | <span class=caps>RSYNC</span> <span class=caps>DIST</span> | +————-+—————————+</p> <p>Note: This mirror is now dead and links have been removed.</p> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=tor> <meta itemprop=keywords content=tor> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-12-27T01:12:00+00:00 itemprop=datePublished> 27 Dec 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/12/27/santas-tor-relay-changes/ rel=bookmark title="Permalink to 'Santa’s tor relay changes'" itemprop=url> Santa&#8217;s tor relay&nbsp;changes </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=exiting-relays> <h2><a class=toc-backref href=#id1>Exiting relays</a></h2> <p>Both <a class="reference external" href=https://globe.torproject.org/#/relay/865A408E2B1EA3E18C9A12E80A8D458F9C985C16>SpunkWeasel (<span class=caps>865A408E2B1EA3E18C9A12E80A8D458F9C985C16</span>)</a> and <a class="reference external" href=https://globe.torproject.org/#/relay/B8E6FFEB6F91FA3D26BC572836FB0ABBD142DC87>AnorexicSquirrel (<span class=caps>B8E6FFEB6F91FA3D26BC572836FB0ABBD142DC87</span>)</a> have been given additional horsepower in terms of <span class=caps>CPU</span> and memory and both have been allowed to exit. Additionally, both are now capable of IPv6 connectivity as guards, relays and exits.</p> </div> <div class=section id=new-relays> <h2><a class=toc-backref href=#id2>New relays</a></h2> <p>A new exit relay has been put online called <a class="reference external" href=https://globe.torproject.org/#/relay/24B1783665A9B0A4BF640A1CD02F685C0CA098ED>VivaciousAlpaca (<span class=caps>24B1783665A9B0A4BF640A1CD02F685C0CA098ED</span>)</a>. It has the same <span class=caps>CPU</span> and memory as SpunkWeasel and AnorexicSquirrel and also has full IPv6 capabilities.</p> <p>A full list of my public Tor relays can be found on the <a href=/tor/ class="reference external">tor page</a>.</p> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=tor> <meta itemprop=keywords content=tor> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-10-02T03:45:00+01:00 itemprop=datePublished> 02 Oct 2014 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/10/02/tor-all-the-things/ rel=bookmark title="Permalink to 'Tor all the things!'" itemprop=url> Tor all the&nbsp;things! </a> </h2> <section itemprop=articleBody class=summary-content> <div class=section id=privacy-is-key> <h2><a class=toc-backref href=#id1>Privacy is key</a></h2> <p>I am a big fan of keeping my browsing habits and other personal information private. As such, I use a <span class=caps>VPN</span> service provided by <a class="reference external" href="https://proxy.sh/panel/aff.php?aff=079">proxy.sh (affiliate link)</a>, I also use their proxies, Tor and various other proxies, usually from online lists, should I feel the need.</p> </div> <div class=section id=anonymous-nodes> <h2><a class=toc-backref href=#id2>Anonymous nodes</a></h2> <p>I’ve run some Tor nodes for quite a while now, two Exits and five relays to be precise. They are all listed as being part of the same family and have never had any reference to me being their operator.</p> <p>Sadly, these seven nodes will always remain a secret due to the hassle that inherently comes with running Tor Exit nodes. These issues include some mean emails and <span class=caps>IP</span> addresses and <span class=caps>CIDR</span> blocks being blacklisted by services like Netflix.</p> </div> <div class=section id=new-nodes> <h2><a class=toc-backref href=#id3>New nodes!</a></h2> <p>The good news is, I have recently launched three more nodes! These nodes belong to a …</p></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="python,digital ocean"> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-09-15T22:20:00+01:00 itemprop=datePublished> 15 Sep 2014 </time>&nbsp;-- 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/09/15/batfish-writing-a-digital-ocean-v2-api-wrapper/ rel=bookmark title="Permalink to 'batfish(1) - writing a Digital Ocean V2 API wrapper'" itemprop=url> batfish(1) - writing a Digital Ocean V2 <span class=caps>API</span>&nbsp;wrapper </a> </h2> <section itemprop=articleBody class=summary-content> <p>Batfish is a Python client and <span class=caps>API</span> wrapper for the <a href=https://developers.digitalocean.com/ class="reference external">Digital Ocean V2 <span class=caps>API</span></a>. It can be used as a library module in your own Python code but also provides a <span class=caps>CLI</span> interface and a shell-like command interpreter.</p> <p>Batfish is still under development and is considered in the Alpha stage. It is not yet available via PyPI but can be tried out using the <a class="reference external" href=https://github.com/kura/batfish>code available on GitHub</a>.</p> <p>There is a small amount of <a class="reference external" href=https://batfish.readthedocs.org>documentation available on Read The Docs</a> and tests are still being written to get as much coverage as possible and eaked out all of the bugs. You can find the <a class="reference external" href=https://travis-ci.org/kura/batfish>latest test status on Travis <span class=caps>CI</span></a>.</p> <div class=section id=module-interface> <h2>Module interface</h2> <div class=highlight><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=kn>from</span> <span class=nn>batfish</span> <span class=kn>import</span> <span class=n>Client</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>client</span> <span class=o>=</span> <span class=n>Client</span><span class=p>()</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>client</span><span class=o>.</span><span class=n>authorize</span><span class=p>(</span><span class=s2>"abcde12345"</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>client</span><span class=o>.</span><span class=n>droplets</span>
<span class=p>[</span><span class=o>&lt;</span><span class=n>Droplet</span> <span class=n>ego</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Droplet</span> <span class=n>fax</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Droplet</span> <span class=n>jet</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Droplet</span> <span class=n>ski</span><span class=o>.</span><span class=n>kura</span><span class=o>.</span><span class=n>gg</span><span class=o>&gt;</span><span class=p>]</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>client</span><span class=o>.</span><span class=n>droplet_reboot</span><span class=p>(</span><span class=mi>1234</span><span class=p>)</span>
</pre></div> </div> <div class=section id=cli-interface> <h2><span class=caps>CLI</span> interface</h2> <div class=highlight><pre><span></span>$ batfish authorize
abcde12345
$ batfish droplets …</pre></div></div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,pypi> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-08-09T13:30:00+01:00 itemprop=datePublished> 09 Aug 2014 </time>&nbsp;-- < 1 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/08/09/yarg/ rel=bookmark title="Permalink to 'yarg(1) — A semi hard Cornish cheese, also queries PyPI'" itemprop=url> yarg(1) &#8212; A semi hard Cornish cheese, also queries&nbsp;PyPI </a> </h2> <section itemprop=articleBody class=summary-content> <p>Yarg is a PyPI client, it was written for <a class="reference external" href=https://pypip.in>pypip.in</a> and can search packages as well as read the <span class=caps>RSS</span> feeds from PyPI for new packages and new package version releases.</p> <div class=section id=search-interface> <h2>Search interface</h2> <div class=highlight><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>yarg</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>package</span> <span class=o>=</span> <span class=n>yarg</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>"yarg"</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>package</span><span class=o>.</span><span class=n>name</span>
<span class=sa>u</span><span class=s1>'yarg'</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>package</span><span class=o>.</span><span class=n>author</span>
<span class=n>Author</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=sa>u</span><span class=s1>'Kura'</span><span class=p>,</span> <span class=n>email</span><span class=o>=</span><span class=sa>u</span><span class=s1>'kura@kura.gg'</span><span class=p>)</span>
</pre></div> </div> <div class=section id=newest-packages-interface> <h2>Newest packages interface</h2> <div class=highlight><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>yarg</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span> <span class=o>=</span> <span class=n>yarg</span><span class=o>.</span><span class=n>newest_packages</span><span class=p>()</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span>
<span class=p>[</span><span class=o>&lt;</span><span class=n>Package</span> <span class=n>yarg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Package</span> <span class=n>gray</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Package</span> <span class=n>ragy</span><span class=o>&gt;</span><span class=p>]</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>name</span>
<span class=sa>u</span><span class=s1>'yarg'</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=o>.</span><span class=n>url</span>
<span class=sa>u</span><span class=s1>'https://pypi.python.org/pypi/yarg</span>
</pre></div> </div> <div class=section id=updated-packages-interface> <h2>Updated packages interface</h2> <div class=highlight><pre><span></span><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>yarg</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span> <span class=o>=</span> <span class=n>yarg</span><span class=o>.</span><span class=n>latest_updated_packages</span><span class=p>()</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span>
<span class=p>[</span><span class=o>&lt;</span><span class=n>Package</span> <span class=n>yarg</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Package</span> <span class=n>gray</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>Package</span> <span class=n>ragy</span><span class=o>&gt;</span><span class=p>]</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>name</span>
<span class=sa>u</span><span class=s1>'yarg'</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>version</span>
<span class=sa>u</span><span class=s1>'0.1.2'</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>packages</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>url</span>
<span class=sa>u</span><span class=s1>'https://pypi.python.org/pypi/yarg/0.1.2</span>
</pre></div> </div> <div class=section id=documentation> <h2>Documentation</h2> <p>Full documentation is at &lt;<a class="reference external" href=https://yarg.readthedocs.org>https://yarg.readthedocs.org</a>&gt;.</p> </div> </section> <div class="eevee-divider mdl-color--accent" role=presentation></div> <div class=eevee-divider-to-top> <a href=#top title="Back to the top of the page" itemprop=url> Back to the top of the page </a> </div> </article> <article class=eevee-padding itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,pypipins,pypip.in,shields> <meta itemprop=keywords content=coding> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2014-08-07T08:42:00+01:00 itemprop=datePublished> 07 Aug 2014 </time>&nbsp;-- 3 min read </div> <h2 itemprop=name class=article-title> <a href=https://kura.gg/2014/08/07/speeding-up-pypip.in-and-reducing-load-on-pypi/ rel=bookmark title="Permalink to 'Speeding up pypip.in and reducing load on PyPI'" itemprop=url> Speeding up pypip.in and reducing load on&nbsp;PyPI </a> </h2> <section itemprop=articleBody class=summary-content> <p>As you might expect, <a class="reference external" href=https://pypip.in>pypip.in</a> employes a fair amount of caching in the backend to control load on the imaging <span class=caps>API</span> and servers.</p> <p>For a long time, this cache was entirely managed by Varnish and was doing a fantastic job. Varnish has a hit:miss ratio of 10:1, for every 10 hits we get 1 miss. This is a fairly decent ratio when you consider where these images are displayed, how often they are viewed and that Varnish only caches the images for an hour.</p> <div class=section id=the-impact-on-pypi> <h2>The impact on PyPI</h2> <p>You will firstly need to understand how pypip.in used to work to understand the changes that were made and why they were made.</p> <p>Let’s set up the request first - a request for a shield is made and it is not present in the Varnish cache.</p> <pre class=literal-block>
Request received in API layer
              |
              v
    API layer queries PyPI
              |
              v
   PyPI …</pre></div> </section> </article> <div class=eevee-page-spacer role=presentation></div> </div> </div> </main> <div class="eevee-pagination__container eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"> <nav class="eevee-pagination mdl-cell mdl-cell--12-col" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label=Pagination> <div class=eevee-spacer></div> <a href=https://kura.gg/authors/kura/page/2/ class=eevee-nav__button itemprop=url rel=bookmark title=Older> Older <button class="mdl-button mdl-button--icon mdl-color--white mdl-color-text--grey-900" role=presentation> <i class=material-icons>&#xE5C8;</i> </button> </a> </nav> </div> </div> <footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement> <div class=mdl-mega-footer--top-section> <div class=mdl-mega-footer--drop-down-section> <ul class=mdl-mega-footer--link-list> <li> <a href=#top itemprop=url title="Back to the top of the page"> Back to the top of the page </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Footer navigation"> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Menu</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> </li> <li> <a href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> </li> <li> <a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> </li> <li> <a href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Social</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i class=fa aria-hidden=true>&#xF09B;</i> Github </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Links</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://kura.gg/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> </li> <li> <a href=https://kura.gg/yarg itemprop=url rel=bookmark title=Yarg> <i class=material-icons aria-hidden=true>&#xE86F;</i> Yarg </a> </li> <li> <a href=https://kura.gg/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=https://kura.gg/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> </li> <li> <a href=https://kura.gg/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--bottom-section> <div class=mdl-logo> <a href=https://kura.gg rel=bookmark itemprop=url title=kura.gg> kura.gg </a> </div> <ul class="eevee-footer mdl-mega-footer--link-list"> <li>Powered by love &amp; rainbow sparkles.</li> <li>Source code and content released under the <a href=/license/ title="MIT license">MIT license</a>.</li> </ul> </div> </footer> </div> <link rel=stylesheet href=https://kura.gg/theme/css/eevee.min.css?e96887dc> <script async src=https://kura.gg/theme/js/eevee.min.js?1841d254></script> </body> </html>