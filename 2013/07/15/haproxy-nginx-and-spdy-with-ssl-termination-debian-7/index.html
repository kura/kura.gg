<!DOCTYPE html><!--

                                      |
                                     /|
                                   ,' |
                                  .   |
                                    | |
                                 ' '| |
                                / / | |
       _,.-\"\"--._              / /  | |
     ,'          `.           j '   ' '
   ,'              `.         ||   / ,                         ___..--,
  /                  \\        ' `.'`.-.,-\".  .       _..---\"\"'' __, ,'
 /                    \\        \\` .\"`      `\"'\\   ,'\"_..--''\"\"\"'.'.'
.                      .      .'-'             \\,' ,'         ,','
|                      |      ,`               ' .`         .' /
|                      |     /          ,\"`.  ' `-. _____.-' .'
'                      |..---.|,\".      | | .  .-'\"\"   __.,-'
 .                   ,'       ||,|      |.' |    |\"\"`'\"
  `-._   `._.._____  |        || |      `._,'    |
      `.   .       `\".     ,'\"| \"  `'           ,+.
        \\  '         |    '   |   .....        .'  `.
         .'          '     7  \".              ,'     \\
                   ,'      |    `..        _,'      F
                  .        |,      `'----''         |
                  |      ,\"j  /                   | '
                  `     |  | .                 | `,'
                   .    |  `.|                 |/
                    `-..'   ,'                .'
                            | \\             ,''
                            |  `,'.      _,' /
                            |    | ^.  .'   /
                             `-'.' j` V    /
                                   |      /
                                   |     /
                                   |   ,'
                                    `\"\"

//--><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=1.0"><link rel=alternate href=https://kura.gg hreflang=en><link rel=dns-prefetch href=https://kura.gg><link rel=dns-prefetch href=//disqus.com><link rel=dns-prefetch href=//a.disquscdn.com><link rel=dns-prefetch href=//syslogtv.disqus.com><link rel=dns-prefetch href=//glitter-services.disqus.com><link href=https://kura.gg/feeds/rss.xml type=application/rss+xml rel=alternate title=kura.gg><link href=https://kura.gg/feeds/atom.xml type=application/atom+xml rel=alternate title=kura.gg><meta property=og:site_name content=kura.gg><meta property=og:type content=article><meta property=og:title content="haproxy, nginx and SPDY with SSL termination (Debian 7)"><meta content=https://kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/ property=og:url><meta property=og:description content="I wrote an article last week explaining that I had changed my blog and built my own nginx packages with SPDY built in. I decided I would take things a little further and poke around with haproxy some more. The initial plan was to compile the latest dev source of haproxy with SSL termination enabled. In doing so I realised I would lose SPDY support, which upset me a little. After some digging I found that the 1.5-dev branch of haproxy supports npn and thus can handle SPDY. I tweaked my builds a little more and managed to get haproxy running as an SSL terminating load balancer, with SPDY connections being sent off to my nginx servers with SPDY enabled and all other non-SPDY connections were passed on to an nginx virtual host with SPDY disabled. Requirements I have released my haproxy build as a debian file below …"><meta property=og:image content=https://kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/index.png><meta property=og:image:width content=1920><meta property=og:image:height content=1080><meta property=twitter:site content=@kuramanga><meta property=twitter:title content="haproxy, nginx and SPDY with SSL termination (Debian 7)"><meta content=https://kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/ property=twitter:url><meta property=twitter:description content="I wrote an article last week explaining that I had changed my blog and built my own nginx packages with SPDY built in. I decided I would take things a little further and poke around with haproxy some more. The initial plan was to compile the latest dev source of haproxy with SSL termination enabled. In doing so I realised I would lose SPDY support, which upset me a little. After some digging I found that the 1.5-dev branch of haproxy supports npn and thus can handle SPDY. I tweaked my builds a little more and managed to get haproxy running as an SSL terminating load balancer, with SPDY connections being sent off to my nginx servers with SPDY enabled and all other non-SPDY connections were passed on to an nginx virtual host with SPDY disabled. Requirements I have released my haproxy build as a debian file below …"><meta property=twitter:image content=https://kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/index.png><meta property=twitter:card content=summary_large_image><meta property=twitter:image:width content=1920><meta property=twitter:image:height content=1080><link rel=icon href=/favicon.png type=image/png sizes="16x16 32x32 48x48 64x64 128x128 256x256"><link rel=icon href=/favicon.ico type=image/vnd.microsoft.icon sizes="16x16 32x32 48x48 64x64 128x128 256x256"><title>haproxy, nginx and SPDY with SSL termination (Debian 7)</title></head> <body> <div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"> <header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader> <div class=mdl-layout__header-row> <div aria-expanded=false role=button tabindex=0 class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only"> <i class=material-icons>&#xE5D2;</i> </div> <span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top> <a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a> </h2> </span> <div class=mdl-layout-spacer role=presentation></div> <nav class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </header> <div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true> <span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent"> kura.gg </h2> </span> <div class="mdl-navigation mdl-color--white"> <nav class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i class=material-icons aria-hidden=true> &#xE88A; </i> Home </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </div> <div class="eevee-ribbon mdl-color--primary-dark" role=presentation> </div> <main class="eevee-main mdl-layout__content"> <div class="eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col" aria-label="Main content"> <article itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content="debian,ubuntu,haproxy,nginx,spdy,ssl,ssl termination"> <meta itemprop=keywords content=tutorials> <div class=eevee-share> <ul class="social-share mdl-navigation"> <li class="social-share__link social-share__link--twitter"> <a href="https://twitter.com/intent/tweet?text=haproxy%2C%20nginx%20and%20SPDY%20with%20SSL%20termination%20%28Debian%207%29&url=https%3A//kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/&related=kuramanga" title="Share 'haproxy, nginx and SPDY with SSL termination (Debian 7)' on Twitter" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235'); return false;"> <i class=fa aria-hidden=true>&#xF099;</i> </a> </li> <li class="social-share__link social-share__link--facebook"> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/" title="Share 'haproxy, nginx and SPDY with SSL termination (Debian 7)' on Facebook" onclick="window.open(this.href, 'facebook-share', 'width=580,height=296'); return false;"> <i class=fa aria-hidden=true>&#xF09A;</i> </a> </li> <li class="social-share__link social-share__link--email"> <a href="mailto:?subject=haproxy%2C%20nginx%20and%20SPDY%20with%20SSL%20termination%20%28Debian%207%29&body=I%20thought%20you%20might%20like%20'haproxy%2C%20nginx%20and%20SPDY%20with%20SSL%20termination%20%28Debian%207%29'%20--%20https%3A//kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/" title="Share 'haproxy, nginx and SPDY with SSL termination (Debian 7)' via email"> <i class=material-icons aria-hidden=true> &#xE0E1; </i> </a> </li> <li class="social-share__link social-share__link--comment"> <a href=#article-comments title="Discuss 'haproxy, nginx and SPDY with SSL termination (Debian 7)'"> <i class=material-icons aria-hidden=true> &#xE0B9; </i> </a> </li> </ul> </div> <div class=eevee-article> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-07-15T22:30:00+01:00 itemprop=datePublished> 15 Jul 2013 </time>&nbsp;-- 5 min read </div> <h1 itemprop=name> <a href=https://kura.gg/2013/07/15/haproxy-nginx-and-spdy-with-ssl-termination-debian-7/ rel=bookmark title="Permalink to 'haproxy, nginx and SPDY with SSL termination (Debian 7)'" itemprop=url> haproxy, nginx and <span class=caps>SPDY</span> with <span class=caps>SSL</span> termination (Debian&nbsp;7) </a> </h1> <section class=eevee-toc> <h2 id=toc> Contents </h2> <nav class=eevee-toc-ribbon> <div class=toc id> <p class=topic-title>Contents</p> <ul class=simple> <li><a class="reference internal" href=#requirements id=id1>Requirements</a></li> <li><a class="reference internal" href=#installing-haproxy id=id2>Installing haproxy</a></li> <li><a class="reference internal" href=#configuring-haproxy id=id3>Configuring haproxy</a><ul> <li><a class="reference internal" href=#frontend-http id=id4>frontend http</a></li> <li><a class="reference internal" href=#frontend-kura-gg id=id5>frontend kura-gg</a></li> <li><a class="reference internal" href=#backend-kura-app-spdy id=id6>backend kura-app-spdy</a></li> <li><a class="reference internal" href=#backend-kura-app-http id=id7>backend kura-app-http</a></li> </ul> </li> <li><a class="reference internal" href=#nginx id=id8>nginx</a></li> <li><a class="reference internal" href=#configuring-nginx id=id9>Configuring nginx</a></li> </ul> </div> </nav> </section> <section itemprop=articleBody class=article-content> <p><a href=/2013/07/10/nginx-spdy-and-ngx-pagespeed/ class="reference external">I wrote an article last week</a> explaining that I had changed my blog and built my own nginx packages with <a class="reference external" href=https://www.chromium.org/spdy><span class=caps>SPDY</span></a> built in.</p> <p>I decided I would take things a little further and poke around with haproxy some more. The initial plan was to compile the latest dev source of haproxy with <span class=caps>SSL</span> termination enabled.</p> <p>In doing so I realised I would lose <span class=caps>SPDY</span> support, which upset me a little. After some digging I found that the 1.5-dev branch of haproxy supports npn and thus can handle <span class=caps>SPDY</span>.</p> <p>I tweaked my builds a little more and managed to get haproxy running as an <span class=caps>SSL</span> terminating load balancer, with <span class=caps>SPDY</span> connections being sent off to my nginx servers with <span class=caps>SPDY</span> enabled and all other non-<span class=caps>SPDY</span> connections were passed on to an nginx virtual host with <span class=caps>SPDY</span> disabled.</p> <div class=section id=requirements> <h2>Requirements</h2> <p>I have released my haproxy build as a debian file below, it is built off of haproxy_1.5~dev19 and is compiled for amd64. It should work on any installation of Debian 7 and requires openssl-1.0.1d or higher.</p> <p>On a standard Debian 7 install you should have openssl-1.0.1e-2, you can find which version you have by running</p> <div class=highlight><pre><span></span>dpkg -l openssl
</pre></div> <p>This should return something similar to</p> <pre class=literal-block>
ii  openssl        1.0.1e-2        amd64        Secure Socket Layer (SSL) binary and related cryptographic tools
</pre> </div> <div class=section id=installing-haproxy> <h2>Installing haproxy</h2> <p>Download the deb file below, use either the <span class=caps>GPG</span> key or <span class=caps>MD5</span>/<span class=caps>SHA1</span> sums to verify it.</p> <table class=docutils> <thead> <tr><th class=head><span class=caps>FILE</span></th> <th class=head><span class=caps>GPG</span></th> <th class=head><span class=caps>MD5</span></th> <th class=head><span class=caps>SHA1</span></th> </tr> </thead> <tbody> <tr><td><a class="reference external" href=/files/haproxy_1.5~dev19_amd64.deb>haproxy_1.5~dev19_amd64.deb</a></td> <td><a class="reference external" href=/files/haproxy_1.5~dev19_amd64.deb.asc>owGMeXVU1G…</a></td> <td><a class="reference external" href=/files/haproxy_1.5~dev19_amd64.deb.md5>715317e082…</a></td> <td><a class="reference external" href=/files/haproxy_1.5~dev19_amd64.deb.sha1>e116e1c597…</a></td> </tr> </tbody> </table> <p>If you already have haproxy installed, make sure to remove it first.</p> <p>You can install them by simply running:</p> <div class=highlight><pre><span></span>sudo dpkg -i haproxy_1.5~dev19_amd64.deb
</pre></div> <p>You may receive an error due to missing dependencies, to fix this run:</p> <div class=highlight><pre><span></span>sudo apt-get install -f
</pre></div> </div> <div class=section id=configuring-haproxy> <h2>Configuring haproxy</h2> <p>First we need to enabled haproxy by running the following command</p> <div class=highlight><pre><span></span>sudo sed -i <span class=s1>'s/ENABLED=0/ENABLED=1/'</span> /etc/default/haproxy
</pre></div> <p>We then need to empty the contents of the haproxy configuration and replace it with a nice blank file. The following command will copy the original file to a new location and create a blank file</p> <div class=highlight><pre><span></span>sudo mv /etc/haproxy/haproxy.cfg<span class=o>{</span>,.orig<span class=o>}</span> <span class=o>&amp;&amp;</span> sudo &gt;/etc/haproxy/haproxy.cfg
</pre></div> <p><span class=caps>SPDY</span> only works over <span class=caps>HTTPS</span>, so bare that in mind. All you need to do is enable <span class=caps>SPDY</span> in your server configuration as below.</p> <pre class=literal-block>
global
    maxconn 4096
    user haproxy
    group haproxy

defaults
    option dontlognull
    retries 3
    option redispatch
    maxconn 2000
    contimeout 5000
    clitimeout 50000
    srvtimeout 50000

frontend http
    mode http
    bind 0.0.0.0:80
    redirect sheme https if !{ ssl_fc }

frontend kura-gg
    mode tcp
    bind 0.0.0.0:443 ssl crt /etc/ssl/certs/kura.gg.pem npn spdy/2 # pem is certificate, intermediate and finally private key
    use_backend kura-app-spdy if { ssl_fc_npn -i spdy/2 }
    default_backend kura-app-http

backend kura-app-spdy
    mode tcp
    server kura-gg-app1 127.0.0.1:80 check

backend kura-app-http
    mode http
    server kura-gg-app1 127.0.0.1:81 check
</pre> <p>You don’t need to worry about the <em>global</em> and <em>defaults</em> sections, I will now explain what the final four sections do.</p> <div class=section id=frontend-http> <h3>frontend http</h3> <pre class=literal-block>
frontend http
    mode http
    bind 0.0.0.0:80
    redirect sheme https if !{ ssl_fc }
</pre> <p>This tells haproxy to listen on port 80 and redirect all traffic to the <span class=caps>HTTPS</span> version of the site.</p> </div> <div class=section id=frontend-kura-gg> <h3>frontend kura-gg</h3> <pre class=literal-block>
frontend kura-gg
    mode tcp
    bind 0.0.0.0:443 ssl crt /etc/ssl/certs/kura.gg.pem npn spdy/2 # pem is certificate, intermediate and finally private key
    use_backend kura-app-spdy if { ssl_fc_npn -i spdy/2 }
    default_backend kura-app-http
</pre> <p>This section sets the proxy mode to tcp, which sends tcp data over to the backend servers rather than http requests.</p> <p>We then bind to all interfaces on port 443, enabling <span class=caps>SSL</span> and passing in a <span class=caps>PEM</span> version of the certificate in the following format</p> <pre class=literal-block>
-----BEGIN CERTIFICATE-----
MAIN CERTIFICATE FOR KURA.IO
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
INTERMEDIATE CERTIFICATE
-----END CERTIFICATE-----
-----BEGIN RSA PRIVATE KEY-----
PRIVATE KEY
-----END RSA PRIVATE KEY-----
</pre> <p>Finally we do some magic. We tell haproxy to use the <span class=caps>SPDY</span> backend if a <span class=caps>SPDY</span> header is present:</p> <pre class=literal-block>
use_backend kura-app-spdy if { ssl_fc_npn -i spdy/2 }
</pre> <p>If not then we fall back to the default <span class=caps>HTTP</span> backend:</p> <pre class=literal-block>
default_backend kura-app-http
</pre> </div> <div class=section id=backend-kura-app-spdy> <h3>backend kura-app-spdy</h3> <pre class=literal-block>
backend kura-app-spdy
    mode tcp
    server kura-gg-app1 127.0.0.1:80 check
</pre> <p>This section simply defines the server we should talk to if the client is using an <span class=caps>SPDY</span> enabled connection.</p> <p>Simply define multiple servers for additional servers.</p> <p>You can see I am point it at 127.0.0.1 on port 80.</p> </div> <div class=section id=backend-kura-app-http> <h3>backend kura-app-http</h3> <pre class=literal-block>
backend kura-app-http
    mode http
    server kura-gg-app1 127.0.0.1:81 check
</pre> <p>And finally, here I am defining the http backends to fall back on for non-<span class=caps>SPDY</span> connections.</p> <p>You can see this is almost identical to the <span class=caps>SPDY</span> backend except it is running in <span class=caps>HTTP</span> mode.</p> <p>As with the <span class=caps>SPDY</span> backends, simply define multiple servers as required. Here I am using 127.0.0.1 and port 81.</p> </div> </div> <div class=section id=nginx> <h2>nginx</h2> <p>To make this all tie together we simply need to install an <span class=caps>SPDY</span>-enabled nginx.</p> <p>You can <a href=/2013/07/10/nginx-spdy-and-ngx-pagespeed/ class="reference external">follow my guide on how to install my packaged version of nginx with <span class=caps>SPDY</span> enabled</a>.</p> <p>Follow this guide up until the configuration of nginx.</p> </div> <div class=section id=configuring-nginx> <h2>Configuring nginx</h2> <p>Within nginx we need to enable two virtual hosts</p> <div class=highlight><pre><span></span><span class=k>server</span> <span class=p>{</span>
    <span class=kn>listen</span> <span class=mi>80</span> <span class=s>spdy</span><span class=p>;</span>
    <span class=kn>server_name</span> <span class=s>kura.gg</span><span class=p>;</span>

    <span class=c1># make nginx 301 redirects work</span>
    <span class=kn>port_in_redirect</span> <span class=no>off</span><span class=p>;</span>
    <span class=kn>server_name_in_redirect</span> <span class=no>off</span><span class=p>;</span>

    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
            <span class=kn>root</span>   <span class=s>/var/www/kura.gg/</span><span class=p>;</span>
            <span class=kn>index</span>  <span class=s>index.html</span> <span class=s>index.htm</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=k>server</span> <span class=p>{</span>
    <span class=kn>listen</span> <span class=mi>81</span><span class=p>;</span>
    <span class=kn>server_name</span> <span class=s>kura.gg</span><span class=p>;</span>

    <span class=c1># make nginx 301 redirects work</span>
    <span class=kn>port_in_redirect</span> <span class=no>off</span><span class=p>;</span>
    <span class=kn>server_name_in_redirect</span> <span class=no>off</span><span class=p>;</span>

    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
            <span class=kn>root</span>   <span class=s>/var/www/kura.gg/</span><span class=p>;</span>
            <span class=kn>index</span>  <span class=s>index.html</span> <span class=s>index.htm</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>The first virtual host is our <span class=caps>SPDY</span> enabled host which is configured to run on port 80.</p> <p>The second is our standard <span class=caps>HTTP</span> host which is running on port 81.</p> <p>We have two lines <em>port_in_redirect</em> and <em>server_name_in_redirect</em> set to <em>off</em> because otherwise nginx would try to redirect to <a href=https://kura.gg:81/ class="reference external">https://kura.gg:81/</a> and cause issues with haproxy.</p> <p>It’s a simple as that, you can test this using the <a href=https://addons.mozilla.org/en-us/firefox/addon/spdy-indicator/ class="reference external">Firefox</a> and <a class="reference external" href=https://chrome.google.com/webstore/detail/spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin>Chrome</a> extensions that show you websites with <span class=caps>SPDY</span> enabled.</p> </div> </section> </div> <div class=eevee-related> <section> <h2>Related articles</h2> <ul> <li> <a href=https://kura.gg/2014/03/06/haproxy1.5-dev22kura1/ rel=bookmark title="Permalink to 'haproxy1.5-dev22kura1'" itemprop=url> haproxy1.5-dev22kura1 </a> </li> <li> <a href=https://kura.gg/2014/02/22/haproxy1.5-dev22/ rel=bookmark title="Permalink to 'haproxy1.5-dev22'" itemprop=url> haproxy1.5-dev22 </a> </li> <li> <a href=https://kura.gg/2014/02/02/nginx-1.5.9-and-ngx_pagespeed-1.7.30.3-beta/ rel=bookmark title="Permalink to 'nginx 1.5.9 and ngx_pagespeed 1.7.30.3-beta'" itemprop=url> nginx 1.5.9 and ngx_pagespeed&nbsp;1.7.30.3-beta </a> </li> <li> <a href=https://kura.gg/2014/01/08/haproxy1.5-dev21-nginx-1.5.8-spdy-pagespeed-1.7.30.2/ rel=bookmark title="Permalink to 'haproxy1.5-dev21, nginx 1.5.8, SPDY & pagespeed 1.7.30.2'" itemprop=url> haproxy1.5-dev21, nginx 1.5.8, <span class=caps>SPDY</span> <span class=amp>&amp;</span> pagespeed&nbsp;1.7.30.2 </a> </li> <li> <a href=https://kura.gg/2014/02/06/nnginx-1.5.10-with-spdy3.1/ rel=bookmark title="Permalink to 'nginx 1.5.10 with SPDY 3.1'" itemprop=url> nginx 1.5.10 with <span class=caps>SPDY</span>&nbsp;3.1 </a> </li> </ul> </section> </div> <div class=eevee-ac> <header class=eevee-ac__header> <div class=eevee-ac-author__text> <h2>Kura</h2> <p>Anarchist. Pessimist. Bipolar. Hacker. Hyperpolyglot. Musician. Ex-(semi-)pro gamer. They/Them.</p> <p> <a href=https://kura.gg/authors/kura/ itemprop=url title="Read more articles by Kura"> Read more articles by Kura </a> </p> <nav> <ul class=eevee-ac-author__social> <li class=eevee-ac-author-social__link> <a class="mdl-color-text--accent mdl-navigation__link" href=https://github.com/kura itemprop=url rel=bookmark title="kura on GitHub"> <i class=fa aria-hidden=true>&#xF09B;</i> </a> </li> </ul> </nav> </div> <img src=/images/avatar.png class=eevee-ac-author__avatar alt=Kura> </header> </div> <div class=eevee-comment id=article-comments> <section itemscope itemtype=http://schema.org/UserComments> <h2>Join the discussion</h2> <div id=disqus_thread></div> <noscript> Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a> </noscript> </section> </div> </article> <a href=https://github.com/kura/kura.gg/blob/main/content/haproxy-nginx-and-spdy-with-ssl-termination-debian-7.rst id=view-source title="View 'haproxy, nginx and SPDY with SSL termination (Debian 7)' on GitHub" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-color--accent mdl-color-text--white"> <i class=material-icons>&#xE86F;</i> View Source </a> </div> </div> </main> <div class="eevee-pagination__container eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"> <nav class="eevee-pagination mdl-cell mdl-cell--12-col" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label=Pagination> <a href=https://kura.gg/2013/07/17/djugl-june-2013-talk-on-blackhole-and-blackhole-io/ class=eevee-nav__button itemprop=url rel=bookmark title=Newer> <button class="mdl-button mdl-button--icon mdl-color--white mdl-color-text--grey-900" role=presentation> <i class=material-icons>&#xE5C4;</i> </button> Newer </a> <div class=eevee-spacer></div> <a href=https://kura.gg/2013/07/10/nginx-spdy-and-ngx-pagespeed/ class=eevee-nav__button itemprop=url rel=bookmark title=Older> Older <button class="mdl-button mdl-button--icon mdl-color--white mdl-color-text--grey-900" role=presentation> <i class=material-icons>&#xE5C8;</i> </button> </a> </nav> </div> </div> <footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement> <div class=mdl-mega-footer--top-section> <div class=mdl-mega-footer--drop-down-section> <ul class=mdl-mega-footer--link-list> <li> <a href=#top itemprop=url title="Back to the top of the page"> Back to the top of the page </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Footer navigation"> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Menu</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> </li> <li> <a href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> </li> <li> <a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> </li> <li> <a href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Social</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i class=fa aria-hidden=true>&#xF09B;</i> Github </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Links</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://kura.gg/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> </li> <li> <a href=https://kura.gg/yarg itemprop=url rel=bookmark title=Yarg> <i class=material-icons aria-hidden=true>&#xE86F;</i> Yarg </a> </li> <li> <a href=https://kura.gg/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=https://kura.gg/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> </li> <li> <a href=https://kura.gg/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--bottom-section> <div class=mdl-logo> <a href=https://kura.gg rel=bookmark itemprop=url title=kura.gg> kura.gg </a> </div> <ul class="eevee-footer mdl-mega-footer--link-list"> <li>Powered by love &amp; rainbow sparkles.</li> <li>Source code and content released under the <a href=/license/ title="MIT license">MIT license</a>.</li> </ul> </div> </footer> </div> <link rel=stylesheet href=https://kura.gg/theme/css/eevee.min.css?6271b9c9> <script async src=https://kura.gg/theme/js/eevee.min.js?9eda6833></script> </body> </html>