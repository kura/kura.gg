<!DOCTYPE html><!--

                                      |
                                     /|
                                   ,' |
                                  .   |
                                    | |
                                 ' '| |
                                / / | |
       _,.-\"\"--._              / /  | |
     ,'          `.           j '   ' '
   ,'              `.         ||   / ,                         ___..--,
  /                  \\        ' `.'`.-.,-\".  .       _..---\"\"'' __, ,'
 /                    \\        \\` .\"`      `\"'\\   ,'\"_..--''\"\"\"'.'.'
.                      .      .'-'             \\,' ,'         ,','
|                      |      ,`               ' .`         .' /
|                      |     /          ,\"`.  ' `-. _____.-' .'
'                      |..---.|,\".      | | .  .-'\"\"   __.,-'
 .                   ,'       ||,|      |.' |    |\"\"`'\"
  `-._   `._.._____  |        || |      `._,'    |
      `.   .       `\".     ,'\"| \"  `'           ,+.
        \\  '         |    '   |   .....        .'  `.
         .'          '     7  \".              ,'     \\
                   ,'      |    `..        _,'      F
                  .        |,      `'----''         |
                  |      ,\"j  /                   | '
                  `     |  | .                 | `,'
                   .    |  `.|                 |/
                    `-..'   ,'                .'
                            | \\             ,''
                            |  `,'.      _,' /
                            |    | ^.  .'   /
                             `-'.' j` V    /
                                   |      /
                                   |     /
                                   |   ,'
                                    `\"\"

//--><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, minimum-scale=1.0"><link rel=alternate href=https://kura.gg hreflang=en><link rel=dns-prefetch href=https://kura.gg><link rel=dns-prefetch href=//disqus.com><link rel=dns-prefetch href=//a.disquscdn.com><link rel=dns-prefetch href=//syslogtv.disqus.com><link rel=dns-prefetch href=//glitter-services.disqus.com><link href=https://kura.gg/feeds/rss.xml type=application/rss+xml rel=alternate title=kura.gg><link href=https://kura.gg/feeds/atom.xml type=application/atom+xml rel=alternate title=kura.gg><meta property=og:site_name content=kura.gg><meta property=og:type content=article><meta property=og:title content="Wrapping a Tornado IOStream with SSL"><meta content=https://kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/ property=og:url><meta property=og:description content='As part of my effort to make Blackhole as useful and usable as possible, I needed to be able to support SSL/TLS enabled connections. Tornado itself has two built-in IOStreams that help us do the job; the first is the standard IOStream and the second is the SSLIOStream. With this in mind we simply need to spawn two sockets, by default these listen on port 25 for standard SMTP and port 465 for SSL/TLS encrypted SMTP. With these two sockets bound we’re then very simply able to listen for incoming connections on either socket and use socket.socket.getsockname() to figure out if the connection is to the encrypted or unencrypted socket. Code def connection_stream(connection): """ Detect which socket the connection is being made on, create and iostream for the connection, wrapping it in SSL if connected over the SSL socket. The parameter &#39;connection&#39; is an …'><meta property=og:image content=https://kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/index.png><meta property=og:image:width content=1920><meta property=og:image:height content=1080><meta property=twitter:site content=@kuramanga><meta property=twitter:title content="Wrapping a Tornado IOStream with SSL"><meta content=https://kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/ property=twitter:url><meta property=twitter:description content='As part of my effort to make Blackhole as useful and usable as possible, I needed to be able to support SSL/TLS enabled connections. Tornado itself has two built-in IOStreams that help us do the job; the first is the standard IOStream and the second is the SSLIOStream. With this in mind we simply need to spawn two sockets, by default these listen on port 25 for standard SMTP and port 465 for SSL/TLS encrypted SMTP. With these two sockets bound we’re then very simply able to listen for incoming connections on either socket and use socket.socket.getsockname() to figure out if the connection is to the encrypted or unencrypted socket. Code def connection_stream(connection): """ Detect which socket the connection is being made on, create and iostream for the connection, wrapping it in SSL if connected over the SSL socket. The parameter &#39;connection&#39; is an …'><meta property=twitter:image content=https://kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/index.png><meta property=twitter:card content=summary_large_image><meta property=twitter:image:width content=1920><meta property=twitter:image:height content=1080><link rel=icon href=/favicon.png type=image/png sizes="16x16 32x32 48x48 64x64 128x128 256x256"><link rel=icon href=/favicon.ico type=image/vnd.microsoft.icon sizes="16x16 32x32 48x48 64x64 128x128 256x256"><title>Wrapping a Tornado IOStream with SSL</title></head> <body> <div class="eevee-layout mdl-layout mdl-js-layout mdl-color--grey-50"> <header class="eevee-header mdl-color--grey-50 mdl-color-text--grey-800" itemscope itemtype=http://schema.org/WPHeader> <div class=mdl-layout__header-row> <div aria-expanded=false role=button tabindex=0 class="mdl-layout__drawer-button mdl-color-text--accent eevee-mobile-button mdl-layout--small-screen-only"> <i class=material-icons>&#xE5D2;</i> </div> <span class="eevee-logo mdl-color-text--accent mdl-layout-title"> <h2 id=top> <a href=https://kura.gg rel=bookmark title=kura.gg> kura.gg </a> </h2> </span> <div class=mdl-layout-spacer role=presentation></div> <nav class="eevee-nav mdl-navigation mdl-layout--large-screen-only" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </header> <div class="eevee-mobile-header mdl-layout__drawer mdl-color--white" aria-hidden=true> <span class=mdl-layout-title> <h2 class="eevee-mobile-logo mdl-color-text--accent"> kura.gg </h2> </span> <div class="mdl-navigation mdl-color--white"> <nav class="eevee-nav mdl-navigation" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Header navigation"> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg itemprop=url rel=bookmark> <i class=material-icons aria-hidden=true> &#xE88A; </i> Home </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> <a class="mdl-color-text--accent mdl-navigation__link" href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> <a class="mdl-color-text--accent mdl-navigation__link" href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </nav> </div> </div> <div class="eevee-ribbon mdl-color--primary-dark" role=presentation> </div> <main class="eevee-main mdl-layout__content"> <div class="eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="eevee-content mdl-color--white mdl-shadow--2dp mdl-color-text--grey-800 mdl-cell mdl-cell--8-col" aria-label="Main content"> <article itemscope itemtype=http://schema.org/BlogPosting> <meta itemprop=accessibilityControl content=fullKeyboardControl> <meta itemprop=accessibilityControl content=fullMouseControl> <meta itemprop=accessibilityControl content=bookmarks> <meta itemprop=accessibilityControl content=captions> <meta itemprop=accessibilityControl content=alternativeText> <meta itemprop=accessibilityControl content=index> <meta itemprop=accessibilityControl content=readingOrder> <meta itemprop=accessibilityControl content=structuralNavigation> <meta itemprop=accessibilityControl content=tableOfContents> <meta itemprop=accessibilityHazard content=noFlashingHazard> <meta itemprop=accessibilityHazard content=noMotionSimulationHazard> <meta itemprop=accessibilityHazard content=noSoundHazard> <meta itemprop=accessibilityAPI content=ARIA> <div itemprop=author itemscope itemtype=https://schema.org/Person role=presentation /> <a href=https://kura.gg/authors/kura/ class=hidden itemprop=url role=presentation> <span class=hidden itemprop=name role=presentation> kura </span> </a> </div> <meta itemprop=keywords content=python,tornado,iostream,ssl,blackhole> <meta itemprop=keywords content=coding> <div class=eevee-share> <ul class="social-share mdl-navigation"> <li class="social-share__link social-share__link--twitter"> <a href="https://twitter.com/intent/tweet?text=Wrapping%20a%20Tornado%20IOStream%20with%20SSL&url=https%3A//kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/&related=kuramanga" title="Share 'Wrapping a Tornado IOStream with SSL' on Twitter" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235'); return false;"> <i class=fa aria-hidden=true>&#xF099;</i> </a> </li> <li class="social-share__link social-share__link--facebook"> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/" title="Share 'Wrapping a Tornado IOStream with SSL' on Facebook" onclick="window.open(this.href, 'facebook-share', 'width=580,height=296'); return false;"> <i class=fa aria-hidden=true>&#xF09A;</i> </a> </li> <li class="social-share__link social-share__link--email"> <a href="mailto:?subject=Wrapping%20a%20Tornado%20IOStream%20with%20SSL&body=I%20thought%20you%20might%20like%20'Wrapping%20a%20Tornado%20IOStream%20with%20SSL'%20--%20https%3A//kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/" title="Share 'Wrapping a Tornado IOStream with SSL' via email"> <i class=material-icons aria-hidden=true> &#xE0E1; </i> </a> </li> <li class="social-share__link social-share__link--comment"> <a href=#article-comments title="Discuss 'Wrapping a Tornado IOStream with SSL'"> <i class=material-icons aria-hidden=true> &#xE0B9; </i> </a> </li> </ul> </div> <div class=eevee-article> <div class="eevee-meta mdl-color-text--grey-500"> <time datetime=2013-07-29T20:00:00+01:00 itemprop=datePublished> 29 Jul 2013 </time>&nbsp;-- 2 min read </div> <h1 itemprop=name> <a href=https://kura.gg/2013/07/29/wrapping-a-tornado-iostream-with-ssl/ rel=bookmark title="Permalink to 'Wrapping a Tornado IOStream with SSL'" itemprop=url> Wrapping a Tornado IOStream with <span class=caps>SSL</span> </a> </h1> <section class=eevee-toc> <h2 id=toc> Contents </h2> <nav class=eevee-toc-ribbon> <div class=toc id> <p class=topic-title>Contents</p> <ul class=simple> <li><a class="reference internal" href=#code id=id1>Code</a></li> <li><a class="reference internal" href=#if-connection-getsockname id=id2>if connection.getsockname…</a></li> <li><a class="reference internal" href=#st-try-except id=id3>1st try… except…</a></li> <li><a class="reference internal" href=#nd-try-except id=id4>2nd try… except…</a></li> <li><a class="reference internal" href=#else id=id5>else</a></li> </ul> </div> </nav> </section> <section itemprop=articleBody class=article-content> <p>As part of my effort to make <a href=http://blackhole.io/ class="reference external">Blackhole</a> as useful and usable as possible, I needed to be able to support <span class=caps>SSL</span>/<span class=caps>TLS</span> enabled connections.</p> <p>Tornado itself has two built-in IOStreams that help us do the job; the first is the standard <a class="reference external" href=http://www.tornadoweb.org/en/stable/iostream.html#tornado.iostream.IOStream>IOStream</a> and the second is the <a class="reference external" href=http://www.tornadoweb.org/en/stable/iostream.html#tornado.iostream.SSLIOStream>SSLIOStream</a>.</p> <p>With this in mind we simply need to spawn two sockets, by default these listen on port 25 for standard <span class=caps>SMTP</span> and port 465 for <span class=caps>SSL</span>/<span class=caps>TLS</span> encrypted <span class=caps>SMTP</span>. With these two sockets bound we’re then very simply able to listen for incoming connections on either socket and use <cite>socket.socket.getsockname()</cite> to figure out if the connection is to the encrypted or unencrypted socket.</p> <div class=section id=code> <h2>Code</h2> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>connection_stream</span><span class=p>(</span><span class=n>connection</span><span class=p>):</span>
    <span class=sd>"""</span>
<span class=sd>    Detect which socket the connection is being made on,</span>
<span class=sd>    create and iostream for the connection, wrapping it</span>
<span class=sd>    in SSL if connected over the SSL socket.</span>

<span class=sd>    The parameter 'connection' is an instance of 'socket'</span>
<span class=sd>    from stdlib.</span>
<span class=sd>    """</span>
    <span class=k>if</span> <span class=n>connection</span><span class=o>.</span><span class=n>getsockname</span><span class=p>()[</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=n>options</span><span class=o>.</span><span class=n>ssl_port</span> <span class=ow>and</span> <span class=n>options</span><span class=o>.</span><span class=n>ssl</span><span class=p>:</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>ssl_connection</span> <span class=o>=</span> <span class=n>ssl</span><span class=o>.</span><span class=n>wrap_socket</span><span class=p>(</span><span class=n>connection</span><span class=p>,</span> <span class=o>**</span><span class=n>sslkwargs</span><span class=p>)</span>
        <span class=k>except</span> <span class=p>(</span><span class=n>ssl</span><span class=o>.</span><span class=n>SSLError</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>error</span><span class=p>)</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>e</span><span class=o>.</span><span class=n>errno</span> <span class=o>==</span> <span class=n>ssl</span><span class=o>.</span><span class=n>SSL_ERROR_EOF</span> <span class=ow>or</span> <span class=n>e</span><span class=o>.</span><span class=n>errno</span> <span class=o>==</span> <span class=n>errno</span><span class=o>.</span><span class=n>ECONNABORTED</span><span class=p>:</span>
                <span class=n>ssl_connection</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
                <span class=k>return</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=k>raise</span>
        <span class=c1># Do a nasty blanket Exception until SSL exceptions are fully known</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>iostream</span><span class=o>.</span><span class=n>SSLIOStream</span><span class=p>(</span><span class=n>ssl_connection</span><span class=p>)</span>
        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
            <span class=n>log</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
            <span class=n>ssl_connection</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
            <span class=k>return</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>iostream</span><span class=o>.</span><span class=n>IOStream</span><span class=p>(</span><span class=n>connection</span><span class=p>)</span>
</pre></div> <p>So let’s explain a little bit how this works.</p> </div> <div class=section id=if-connection-getsockname> <h2>if connection.getsockname…</h2> <div class=highlight><pre><span></span><span class=k>if</span> <span class=n>connection</span><span class=o>.</span><span class=n>getsockname</span><span class=p>()[</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=n>options</span><span class=o>.</span><span class=n>ssl_port</span> <span class=ow>and</span> <span class=n>options</span><span class=o>.</span><span class=n>ssl</span><span class=p>:</span>
</pre></div> <p>This piece of code checks the second value in the list returned by <cite>getsockname()</cite>, this item in the list will be the port number the socket is listening to.</p> <p>So we simply check to see if it’s the configured <span class=caps>SSL</span>/<span class=caps>TLS</span> port and if <span class=caps>SSL</span>/<span class=caps>TLS</span> is turned on.</p> </div> <div class=section id=st-try-except> <h2>1st try… except…</h2> <div class=highlight><pre><span></span><span class=k>try</span><span class=p>:</span>
    <span class=n>ssl_connection</span> <span class=o>=</span> <span class=n>ssl</span><span class=o>.</span><span class=n>wrap_socket</span><span class=p>(</span><span class=n>connection</span><span class=p>,</span> <span class=o>**</span><span class=n>sslkwargs</span><span class=p>)</span>
<span class=k>except</span> <span class=p>(</span><span class=n>ssl</span><span class=o>.</span><span class=n>SSLError</span><span class=p>,</span> <span class=n>socket</span><span class=o>.</span><span class=n>error</span><span class=p>)</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=k>if</span> <span class=n>e</span><span class=o>.</span><span class=n>errno</span> <span class=o>==</span> <span class=n>ssl</span><span class=o>.</span><span class=n>SSL_ERROR_EOF</span> <span class=ow>or</span> <span class=n>e</span><span class=o>.</span><span class=n>errno</span> <span class=o>==</span> <span class=n>errno</span><span class=o>.</span><span class=n>ECONNABORTED</span><span class=p>:</span>
        <span class=n>ssl_connection</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
        <span class=k>return</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>raise</span>
</pre></div> <p>The first try/except group will attemp to wrap the socket using Python’s built-in <span class=caps>SSL</span>.</p> <div class=highlight><pre><span></span><span class=n>ssl_connection</span> <span class=o>=</span> <span class=n>ssl</span><span class=o>.</span><span class=n>wrap_socket</span><span class=p>(</span><span class=n>connection</span><span class=p>,</span> <span class=o>**</span><span class=n>sslkwargs</span><span class=p>)</span>
</pre></div> <p>If this throws an exception we try to determine what caused it and close the connection, otherwise we raise the exception and crash out. It’s not the nicest way to do it but in theory you shouldn’t be able to reach the else (I may be wrong on this point though…).</p> </div> <div class=section id=nd-try-except> <h2>2nd try… except…</h2> <div class=highlight><pre><span></span><span class=c1># Do a nasty blanket Exception until SSL exceptions are fully known</span>
<span class=k>try</span><span class=p>:</span>
    <span class=k>return</span> <span class=n>iostream</span><span class=o>.</span><span class=n>SSLIOStream</span><span class=p>(</span><span class=n>ssl_connection</span><span class=p>)</span>
<span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
    <span class=n>log</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
    <span class=n>ssl_connection</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
    <span class=k>return</span>
</pre></div> <p>Here we simply try to return an instance of Tornado’s <cite>iostream.SSLIOStream</cite>, if we get any kind of Exception it will be raised, logged and the connection will be close.</p> </div> <div class=section id=else> <h2>else</h2> <div class=highlight><pre><span></span><span class=k>else</span><span class=p>:</span>
    <span class=k>return</span> <span class=n>iostream</span><span class=o>.</span><span class=n>IOStream</span><span class=p>(</span><span class=n>connection</span><span class=p>)</span>
</pre></div> <p>And the final else will return an instance of Tornado’s <cite>iostream.IOStream</cite> if <span class=caps>SSL</span>/<span class=caps>TLS</span> is disabled or if the connection was made to the non <span class=caps>SSL</span>/<span class=caps>TLS</span> port.</p> </div> </section> </div> <div class=eevee-related> <section> <h2>Related articles</h2> <ul> <li> <a href=https://kura.gg/2013/07/31/writing-the-starttls-command-in-to-blackhole/ rel=bookmark title="Permalink to 'Writing the STARTTLS command in to Blackhole'" itemprop=url> Writing the <span class=caps>STARTTLS</span> command in to&nbsp;Blackhole </a> </li> <li> <a href=https://kura.gg/2013/08/18/blackhole-1.8.0-development-mock-and-python-entry-points/ rel=bookmark title="Permalink to 'Blackhole 1.8.0 development, Mock and Python entry_points'" itemprop=url> Blackhole 1.8.0 development, Mock and Python&nbsp;entry_points </a> </li> <li> <a href=https://kura.gg/2013/07/17/djugl-june-2013-talk-on-blackhole-and-blackhole-io/ rel=bookmark title="Permalink to 'DJUGL June 2013 talk on blackhole and blackhole.io'" itemprop=url> <span class=caps>DJUGL</span> June 2013 talk on blackhole and&nbsp;blackhole.io </a> </li> <li> <a href=https://kura.gg/2016/05/21/blackhole-2.0-or-how-i-learned-to-love-asyncio/ rel=bookmark title="Permalink to 'Blackhole 2.0: or, How I Learned to Love Asyncio'" itemprop=url> Blackhole 2.0: or, How I Learned to Love&nbsp;Asyncio </a> </li> <li> <a href=https://kura.gg/2014/09/15/batfish-writing-a-digital-ocean-v2-api-wrapper/ rel=bookmark title="Permalink to 'batfish(1) - writing a Digital Ocean V2 API wrapper'" itemprop=url> batfish(1) - writing a Digital Ocean V2 <span class=caps>API</span>&nbsp;wrapper </a> </li> </ul> </section> </div> <div class=eevee-ac> <header class=eevee-ac__header> <div class=eevee-ac-author__text> <h2>Kura</h2> <p>Anarchist. Pessimist. Bipolar. Hacker. Hyperpolyglot. Musician. Ex pro gamer. Cunt. They/Them.</p> <p> <a href=https://kura.gg/authors/kura/ itemprop=url title="Read more articles by Kura"> Read more articles by Kura </a> </p> <nav> <ul class=eevee-ac-author__social> <li class=eevee-ac-author-social__link> <a class="mdl-color-text--accent mdl-navigation__link" href=https://github.com/kura itemprop=url rel=bookmark title="kura on GitHub"> <i class=fa aria-hidden=true>&#xF09B;</i> </a> </li> </ul> </nav> </div> <img src=/images/avatar.png class=eevee-ac-author__avatar alt=Kura> </header> </div> <div class=eevee-comment id=article-comments> <section itemscope itemtype=http://schema.org/UserComments> <h2>Join the discussion</h2> <div id=disqus_thread></div> <noscript> Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a> </noscript> </section> </div> </article> <a href=https://github.com/kura/kura.gg/blob/main/content/wrapping-a-tornado-iostream-with-ssl.rst id=view-source title="View 'Wrapping a Tornado IOStream with SSL' on GitHub" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-color--accent mdl-color-text--white"> <i class=material-icons>&#xE86F;</i> View Source </a> </div> </div> </main> <div class="eevee-pagination__container eevee-container mdl-grid"> <div role=presentation class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"> </div> <div class="mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"> <nav class="eevee-pagination mdl-cell mdl-cell--12-col" itemscope itemtype=http://schema.org/SiteNavigationElement aria-label=Pagination> <a href=https://kura.gg/2013/07/31/writing-the-starttls-command-in-to-blackhole/ class=eevee-nav__button itemprop=url rel=bookmark title=Newer> <button class="mdl-button mdl-button--icon mdl-color--white mdl-color-text--grey-900" role=presentation> <i class=material-icons>&#xE5C4;</i> </button> Newer </a> <div class=eevee-spacer></div> <a href=https://kura.gg/2013/07/19/haproxy-stats/ class=eevee-nav__button itemprop=url rel=bookmark title=Older> Older <button class="mdl-button mdl-button--icon mdl-color--white mdl-color-text--grey-900" role=presentation> <i class=material-icons>&#xE5C8;</i> </button> </a> </nav> </div> </div> <footer class=mdl-mega-footer itemscope itemtype=http://schema.org/SiteNavigationElement> <div class=mdl-mega-footer--top-section> <div class=mdl-mega-footer--drop-down-section> <ul class=mdl-mega-footer--link-list> <li> <a href=#top itemprop=url title="Back to the top of the page"> Back to the top of the page </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--middle-section itemscope itemtype=http://schema.org/SiteNavigationElement aria-label="Footer navigation"> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Menu</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=/eevee/ itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=/contact/ itemprop=url rel=bookmark title=Contact> <i class=material-icons aria-hidden=true>&#xE0B7;</i> Contact </a> </li> <li> <a href=/software/ itemprop=url rel=bookmark title=Software> <i class=material-icons aria-hidden=true>&#xE86F;</i> Software </a> </li> <li> <a href=https://kura.gg/archives/ itemprop=url rel=bookmark title=Archives> <i class=material-icons>&#xE02F;</i> Archives </a> </li> <li> <a href=https://kura.gg/feeds/rss.xml title=RSS itemprop=url> <i class=material-icons>&#xE0E5;</i> RSS </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Social</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://github.com/kura itemprop=url rel=bookmark title=GitHub> <i class=fa aria-hidden=true>&#xF09B;</i> Github </a> </li> </ul> </div> <div class=mdl-mega-footer--drop-down-section> <h1 class=mdl-mega-footer--heading>Links</h1> <ul class=mdl-mega-footer--link-list> <li> <a href=https://kura.gg/blackhole itemprop=url rel=bookmark title=Blackhole> <i class=material-icons aria-hidden=true>&#xE86F;</i> Blackhole </a> </li> <li> <a href=https://kura.gg/yarg itemprop=url rel=bookmark title=Yarg> <i class=material-icons aria-hidden=true>&#xE86F;</i> Yarg </a> </li> <li> <a href=https://kura.gg/eevee itemprop=url rel=bookmark title=Eevee> <i class=material-icons aria-hidden=true>&#xE871;</i> Eevee </a> </li> <li> <a href=https://kura.gg/hauntr itemprop=url rel=bookmark title=Hauntr> <i class=material-icons aria-hidden=true>&#xE871;</i> Hauntr </a> </li> <li> <a href=https://kura.gg/ghastly itemprop=url rel=bookmark title=Ghastly> <i class=material-icons aria-hidden=true>&#xE871;</i> Ghastly </a> </li> </ul> </div> </div> <div class=mdl-mega-footer--bottom-section> <div class=mdl-logo> <a href=https://kura.gg rel=bookmark itemprop=url title=kura.gg> kura.gg </a> </div> <ul class="eevee-footer mdl-mega-footer--link-list"> <li>Powered by love &amp; rainbow sparkles.</li> <li>Source code and content released under the <a href=/license/ title="MIT license">MIT license</a>.</li> </ul> </div> </footer> </div> <link rel=stylesheet href=https://kura.gg/theme/webassets-external/63377f06b1648775b11ff8e169b4a710_material.yellow-amber.min.css> <link rel=stylesheet href=https://kura.gg/theme/webassets-external/c335929e0083dac14c3a8f107c05dde3_font-awesome.css> <link rel=stylesheet href=https://kura.gg/theme/webassets-external/14c05c94e27da637bc780ad514251b18_material-icons.css> <link rel=stylesheet href=https://kura.gg/theme/webassets-external/a28e8d0a2ff230dae7c257a9f828e3b1_pygments.css> <link rel=stylesheet href=https://kura.gg/theme/webassets-external/0eddd53a34a33f68e0c593881131a436_eevee.css> <link rel=stylesheet href=https://kura.gg/theme/webassets-external/2f21b66ec2ab0b874a1f30d00028e286_custom.css> <script async src=https://kura.gg/theme/webassets-external/508500a2f4aaf072761319722cc50e8a_disqus.js></script> <script async src=https://kura.gg/theme/webassets-external/a7fbc4b6cecaeb63ed7b7d6e2f75e649_material.js></script> </body> </html>